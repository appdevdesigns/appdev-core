steal.has("stealconfig.js","can/util/can.js","can/util/array/each.js","can/util/jquery/jquery.js","can/util/util.js","can/util/bind/bind.js","can/util/string/string.js","can/construct/construct.js","can/observe/observe.js","can/util/string/deparam/deparam.js","can/route/route.js","can/control/control.js","can/control/route/route.js","can/model/model.js","can/view/view.js","can/observe/compute/compute.js","can/view/elements.js","can/view/scanner.js","can/view/node_lists.js","can/view/live.js","can/view/render.js",
"can/view/ejs/ejs.js","can/can.js","can/construct/super/super.js","appdev/ad.js","js/OpenAjax.js","appdev/comm/hub.js","appdev/util/uuid.js","js/async.js","appdev/util/async.js","appdev/util/string.js","appdev/config/config.js","appdev/config/data.js","appdev/sal/web-jquery.js","appdev/comm/socket.js","appdev/model/model.js","appdev/labels/lang.js","appdev/labels/label.js","appdev/widgets/ad_icon_busy/ad_icon_busy.js","appdev/widgets/ad_ui_reauth/ad_ui_reauth.js","appdev/auth/reauth.js","appdev/comm/service.js",
"appdev/UIController.js","appdev/control/control.js","appdev/appdev.js");steal({id:"appdev/production.css",waits:!0,has:["appdev/widgets/ad_ui_reauth/ad_ui_reauth.css","appdev/widgets/ad_icon_busy/ad_icon_busy.css"]});steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery"}},paths:{jquery:"js/jquery.min.js","jquery-ui.js":"js/jquery-ui.min.js","bootstrap.js":"bootstrap/js/bootstrap.js","bootstrap.css":"bootstrap/css/bootstrap.min.css","wijmo-open.js":"js/jquery.wijmo-open.all.3.20142.45.min.js","wijmo-pro.css":"styles/jquery.wijmo-pro.all.3.20142.45.min.css","wijmo-pro.js":"js/jquery.wijmo-pro.all.3.20142.45.min.js","jquery-wijmo.css":"styles/jquery-wijmo.css","font-awesome.css":"styles/font-awesome.css","GenericList.js":"js/GenericList.js",
"select3.js":"select3/select3-full.min.js","select3.css":"select3/select3.css","dropzone.js":"js/dropzone/dropzone.min.js","dropzone.css":"js/dropzone/dropzone.min.css"},shim:{jquery:{exports:"jQuery",ignore:!0},"js/dependencies/sails.io.js":{packaged:!1,ignore:!0},"site/labels/appdev.js":{packaged:!1,ignore:!0},"jquery-ui.js":{packaged:!1},"bootstrap.js":{packaged:!1},"wijmo-open.js":{packaged:!1},"wijmo-pro.js":{packaged:!1},"jquery-wijmo.css":{packaged:!1},"font-awesome.css":{packaged:!1},"js/jquery.sidr.min.js":{packaged:!1},
"bootstrap/js/bootstrap-datepicker.js":{packaged:!1},"opsportal/requirements.js":{ignore:!0},"site/labels/OpsPortal.js":{packaged:!1,ignore:!0},"site/labels/opstool-Dashboard.js":{packaged:!1,ignore:!0},"js/datatables/media/js/jquery.dataTables.min.js":{packaged:!1},"js/sDashboard/sDashboard.css":{packaged:!1},"js/Flotr2/flotr2.min.js":{packaged:!1},"js/sDashboard/jquery-sDashboard.js":{packaged:!1},"wijmo-pro.css":{packaged:!1},"site/labels/HrisAdminObjects.js":{packaged:!1,ignore:!0},"site/labels/HRISUserProfile.js":{packaged:!1,
ignore:!0},"dropzone.js":{packaged:!1},"dropzone.css":{packaged:!1},"site/labels/opstool-MPDReport.js":{packaged:!1,ignore:!0},"site/labels/opstools/RBAC.js":{packaged:!1,ignore:!0},"site/labels/opstools-GMAMatrix.js":{packaged:!1,ignore:!0},"select3.js":{packaged:!1},"select3.css":{packaged:!1},"site/labels/opstool-FCFActivities.js":{packaged:!1,ignore:!0}},amd:!1});steal.executed("stealconfig.js");
steal(function(){var a=window.can||{};if("undefined"===typeof GLOBALCAN||!1!==GLOBALCAN)window.can=a;a.isDeferred=function(a){var b=this.isFunction;return a&&b(a.then)&&b(a.pipe)};var b=0;a.cid=function(a,g){return a._cid?a._cid:a._cid=(g||"")+ ++b};a.VERSION="@EDGE";return a});steal.executed("can/util/can.js");
steal("can/util/can.js",function(a){a.each=function(a,d,g){var c=0,f;if(a)if("number"===typeof a.length&&a.pop){a.attr&&a.attr("length");for(f=a.length;c<f&&!1!==d.call(g||a[c],a[c],c,a);c++);}else if(a.hasOwnProperty)for(f in a)if(a.hasOwnProperty(f)&&!1===d.call(g||a[f],a[f],f,a))break;return a};return a});steal.executed("can/util/array/each.js");
steal("jquery","can/util/can.js","can/util/array/each.js",function(a,b){a.extend(b,a,{trigger:function(b,c,d){b.trigger?b.trigger(c,d):a.event.trigger(c,d,b,!0)},addEvent:function(b,c){a([this]).bind(b,c);return this},removeEvent:function(b,c){a([this]).unbind(b,c);return this},buildFragment:function(b,c){var d=a.buildFragment,b=[b],c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d=d.call(jQuery,b,c);return d.cacheable?a.clone(d.fragment):d.fragment||d},$:a,each:b.each});a.each(["bind",
"unbind","undelegate","delegate"],function(d,c){b[c]=function(){var b=this[c]?this:a([this]);b[c].apply(b,arguments);return this}});a.each("append filter addClass remove data get".split(" "),function(a,c){b[c]=function(a){return a[c].apply(a,b.makeArray(arguments).slice(1))}});var d=a.cleanData;a.cleanData=function(g){a.each(g,function(a,d){d&&b.trigger(d,"destroyed",[],!1)});d(g)};return b});steal.executed("can/util/jquery/jquery.js");steal("can/util/jquery",function(a){return a});steal.executed("can/util/util.js");
steal("can/util",function(a){a.bindAndSetup=function(){a.addEvent.apply(this,arguments);this._init||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup()));return this};a.unbindAndTeardown=function(b,d){a.removeEvent.apply(this,arguments);this._bindings--;this._bindings||this._bindteardown&&this._bindteardown();return this};return a});steal.executed("can/util/bind/bind.js");
steal("can/util",function(a){var b=/\=\=/,d=/([A-Z]+)([A-Z][a-z])/g,g=/([a-z\d])([A-Z])/g,c=/([a-z\d])([A-Z])/g,f=/\{([^\}]+)\}/g,i=/"/g,k=/'/g,j=function(a,b,c){var h=a[b];void 0===h&&!0===c&&(h=a[b]={});return h};a.extend(a,{esc:function(a){return(""+(null===a||void 0===a||isNaN(a)&&"NaN"===""+a?"":a)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(i,"&#34;").replace(k,"&#39;")},getObject:function(e,b,c){var e=e?e.split("."):[],h=e.length,d,f=0,n,g,l,b=a.isArray(b)?b:[b||
window];l=b.length;if(!h)return b[0];for(f;f<l;f++){d=b[f];g=void 0;for(n=0;n<h&&/^f|^o/.test(typeof d);n++)g=d,d=j(g,e[n]);if(void 0!==g&&void 0!==d)break}!1===c&&void 0!==d&&delete g[e[n-1]];if(!0===c&&void 0===d){d=b[0];for(n=0;n<h&&/^f|^o/.test(typeof d);n++)d=j(d,e[n],!0)}return d},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},underscore:function(a){return a.replace(b,"/").replace(d,"$1_$2").replace(g,"$1_$2").replace(c,"_").toLowerCase()},sub:function(b,c,d){var h=[];h.push((b||
"").replace(f,function(b,e){var n=a.getObject(e,c,!0===d?!1:void 0);return void 0===n||null===n?(h=null,""):/^f|^o/.test(typeof n)&&h?(h.push(n),""):""+n}));return null===h?h:1>=h.length?h[0]:h},replacer:f,undHash:/_|-/});return a});steal.executed("can/util/string/string.js");
steal("can/util/string",function(a){var b=0;a.Construct=function(){if(arguments.length)return a.Construct.extend.apply(a.Construct,arguments)};a.extend(a.Construct,{constructorExtends:!0,newInstance:function(){var a=this.instance(),b;a.setup&&(b=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b||arguments);return a},_inherit:function(b,g,c){a.extend(c||b,b||{})},_overwrite:function(a,b,c,f){a[c]=f},setup:function(b){this.defaults=a.extend(!0,{},b.defaults,this.defaults)},instance:function(){b=
1;var a=new this;b=0;return a},extend:function(d,g,c){function f(){if(!b)return this.constructor!==f&&arguments.length&&f.constructorExtends?arguments.callee.extend.apply(arguments.callee,arguments):f.newInstance.apply(f,arguments)}"string"!=typeof d&&(c=g,g=d,d=null);c||(c=g,g=null);var c=c||{},i=this.prototype,k,j,e,o;o=this.instance();a.Construct._inherit(c,i,o);for(k in this)this.hasOwnProperty(k)&&(f[k]=this[k]);a.Construct._inherit(g,this,f);if(d){e=d.split(".");j=e.pop();e=i=a.getObject(e.join("."),
window,!0);var m=a.underscore(d.replace(/\./g,"_")),h=a.underscore(j);i[j]=f}a.extend(f,{constructor:f,prototype:o,namespace:e,_shortName:h,fullName:d,_fullName:m});void 0!==j&&(f.shortName=j);f.prototype.constructor=f;j=[this].concat(a.makeArray(arguments));o=f.setup.apply(f,j);f.init&&f.init.apply(f,o||j);return f}});a.Construct.prototype.setup=function(){};a.Construct.prototype.init=function(){};return a.Construct});steal.executed("can/construct/construct.js");
steal("can/util","can/util/bind","can/construct",function(a){var b=function(b){return b&&!a.isDeferred(b)&&(a.isArray(b)||a.isPlainObject(b)||b instanceof a.Observe)},d=function(b,e){return a.each(b,function(a){a&&a.unbind&&a.unbind("change"+e)})},g=function(b,e,l,p,j){p=p||h;j=j||h.List;b instanceof h?l._bindings&&d([b],l._cid):b=a.isArray(b)?new j(b):new p(b);l._bindings&&c(b,e,l);return b},c=function(b,e,l){b.bind("change"+l._cid,function(){var c=a.makeArray(arguments),h=c.shift();c[0]=("*"===
e?[l.indexOf(b),c[0]]:[e,c[0]]).join(".");h.triggeredNS=h.triggeredNS||{};h.triggeredNS[l._cid]||(h.triggeredNS[l._cid]=!0,a.trigger(l,h,c))})},f=function(e,c,l){e.each(function(e,h){l[h]=b(e)&&a.isFunction(e[c])?e[c]():e});return l},i=function(b,e){return e?[b]:a.isArray(b)?b:(""+b).split(".")},k=1,j=0,e=[],o=[],m=function(a){return function(){var b=this;this._each(function(e,h){e&&e.bind&&c(e,a||h,b)})}},h=a.Map=a.Observe=a.Construct({bind:a.bindAndSetup,unbind:a.unbindAndTeardown,id:"id",canMakeObserve:b,
startBatch:function(a){j++;a&&o.push(a)},stopBatch:function(b,c){b?j=0:j--;if(0==j){var l=e.slice(0),h=o.slice(0);e=[];o=[];k++;c&&this.startBatch();a.each(l,function(b){a.trigger.apply(a,b)});a.each(h,function(a){a()})}},triggerBatch:function(b,c,l){if(!b._init){if(0==j)return a.trigger(b,c,l);c="string"===typeof c?{type:c}:c;c.batchNum=k;e.push([b,c,l])}},keys:function(a){var b=[];h.__reading&&h.__reading(a,"__keys");for(var e in a._data)b.push(e);return b}},{setup:function(b){this._data={};a.cid(this,
".observe");this._init=1;this.attr(b);this.bind("change"+this._cid,a.proxy(this._changes,this));delete this._init},_bindsetup:m(),_bindteardown:function(){var a=this._cid;this._each(function(b){d([b],a)})},_changes:function(a,b,e,c,d){h.triggerBatch(this,{type:b,batchNum:a.batchNum},[c,d])},_triggerChange:function(b,e,l,c){h.triggerBatch(this,"change",a.makeArray(arguments))},_each:function(a){var b=this.__get(),e;for(e in b)b.hasOwnProperty(e)&&a(b[e],e)},attr:function(a,b){var e=typeof a;if("string"!==
e&&"number"!==e)return this._attrs(a,b);if(1===arguments.length)return h.__reading&&h.__reading(this,a),this._get(a);this._set(a,b);return this},each:function(){h.__reading&&h.__reading(this,"__keys");return a.each.apply(void 0,[this.__get()].concat(a.makeArray(arguments)))},removeAttr:function(b){var e=this instanceof a.Observe.List,b=i(b),c=b.shift(),p=e?this[c]:this._data[c];if(b.length)return p.removeAttr(b);e?this.splice(c,1):c in this._data&&(delete this._data[c],c in this.constructor.prototype||
delete this[c],h.triggerBatch(this,"__keys"),this._triggerChange(c,"remove",void 0,p));return p},_get:function(a){var b="string"===typeof a&&!!~a.indexOf(".")&&this.__get(a);if(b)return b;a=i(a);b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,e,c){var a=i(a,c),c=a.shift(),h=this.__get(c);if(b(h)&&a.length)h._set(a,e);else{if(a.length)throw"can.Observe: Object does not exist";this.__convert&&(e=this.__convert(c,e));
this.__set(c,e,h)}},__set:function(a,e,c){if(e!==c){var p=this.__get().hasOwnProperty(a)?"set":"add";this.___set(a,b(e)?g(e,a,this):e);"add"==p&&h.triggerBatch(this,"__keys",void 0);this._triggerChange(a,p,e,c);c&&d([c],this._cid)}},___set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:a.bindAndSetup,unbind:a.unbindAndTeardown,serialize:function(){return f(this,"serialize",{})},_attrs:function(e,c){if(void 0===e)return f(this,"attr",{});var e=a.extend({},e),l,p=this,
d;h.startBatch();this.each(function(l,h){d=e[h];void 0===d?c&&p.removeAttr(h):(p.__convert&&(d=p.__convert(h,d)),d instanceof a.Observe?p.__set(h,d,l):b(l)&&b(d)&&l.attr?l.attr(d,c):l!=d&&p.__set(h,d,l),delete e[h])});for(l in e)d=e[l],this._set(l,d,!0);h.stopBatch();return this},compute:function(b){return a.compute(this,b)}}),q=[].splice,r=h({setup:function(b,e){this.length=0;a.cid(this,".observe");this._init=1;a.isDeferred(b)?this.replace(b):this.push.apply(this,a.makeArray(b||[]));this.bind("change"+
this._cid,a.proxy(this._changes,this));a.extend(this,e);delete this._init},_triggerChange:function(a,b,e,c){h.prototype._triggerChange.apply(this,arguments);~a.indexOf(".")||("add"===b?(h.triggerBatch(this,b,[e,+a]),h.triggerBatch(this,"length",[this.length])):"remove"===b?(h.triggerBatch(this,b,[c,+a]),h.triggerBatch(this,"length",[this.length])):h.triggerBatch(this,b,[e,+a]))},__get:function(a){return a?this[a]:this},___set:function(a,b){this[a]=b;+a>=this.length&&(this.length=+a+1)},_each:function(a){for(var b=
this.__get(),e=0;e<b.length;e++)a(b[e],e)},_bindsetup:m("*"),serialize:function(){return f(this,"serialize",[])},splice:function(e,c){var h=a.makeArray(arguments),p;for(p=2;p<h.length;p++){var j=h[p];b(j)&&(h[p]=g(j,"*",this,this.constructor.Observe,this.constructor))}void 0===c&&(c=h[1]=this.length-e);p=q.apply(this,h);a.Observe.startBatch();0<c&&(this._triggerChange(""+e,"remove",void 0,p),d(p,this._cid));2<h.length&&this._triggerChange(""+e,"add",h.slice(2),p);a.Observe.stopBatch();return p},_attrs:function(b,
e){if(void 0===b)return f(this,"attr",[]);b=a.makeArray(b);h.startBatch();this._updateAttrs(b,e);h.stopBatch()},_updateAttrs:function(a,e){for(var c=Math.min(a.length,this.length),h=0;h<c;h++){var d=this[h],j=a[h];b(d)&&b(j)?d.attr(j,e):d!=j&&this._set(h,j)}a.length>this.length?this.push.apply(this,a.slice(this.length)):a.length<this.length&&e&&this.splice(a.length)}});a.each({push:"length",unshift:0},function(a,e){var c=[][e];r.prototype[e]=function(){for(var e=[],h=a?this.length:0,d=arguments.length,
j;d--;)j=arguments[d],e[d]=b(j)?g(j,"*",this,this.constructor.Observe,this.constructor):j;d=c.apply(this,e);(!this.comparator||e.length)&&this._triggerChange(""+h,"add",e,void 0);return d}});a.each({pop:"length",shift:0},function(b,e){r.prototype[e]=function(){var c=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),h=b&&this.length?this.length-1:0,c=[][e].apply(this,c);this._triggerChange(""+h,"remove",void 0,[c]);c&&c.unbind&&c.unbind("change"+this._cid);return c}});a.extend(r.prototype,
{indexOf:function(b){this.attr("length");return a.inArray(b,this)},join:[].join,reverse:[].reverse,slice:function(){return new this.constructor(Array.prototype.slice.apply(this,arguments))},concat:function(){var b=[];a.each(a.makeArray(arguments),function(e,c){b[c]=e instanceof a.Observe.List?e.serialize():e});return new this.constructor(Array.prototype.concat.apply(this.serialize(),b))},forEach:function(b,e){a.each(this,b,e||this)},replace:function(b){a.isDeferred(b)?b.then(a.proxy(this.replace,
this)):this.splice.apply(this,[0,this.length].concat(a.makeArray(b||[])));return this}});a.List=h.List=r;h.setup=function(){a.Construct.setup.apply(this,arguments);this.List=h.List({Observe:this},{})};return h});steal.executed("can/observe/observe.js");
steal("can/util","can/util/string",function(a){var b=/^\d+$/,d=/([^\[\]]+)|(\[\])/g,g=/([^?#]*)(#.*)?$/,c=function(a){return decodeURIComponent(a.replace(/\+/g," "))};a.extend(a,{deparam:function(f){var i={},k;f&&g.test(f)&&(f=f.split("&"),a.each(f,function(a){var a=a.split("="),e=c(a.shift()),f=c(a.join("=")),g=i;if(e){for(var a=e.match(d),e=0,h=a.length-1;e<h;e++)g[a[e]]||(g[a[e]]=b.test(a[e+1])||"[]"==a[e+1]?[]:{}),g=g[a[e]];k=a.pop();"[]"==k?g.push(f):g[k]=f}}));return i}});return a});steal.executed("can/util/string/deparam/deparam.js");
steal("can/util","can/observe","can/util/string/deparam",function(a){var b=/\:([\w\.]+)/g,d=function(b){var e=[];a.each(b,function(b,c){e.push(("className"===c?"class":c)+'="'+("href"===c?b:a.esc(b))+'"')});return e.join(" ")},g=function(a,b){var e=0,c=0,h={},d;for(d in a.defaults)a.defaults[d]===b[d]&&(h[d]=1,e++);for(;c<a.names.length;c++){if(!b.hasOwnProperty(a.names[c]))return-1;h[a.names[c]]||e++}return e},c=!0,f=window.location,i=a.each,k=a.extend;a.route=function(e,c){var c=c||{},h=[],d=e.replace(b,
function(b,d,j){h.push(d);return"([^\\"+(e.substr(j+b.length,1)||a.route._querySeparator)+"]"+(c[d]?"*":"+")+")"});a.route.routes[e]={test:RegExp("^"+d+"($|"+(a.route._querySeparator+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")+")"),route:e,names:h,defaults:c,length:e.split("/").length};return a.route};k(a.route,{_querySeparator:"&",_paramsMatcher:/^(?:&[^=]+=[^&]*)+/,param:function(e,c){var h,d=0,l,j=e.route,f=0;delete e.route;i(e,function(){f++});i(a.route.routes,function(a){l=g(a,e);l>d&&(h=
a,d=l);if(l>=f)return!1});a.route.routes[j]&&g(a.route.routes[j],e)===d&&(h=a.route.routes[j]);if(h){var m=k({},e),j=h.route.replace(b,function(a,b){delete m[b];return e[b]===h.defaults[b]?"":encodeURIComponent(e[b])}),o;i(h.defaults,function(a,b){m[b]===a&&delete m[b]});o=a.param(m);c&&a.route.attr("route",h.route);return j+(o?a.route._querySeparator+o:"")}return a.isEmptyObject(e)?"":a.route._querySeparator+a.param(e)},deparam:function(b){var e={length:-1};i(a.route.routes,function(a){a.test.test(b)&&
a.length>e.length&&(e=a)});if(-1<e.length){var c=b.match(e.test),h=c.shift(),d=(h=b.substr(h.length-(c[c.length-1]===a.route._querySeparator?1:0)))&&a.route._paramsMatcher.test(h)?a.deparam(h.slice(1)):{},d=k(!0,{},e.defaults,d);i(c,function(b,c){b&&b!==a.route._querySeparator&&(d[e.names[c]]=decodeURIComponent(b))});d.route=e.route;return d}b.charAt(0)!==a.route._querySeparator&&(b=a.route._querySeparator+b);return a.route._paramsMatcher.test(b)?a.deparam(b.slice(1)):{}},data:new a.Observe({}),routes:{},
ready:function(b){!1===b&&(c=b);if(!0===b||!0===c)a.route._setup(),o();return a.route},url:function(b,c){c&&(b=k({},e,b));return"#!"+a.route.param(b)},link:function(b,e,c,h){return"<a "+d(k({href:a.route.url(e,h)},c))+">"+b+"</a>"},current:function(b){return f.hash=="#!"+a.route.param(b)},_setup:function(){a.bind.call(window,"hashchange",o)},_getHash:function(){return f.href.split(/#!?/)[1]||""},_setHash:function(b){b=a.route.param(b,!0);f.hash="#!"+b;return b}});i("bind unbind delegate undelegate attr removeAttr".split(" "),
function(b){a.route[b]=function(){if(a.route.data[b])return a.route.data[b].apply(a.route.data,arguments)}});var j,e,o=a.route.setState=function(){var b=a.route._getHash();e=a.route.deparam(b);(!h||b!==m)&&a.route.attr(e,!0)},m,h;a.route.bind("change",function(){h=1;clearTimeout(j);j=setTimeout(function(){h=0;var b=a.route.data.serialize();m=a.route._setHash(b)},1)});a.bind.call(document,"ready",a.route.ready);("complete"===document.readyState||"interactive"===document.readyState)&&c&&a.route.ready();
a.route.constructor.canMakeObserve=a.Observe.canMakeObserve;return a.route});steal.executed("can/route/route.js");
steal("can/util","can/construct",function(a){var b=function(b,e,c){a.bind.call(b,e,c);return function(){a.unbind.call(b,e,c)}},d=a.isFunction,g=a.extend,c=a.each,f=[].slice,i=/\{([^\}]+)\}/g,k=a.getObject("$.event.special",[a])||{},j=function(b,e,c,d){a.delegate.call(b,e,c,d);return function(){a.undelegate.call(b,e,c,d)}},e,o=a.Control=a.Construct({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Control){var b;this.actions={};for(b in this.prototype)this._isAction(b)&&(this.actions[b]=
this._action(b))}},_shifter:function(b,e){var c="string"==typeof e?b[e]:e;d(c)||(c=b[c]);return function(){b.called=e;return c.apply(b,[this.nodeName?a.$(this):this].concat(f.call(arguments,0)))}},_isAction:function(a){var b=this.prototype[a],e=typeof b;return"constructor"!==a&&("function"==e||"string"==e&&d(this.prototype[b]))&&!(!k[a]&&!m[a]&&!/[^\w]/.test(a))},_action:function(b,c){i.lastIndex=0;if(c||!i.test(b)){var d=c?a.sub(b,[c,window]):b;if(!d)return null;var j=a.isArray(d),f=j?d[1]:d,l=f.split(/\s+/g),
p=l.pop();return{processor:m[p]||e,parts:[f,l.join(" "),p],delegate:j?d[0]:void 0}}},processors:{},defaults:{}},{setup:function(b,e){var c=this.constructor,d=c.pluginName||c._fullName;this.element=a.$(b);d&&"can_control"!==d&&this.element.addClass(d);(d=a.data(this.element,"controls"))||a.data(this.element,"controls",d=[]);d.push(this);this.options=g({},c.defaults,e);this.on();return[this.element,this.options]},on:function(e,c,d,f){if(!e){this.off();var e=this.constructor,c=this._bindings,d=e.actions,
f=this.element,g=a.Control._shifter(this,"destroy"),l,p;for(l in d)if(d.hasOwnProperty(l)&&(p=d[l]||e._action(l,this.options)))c.push(p.processor(p.delegate||f,p.parts[2],p.parts[1],l,this));a.bind.call(f,"destroyed",g);c.push(function(b){a.unbind.call(b,"destroyed",g)});return c.length}"string"==typeof e&&(f=d,d=c,c=e,e=this.element);void 0===f&&(f=d,d=c,c=null);"string"==typeof f&&(f=a.Control._shifter(this,f));this._bindings.push(c?j(e,a.trim(c),d,f):b(e,d,f));return this._bindings.length},off:function(){var a=
this.element[0];c(this._bindings||[],function(b){b(a)});this._bindings=[]},destroy:function(){if(null!==this.element){var b=this.constructor,b=b.pluginName||b._fullName;this.off();b&&"can_control"!==b&&this.element.removeClass(b);b=a.data(this.element,"controls");b.splice(a.inArray(this,b),1);a.trigger(this,"destroyed");this.element=null}}}),m=a.Control.processors;e=function(e,c,d,f,g){f=a.Control._shifter(g,f);return d?j(e,a.trim(d),c,f):b(e,c,f)};c("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave touchstart touchmove touchcancel touchend touchleave".split(" "),
function(a){m[a]=e});return o});steal.executed("can/control/control.js");steal("can/util","can/route","can/control",function(a){a.Control.processors.route=function(b,d,g,c,f){g=g||"";a.route(g);var i,k=function(b){if(a.route.attr("route")===g&&(void 0===b.batchNum||b.batchNum!==i))if(i=b.batchNum,b=a.route.attr(),delete b.route,a.isFunction(f[c]))f[c](b);else f[f[c]](b)};a.route.bind("change",k);return function(){a.route.unbind("change",k)}};return a});steal.executed("can/control/route/route.js");
steal("can/util","can/observe",function(a){var b=function(b,e,c){var d=new a.Deferred;b.then(function(){var b=a.makeArray(arguments);try{b[0]=e[c](b[0]),d.resolveWith(d,b)}catch(j){d.rejectWith(d,[j].concat(b))}},function(){d.rejectWith(this,arguments)});"function"===typeof b.abort&&(d.abort=function(){return b.abort()});return d},d=0,g=function(b){a.Observe.__reading&&a.Observe.__reading(b,b.constructor.id);return b.__get(b.constructor.id)},c=function(b,e,c,d,h){var f;a.isArray(b)?(f=b[1],b=b[0]):
f=b.serialize();f=[f];var k=b.constructor,i;"destroy"==e&&f.shift();"create"!==e&&f.unshift(g(b));i=k[e].apply(k,f);f=i.pipe(function(a){b[h||e+"d"](a,i);return b});i.abort&&(f.abort=function(){i.abort()});f.then(c,d);return f},f={create:{url:"_shortName",type:"post"},update:{data:function(b,e){var e=e||{},c=this.id;e[c]&&e[c]!==b&&(e["new"+a.capitalize(b)]=e[c],delete e[c]);e[c]=b;return e},type:"put"},destroy:{type:"delete",data:function(a){var b={};b.id=b[this.id]=a;return b}},findAll:{url:"_shortName"},
findOne:{}},i=function(b,e){return function(c){var c=b.data?b.data.apply(this,arguments):c,d=e||this[b.url||"_url"],h=c,f=b.type||"get",g={};"string"==typeof d?(d=d.split(/\s+/),g.url=d.pop(),d.length&&(g.type=d.pop())):a.extend(g,d);g.data="object"==typeof h&&!a.isArray(h)?a.extend(g.data||{},h):h;g.url=a.sub(g.url,g.data,!0);return a.ajax(a.extend({type:f||"post",dataType:"json",success:void 0,error:void 0},g))}};a.Model=a.Observe({fullName:"can.Model",_reqs:0,setup:function(b){this.store={};a.Observe.setup.apply(this,
arguments);if(a.Model){this.List=k({Observe:this},{});var e=this,c=a.proxy(this._clean,e);a.each(f,function(d,h){a.isFunction(e[h])||(e[h]=i(d,e[h]));if(e["make"+a.capitalize(h)]){var f=e["make"+a.capitalize(h)](e[h]);a.Construct._overwrite(e,b,h,function(){a.Model._reqs++;var b=f.apply(this,arguments),e=b.then(c,c);e.abort=b.abort;return e})}});if("can.Model"==e.fullName||!e.fullName)e.fullName="Model"+ ++d;a.Model._reqs=0;this._url=this._shortName+"/{"+this.id+"}"}},_ajax:i,_makeRequest:c,_clean:function(b){a.Model._reqs--;
if(!a.Model._reqs)for(var e in this.store)this.store[e]._bindings||delete this.store[e];return b},models:function(b,e){a.Model._reqs++;if(b){if(b instanceof this.List)return b;var c=this,d=[],h=e instanceof a.Observe.List?e:new (c.List||k),f=a.isArray(b),g=b instanceof k,g=f?b:g?b.serialize():b.data;if("undefined"===typeof g)throw Error("Could not get any raw data while converting using .models");h.length&&h.splice(0);a.each(g,function(a){d.push(c.model(a))});h.push.apply(h,d);f||a.each(b,function(a,
b){"data"!==b&&h.attr(b,a)});setTimeout(a.proxy(this._clean,this),1);return h}},model:function(b){if(b){"function"===typeof b.serialize&&(b=b.serialize());var e=b[this.id],e=(e||0===e)&&this.store[e]?this.store[e].attr(b,this.removeAttr||!1):new this(b);a.Model._reqs&&(this.store[b[this.id]]=e);return e}}},{isNew:function(){var a=g(this);return!(a||0===a)},save:function(a,b){return c(this,this.isNew()?"create":"update",a,b)},destroy:function(b,e){if(this.isNew()){var d=this,f=a.Deferred();f.then(b,
e);return f.done(function(a){d.destroyed(a)}).resolve(d)}return c(this,"destroy",b,e,"destroyed")},_bindsetup:function(){this.constructor.store[this.__get(this.constructor.id)]=this;return a.Observe.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){delete this.constructor.store[g(this)];return a.Observe.prototype._bindteardown.apply(this,arguments)},___set:function(b,e){a.Observe.prototype.___set.call(this,b,e);b===this.constructor.id&&this._bindings&&(this.constructor.store[g(this)]=
this)}});a.each({makeFindAll:"models",makeFindOne:"model",makeCreate:"model",makeUpdate:"model"},function(c,e){a.Model[e]=function(e){return function(){var d=a.makeArray(arguments),h=a.isFunction(d[1])?d.splice(0,1):d.splice(0,2),h=b(e.apply(this,h),this,c);h.then(d[0],d[1]);return h}}});a.each(["created","updated","destroyed"],function(b){a.Model.prototype[b]=function(e){var c=this.constructor;e&&"object"==typeof e&&this.attr(e.attr?e.attr():e);a.trigger(this,"change",b);a.trigger(c,b,this)}});var k=
a.Model.List=a.Observe.List({setup:function(b){a.isPlainObject(b)&&!a.isArray(b)?(a.Observe.List.prototype.setup.apply(this),this.replace(this.constructor.Observe.findAll(b))):a.Observe.List.prototype.setup.apply(this,arguments)},_changes:function(b,e){a.Observe.List.prototype._changes.apply(this,arguments);if(/\w+\.destroyed/.test(e)){var c=this.indexOf(b.target);-1!=c&&this.splice(c,1)}}});return a.Model});steal.executed("can/model/model.js");
steal("can/util",function(a){var b=a.isFunction,d=a.makeArray,g=1,c=a.view=a.template=function(e,d,f,h){b(f)&&(h=f,f=void 0);var g=b(h)?function(a){h(c.frag(a))}:null,e=c.render(e,d,f,g),k=a.Deferred();return b(e)?e:a.isDeferred(e)?(e.then(function(a,b){k.resolve.call(k,c.frag(a),b)},function(){k.fail.apply(k,arguments)}),k):c.frag(e)};a.extend(c,{frag:function(a,b){return c.hookup(c.fragment(a),b)},fragment:function(b){b=a.buildFragment(b,document.body);b.childNodes.length||b.appendChild(document.createTextNode(""));
return b},toId:function(b){return a.map(b.toString().split(/\/|\./g),function(a){if(a)return a}).join("_")},hookup:function(b,d){var f=[],h,g;a.each(b.childNodes?a.makeArray(b.childNodes):b,function(b){1===b.nodeType&&(f.push(b),f.push.apply(f,a.makeArray(b.getElementsByTagName("*"))))});a.each(f,function(a){if(a.getAttribute&&(h=a.getAttribute("data-view-id"))&&(g=c.hookups[h]))g(a,d,h),delete c.hookups[h],a.removeAttribute("data-view-id")});return b},hookups:{},hook:function(a){c.hookups[++g]=a;
return" data-view-id='"+g+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(a){this.types["."+a.suffix]=a},types:{},ext:".ejs",registerScript:function(){},preload:function(){},render:function(e,f,g,h){b(g)&&(h=g,g=void 0);var q=k(f);if(q.length){var r=new a.Deferred,n=a.extend({},f);q.push(i(e,!0));a.when.apply(a,q).then(function(b){var e=d(arguments),c=e.pop();if(a.isDeferred(f))n=j(b);else for(var k in f)a.isDeferred(f[k])&&(n[k]=j(e.shift()));e=c(n,g);r.resolve(e,n);h&&h(e,n)},function(){r.reject.apply(r,
arguments)});return r}var s,q=b(h),r=i(e,q);if(q)s=r,r.then(function(a){h(f?a(f,g):a)});else{if("resolved"===r.state()&&r.__view_id)return e=c.cachedRenderers[r.__view_id],f?e(f,g):e;r.then(function(a){s=f?a(f,g):a})}return s},registerView:function(b,d,f,h){d=(f||c.types[c.ext]).renderer(b,d);h=h||new a.Deferred;c.cache&&(c.cached[b]=h,h.__view_id=b,c.cachedRenderers[b]=d);return h.resolve(d)}});var f=function(a,b){if(!a.length)throw"can.view: No template or empty template:"+b;},i=function(b,d){var g=
b.match(/\.[\w\d]+$/),h,k,j;b.match(/^#/)&&(b=b.substr(1));if(k=document.getElementById(b))g="."+k.type.match(/\/(x\-)?(.+)/)[2];!g&&!c.cached[b]&&(b+=g=c.ext);a.isArray(g)&&(g=g[0]);j=c.toId(b);if(b.match(/^\/\//))var i=b.substr(2),b=!window.steal?i:steal.config().root.mapJoin(""+steal.id(i));h=c.types[g];if(c.cached[j])return c.cached[j];if(k)return c.registerView(j,k.innerHTML,h);var s=new a.Deferred;a.ajax({async:d,url:b,dataType:"text",error:function(a){f("",b);s.reject(a)},success:function(a){f(a,
b);c.registerView(j,a,h,s)}});return s},k=function(b){var c=[];if(a.isDeferred(b))return[b];for(var d in b)a.isDeferred(b[d])&&c.push(b[d]);return c},j=function(b){return a.isArray(b)&&"success"===b[1]?b[0]:b};window.steal&&steal.type("view js",function(a,b){var d=c.types["."+a.type],f=c.toId(a.id);a.text="steal('"+(d.plugin||"can/view/"+a.type)+"',function(can){return can.view.preload('"+f+"',"+a.text+");\n})";b()});a.extend(c,{register:function(b){this.types["."+b.suffix]=b;window.steal&&steal.type(b.suffix+
" view js",function(a,b){var e=c.types["."+a.type],d=c.toId(a.id+"");a.text=e.script(d,a.text);b()});c[b.suffix]=function(d,f){if(!f){var h=function(){return c.frag(h.render.apply(this,arguments))};h.render=function(){var a=b.renderer(null,d);return a.apply(a,arguments)};return h}c.preload(d,b.renderer(d,f));return a.view(d)}},registerScript:function(a,b,d){return"can.view.preload('"+b+"',"+c.types["."+a].script(b,d)+");"},preload:function(b,d){function f(){return c.frag(d.apply(this,arguments))}
var h=c.cached[b]=(new a.Deferred).resolve(function(a,b){return d.call(a,a,b)});f.render=d;h.__view_id=b;c.cachedRenderers[b]=d;return f}});return a});steal.executed("can/view/view.js");
steal("can/util","can/util/bind",function(a){var b=function(b,c){var d;a.Observe&&(d=a.Observe.__reading,a.Observe.__reading=function(a,b){i.push({obj:a,attr:b+""})});var i=[],k=b.call(c);a.Observe&&(a.Observe.__reading=d);return{value:k,observed:i}},d=function(d,c,f,i){var k={},j=!0,e={value:void 0,teardown:function(){for(var a in k){var b=k[a];b.observe.obj.unbind(b.observe.attr,m);delete k[a]}}},o,m=function(a){if(!i||i.bound)if(void 0===a.batchNum||a.batchNum!==o){var b=e.value,c=h();e.value=
c;c!==b&&f(c,b);o=o=a.batchNum}},h=function(){var e=b(d,c),f=e.observed,e=e.value;j=!j;a.each(f,function(a){k[a.obj._cid+"|"+a.attr]?k[a.obj._cid+"|"+a.attr].matched=j:(k[a.obj._cid+"|"+a.attr]={matched:j,observe:a},a.obj.bind(a.attr,m))});for(var h in k)f=k[h],f.matched!==j&&(f.observe.obj.unbind(f.observe.attr,m),delete k[h]);return e};e.value=h();e.isListening=!a.isEmptyObject(k);return e};a.compute=function(g,c,f){if(g&&g.isComputed)return g;var i,k,j={bound:!1,hasDependencies:!1},e=function(){},
o=function(){},m,h=function(){return m},q=function(a){m=a},r=!0;k=function(b){if(arguments.length){var e=m,d=q.call(c,b,e);if(k.hasDependencies)return h.call(c);m=void 0===d?h.call(c):d;e!==m&&a.Observe.triggerBatch(k,"change",[m,e]);return m}a.Observe&&(a.Observe.__reading&&r)&&a.Observe.__reading(k,"change");return j.bound?m:h.call(c)};if("function"===typeof g)h=q=g,r=!1===f?!1:!0,k.hasDependencies=!1,e=function(a){i=d(g,c||this,a,j);k.hasDependencies=i.isListening;m=i.value},o=function(){i&&i.teardown()};
else if(c)if("string"==typeof c){var n=g instanceof a.Observe;n&&(k.hasDependencies=!0);var h=function(){return n?g.attr(c):g[c]},q=function(a){n?g.attr(c,a):g[c]=a},s,e=function(e){s=function(){e(h(),m)};a.bind.call(g,f||c,s);m=b(h).value},o=function(){a.unbind.call(g,f||c,s)}}else"function"===typeof c?(m=g,q=c):(m=g,h=c.get||h,q=c.set||q,e=c.on||e,o=c.off||o);else m=g;k.isComputed=!0;a.cid(k,"compute");var l=function(b,c){m=b;a.Observe.triggerBatch(k,"change",[b,c])};return a.extend(k,{_bindsetup:function(){j.bound=
!0;e.call(this,l)},_bindteardown:function(){o.call(this,l);j.bound=!1},bind:a.bindAndSetup,unbind:a.unbindAndTeardown})};a.compute.binder=d;return a.compute});steal.executed("can/observe/compute/compute.js");
steal(function(){var a={tagToContentPropMap:{option:"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:{"class":"className",value:"value",innerText:"innerText",textContent:"textContent",checked:!0,disabled:!0,readonly:!0,required:!0},defaultValue:["input","textarea"],tagMap:{"":"span",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},
getParentNode:function(a,d){return d&&11===a.parentNode.nodeType?d:a.parentNode},setAttr:function(b,d,g){var c=b.nodeName.toString().toLowerCase(),f=a.attrMap[d];!0===f?b[d]=!0:f?(b[f]=g,"value"===f&&0<=can.inArray(c,a.defaultValue)&&(b.defaultValue=g)):b.setAttribute(d,g)},getAttr:function(b,d){return(a.attrMap[d]&&b[a.attrMap[d]]?b[a.attrMap[d]]:b.getAttribute(d))||""},removeAttr:function(b,d){!0===a.attrMap[d]?b[d]=!1:b.removeAttribute(d)},contentText:function(a){return"string"==typeof a?a:!a&&
0!==a?"":""+a}};return a});steal.executed("can/view/elements.js");
steal("can/view","./elements",function(a,b){var d=/(\r|\n)+/g,g=function(a,c,e){if(a)return a;for(;e<c.length;){if("<"==c[e]&&b.reverseTagMap[c[e+1]])return b.reverseTagMap[c[e+1]];e++}return""},c=function(a){eval(a)},f=/([^\s]+)[\s]*=[\s]*$/,i=null,k=null,j=null,e=null,o=function(){return k?"'"+j.match(f)[1]+"'":i?1:0};a.view.Scanner=Scanner=function(b){a.extend(this,{text:{},tokens:[]},b);this.tokenReg=[];this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"};this.tokenComplex=[];this.tokenMap={};for(var b=
0,c;c=this.tokens[b];b++)c[2]?(this.tokenReg.push(c[2]),this.tokenComplex.push({abbr:c[1],re:RegExp(c[2]),rescan:c[3]})):(this.tokenReg.push(c[1]),this.tokenSimple[c[1]]=c[0]),this.tokenMap[c[0]]=c[1];this.tokenReg=RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")};Scanner.prototype={helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){a=a.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"can.proxy(function(__){var "+a[1]+"=can.$(__);"+a[2]+"}, this);"}}],scan:function(a,
f){var q=[],r=0,n=this.tokenSimple,s=this.tokenComplex,a=a.replace(d,"\n");this.transform&&(a=this.transform(a));a.replace(this.tokenReg,function(b,c){var e=arguments[arguments.length-2];e>r&&q.push(a.substring(r,e));if(n[b])q.push(b);else for(var d=0,f;f=s[d];d++)if(f.re.test(b)){q.push(f.abbr);f.rescan&&q.push(f.rescan(c));break}r=e+c.length});r<a.length&&q.push(a.substr(r));var l="",p=["var ___v1ew = [];"+(this.text.start||"")],x=function(a,b){p.push("___v1ew.push(",'"',a.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t"),
'"'+(b||"")+");")},A=[],w,y=null,B=!1,z="",u=[],D=!1,C=0,v,t=this.tokenMap;for(i=k=j=null;void 0!==(v=q[C++]);){if(null===y)switch(v){case t.left:case t.escapeLeft:case t.returnLeft:B=i&&1;case t.commentLeft:y=v;l.length&&x(l);l="";break;case t.escapeFull:B=i&&1;e=1;y=t.escapeLeft;l.length&&x(l);e=q[C++];l=e.content||e;e.before&&x(e.before);q.splice(C,0,t.right);break;case t.commentFull:break;case t.templateLeft:l+=t.left;break;case "<":0!==q[C].indexOf("!--")&&(i=1,B=0);l+=v;break;case ">":i=0;w=
"/"==l.substr(l.length-1)||"--"==l.substr(l.length-2);B||!D&&b.tagToContentPropMap[u[u.length-1]]?(w?x(l.substr(0,l.length-1),',can.view.pending(),"/>"'):x(l,',can.view.pending(),">"'),l="",B=0):l+=v;if(w||D)u.pop(),z=u[u.length-1],D=!1;break;case "'":case '"':i&&(k&&k===v?k=null:null===k&&(k=v,j=w));default:"<"===w&&(z=v.split(/\s/)[0],0===z.indexOf("/")&&u[u.length-1]===z.substr(1)?(z=u[u.length-1],D=!0):u.push(z)),l+=v}else switch(v){case t.right:case t.returnRight:switch(y){case t.left:w=--l.split("{").length-
--l.split("}").length;1==w?(p.push("___v1ew.push(","can.view.txt(0,'"+g(z,q,C)+"',"+o()+",this,function(){","var ___v1ew = [];",l),A.push({before:"",after:"return ___v1ew.join('')}));\n"})):(r=A.length&&-1==w?A.pop():{after:";"},r.before&&p.push(r.before),p.push(l,";",r.after));break;case t.escapeLeft:case t.returnLeft:(w=--l.split("{").length- --l.split("}").length)&&A.push({before:"return ___v1ew.join('')",after:"}));"});for(var y=y===t.escapeLeft?1:0,G={insert:"___v1ew.push(",tagName:g(z,q,C),
status:o()},E=0;E<this.helpers.length;E++){var F=this.helpers[E];if(F.name.test(l)){l=F.fn(l,G);F.name.source==/^>[\s]*\w*/.source&&(y=0);break}}"object"==typeof l?l.raw&&p.push(l.raw):p.push("___v1ew.push(","can.view.txt("+y+",'"+z+"',"+o()+",this,function(){ "+(this.text.escape||"")+"return ",l,w?"var ___v1ew = [];":"}));");e&&(e.after&&e.after.length)&&(x(e.after.length),e=null)}y=null;l="";break;case t.templateLeft:l+=t.left;break;default:l+=v}w=v}l.length&&x(l);p.push(";");l={out:"with(_VIEW) { with (_CONTEXT) {"+
p.join("")+" return ___v1ew.join('')}}"};c.call(l,"this.fn = (function(_CONTEXT,_VIEW){"+l.out+"});\r\n//@ sourceURL="+f+".js");return l}};return Scanner});steal.executed("can/view/scanner.js");
steal("can/util",function(a){var b=!0;try{document.createTextNode("")._=0}catch(d){b=!1}var g={},c={},f={},i="ejs_"+Math.random(),k=0,j=function(a){if(b||3!==a.nodeType)return a[i]?a[i]:a[i]=(a.nodeName?"element_":"obj_")+ ++k;for(var e in c)if(c[e]===a)return e;c["text_"+ ++k]=a;return"text_"+k},e=function(b,c){var e=g[j(b)];if(e){var d=a.inArray(c,e);0<=d&&e.splice(d,1);e.length||delete g[j(b)]}},o=function(a,b){var c=g[j(a)];c||(c=g[j(a)]=[]);c.push(b)},m={id:j,replace:function(b,c){var b=a.makeArray(b),
d=b[0];a.each(a.makeArray(g[j(d)]),function(g){var k=f[g],l=a.inArray(d,k),p=a.inArray(b[b.length-1],k);if(0<=l&&0<=p){for(var j=l;j<=p;j++)e(k[j],g);k.splice.apply(k,[l,p-l+1].concat(c));a.each(c,function(a){o(a,g)})}else m.unregister(k)})},register:function(b){var c=j(b);f[c]=b;a.each(b,function(a){o(a,c)})},unregister:function(b){var c=j(b);a.each(b,function(a){e(a,c)});delete f[c]},nodeMap:g,nodeListMap:f};return m});steal.executed("can/view/node_lists.js");
steal("can/util","./elements.js","can/view","./node_lists.js",function(a,b,d,g){var c=function(b,c,e){var d=function(){e(f);a.unbind.call(b,"destroyed",d)},f={teardownCheck:function(a){a||d()}};a.bind.call(b,"destroyed",d);c(f);return f},f=function(a,b,e){return c(a,function(){b.bind("change",e)},function(a){b.unbind("change",e);a.nodeList&&g.unregister(a.nodeList)})};insertElementsAfter=function(a,b){var c=a[a.length-1];c.nextSibling?c.parentNode.insertBefore(b,c.nextSibling):c.parentNode.appendChild(b)};
var i={nodeLists:g,list:function(d,f,e,i,m){var h=[],q=function(b,c,d){var f=document.createDocumentFragment(),k=[];a.each(c,function(b){b=e.call(i,b);b=a.view.frag(b,m);k.push(a.makeArray(b.childNodes));f.appendChild(b)});h[d]?(b=h[d][0],b.parentNode.insertBefore(f,b)):insertElementsAfter(0==d?[n]:h[d-1],f);a.each(k,function(a){g.register(a)});[].splice.apply(h,[d,0].concat(k))},r=function(b,c,e){var b=h.splice(e,c.length),d=[];a.each(b,function(a){[].push.apply(d,a);g.replace(a,[]);g.unregister(a)});
a.remove(a.$(d))},m=b.getParentNode(d,m),n=document.createTextNode("");c(m,function(){f.bind("add",q).bind("remove",r)},function(){f.unbind("add",q).unbind("remove",r);a.each(h,function(a){g.unregister(a)})});insertElementsAfter([d],n);a.remove(a.$(d));q({},f,0)},html:function(c,d,e){var e=b.getParentNode(c,e),i=f(e,d,function(a,b){m[0].parentNode&&h(b);i.teardownCheck(m[0].parentNode)}),m,h=function(b){var d=a.view.frag(b,e),b=a.makeArray(d.childNodes);insertElementsAfter(m||[c],d);m?(d=a.makeArray(m),
g.replace(m,b),a.remove(a.$(d))):(a.remove(a.$(c)),m=b,i.nodeList=m,g.register(m))};h(d(),[c])},text:function(a,c,d){var d=b.getParentNode(a,d),g=f(a.parentNode!==d?a.parentNode:d,c,function(a,b){"unknown"!=typeof i.nodeValue&&(i.nodeValue=""+b);g.teardownCheck(i.parentNode)}),i=document.createTextNode(c());a.parentNode!==d&&(d=a.parentNode);d.insertBefore(i,a);d.removeChild(a)},attributes:function(a,c,d){var g=function(c){var c=(c||"").replace(/['"]/g,"").split("="),d=c.shift();d!=i&&i&&b.removeAttr(a,
i);d&&(b.setAttr(a,d,c.join("=")),i=d)};f(a,c,function(a,b){g(b)});if(3<=arguments.length)var i=(d||"").replace(/['"]/g,"").split("=")[0];else g(c())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(c,d,e){f(c,e,function(){b.setAttr(c,d,r.render())});var g=a.$(c),m;(m=a.data(g,"hooks"))||a.data(g,"hooks",m={});var h=b.getAttr(c,d),g=h.split(i.attributePlaceholder),q=[],r;q.push(g.shift(),g.join(i.attributePlaceholder));m[d]?m[d].computes.push(e):m[d]={render:function(){var a=
0;return h?h.replace(i.attributeReplace,function(){return b.contentText(r.computes[a++]())}):b.contentText(r.computes[a++]())},computes:[e],batchNum:void 0};r=m[d];q.splice(1,0,e());b.setAttr(c,d,q.join(""))}};return i});steal.executed("can/view/live.js");
steal("can/view","./elements","./live","can/util/string",function(a,b,d){var g=[],c=function(a){a=b.tagMap[a]||"span";return"span"===a?"@@!!@@":"<"+a+">"+c(a)+"</"+a+">"},f=function(b,c){if("string"==typeof b)return b;if(!b&&0!==b)return"";var d=b.hookup&&function(a,c){b.hookup.call(b,a,c)}||"function"==typeof b&&b;if(d){if(c)return"<"+c+" "+a.view.hook(d)+"></"+c+">";g.push(d);return""}return""+b},i=function(b){return"string"==typeof b||"number"==typeof b?a.esc(b):f(b)};a.extend(a.view,{live:d,setupLists:function(){var b=
a.view.lists,c;a.view.lists=function(a,b){c={list:a,renderer:b}};return function(){a.view.lists=b;return c}},pending:function(){var b=g.slice(0);lastHookups=b;g=[];return a.view.hook(function(c){a.each(b,function(a){a(c)})})},txt:function(k,j,e,o,m){var h=a.view.setupLists(),q=function(){},r=function(){n.unbind("change",q)},n=a.compute(m,o,!1);n.bind("change",q);var m=b.tagMap[j]||"span",s=h(),h=n();if(s)return"<"+m+a.view.hook(function(a,b){d.list(a,s.list,s.renderer,o,b)})+"></"+m+">";if(!n.hasDependencies)return r(),
(k||0!==e?i:f)(h,0===e&&m);j=b.tagToContentPropMap[j];if(0===e&&!j)return"<"+m+a.view.hook(k?function(a,b){d.text(a,n,b);r()}:function(a,b){d.html(a,n,b);r()})+">"+c(m)+"</"+m+">";if(1===e)return g.push(function(a){d.attributes(a,n,n());r()}),n();var l=0===e?j:e;(0===e?lastHookups:g).push(function(a){d.attribute(a,l,n);r()});return d.attributePlaceholder}});return a});steal.executed("can/view/render.js");
steal("can/util","can/view","can/util/string","can/observe/compute","can/view/scanner.js","can/view/render.js",function(a){var b=a.extend,d=function(a){if(this.constructor!=d){var c=new d(a);return function(a,b){return c.render(a,b)}}"function"==typeof a?this.template={fn:a}:(b(this,a),this.template=this.scanner.scan(this.text,this.name))};a.EJS=d;d.prototype.render=function(a,b){a=a||{};return this.template.fn.call(a,a,new d.Helpers(a,b||{}))};b(d.prototype,{scanner:new a.view.Scanner({tokens:[["templateLeft",
"<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]],transform:function(a){return a.replace(/<%([\s\S]+?)%>/gm,function(a,b){var d=[],g,j;b.replace(/[{}]/gm,function(a,b){d.push([a,b])});do{g=!1;for(j=d.length-2;0<=j;j--)if("{"==d[j][0]&&"}"==d[j+1][0]){d.splice(j,2);g=!0;break}}while(g);if(2<=d.length){g=["<%"];var e,o=0;for(j=0;e=d[j];j++)g.push(b.substring(o,o=e[1])),"{"==e[0]&&j<d.length-1||"}"==e[0]&&
0<j?g.push("{"==e[0]?"{ %><% ":" %><% }"):g.push(e[0]),++o;g.push(b.substring(o),"%>");return g.join("")}return"<%"+b+"%>"})}})});d.Helpers=function(a,c){this._data=a;this._extras=c;b(this,c)};d.Helpers.prototype={list:function(b,c){a.each(b,function(a,d){c(a,d,b)})},each:function(b,c){a.isArray(b)?this.list(b,c):a.view.lists(b,c)}};a.view.register({suffix:"ejs",script:function(a,b){return"can.EJS(function(_CONTEXT,_VIEW) { "+(new d({text:b,name:a})).template.out+" })"},renderer:function(a,b){return d({text:b,
name:a})}});return a});steal.executed("can/view/ejs/ejs.js");steal("can/util","can/control/route","can/model","can/view/ejs","can/route",function(a){return a});steal.executed("can/can.js");
steal("can/util","can/construct",function(a){var b=a.isFunction,d=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;a.Construct._overwrite=function(a,c,f,i){a[f]=b(i)&&b(c[f])&&d.test(i)?function(a,b){return function(){var d=this._super,f;this._super=c[a];f=b.apply(this,arguments);this._super=d;return f}}(f,i):i};a.Construct._inherit=function(b,c,d){var d=d||b,i;for(i in b)a.Construct._overwrite(d,c,i,b[i])};return a});steal.executed("can/construct/super/super.js");
if("undefined"==typeof window.AD){AD={controllers:{},models:{},models_base:{},widgets:{},classes:{},ui:{},defaults:function(a,b){if(b)for(var d in b)a[d]=b[d];return a}};AD.ui.bootup={};AD.ui.bootup.requireSeries=function(a){var b=document.getElementsByTagName("link"),d=[];a.forEach(function(a){var f=[];a.forEach(function(a){var c;a:if(a.cond)c=a.cond();else{for(c=0;c<b.length;c++)if(-1!=b[c].href.indexOf(a.tag)){c=!0;break a}c=!1}c||f.push(a.lib)});0<f.length&&d.push(f)});var g=function(a){a>=d.length||
(console.log("loading series:"),console.log(d[a]),steal.apply(steal,d[a]).then(function(){g(a+1)}))};g(0)};var versionCompare=function(a,b,d){function g(a){return(c?/^\d+[A-Za-z]*$/:/^\d+$/).test(a)}var c=d&&d.lexicographical,d=d&&d.zeroExtend,a=a.split("."),b=b.split(".");if(!a.every(g)||!b.every(g))return NaN;if(d){for(;a.length<b.length;)a.push("0");for(;b.length<a.length;)b.push("0")}c||(a=a.map(Number),b=b.map(Number));for(d=0;d<a.length;++d){if(b.length==d)return 1;if(a[d]!=b[d])return a[d]>
b[d]?1:-1}return a.length!=b.length?-1:0};AD.util={};AD.util.versionCompare=versionCompare;AD.ui._resolveConflict=!1}steal.executed("appdev/ad.js");
window.OpenAjax||(OpenAjax=new function(){var a={};this.hub=a;a.implementer="http://openajax.org";a.implVersion="2.0";a.specVersion="2.0";a.implExtraData={};var b={};a.libraries=b;a.registerLibrary=function(a,g,c,f){b[a]={prefix:a,namespaceURI:g,version:c,extraData:f};this.publish("org.openajax.hub.registerLibrary",b[a])};a.unregisterLibrary=function(a){this.publish("org.openajax.hub.unregisterLibrary",b[a]);delete b[a]};a._subscriptions={c:{},s:[]};a._cleanup=[];a._subIndex=0;a._pubDepth=0;a.subscribe=
function(a,b,c,f,i){c||(c=window);var k=a+"."+this._subIndex,b={scope:c,cb:b,fcb:i,data:f,sid:this._subIndex++,hdl:k};this._subscribe(this._subscriptions,a.split("."),0,b);return k};a.publish=function(a,b){var c=a.split(".");this._pubDepth++;this._publish(this._subscriptions,c,0,a,b);this._pubDepth--;if(0<this._cleanup.length&&0==this._pubDepth){for(c=0;c<this._cleanup.length;c++)this.unsubscribe(this._cleanup[c].hdl);delete this._cleanup;this._cleanup=[]}};a.unsubscribe=function(a){var a=a.split("."),
b=a.pop();this._unsubscribe(this._subscriptions,a,0,b)};a._subscribe=function(a,b,c,f){var i=b[c];c==b.length?a.s.push(f):("undefined"==typeof a.c&&(a.c={}),"undefined"==typeof a.c[i]&&(a.c[i]={c:{},s:[]}),this._subscribe(a.c[i],b,c+1,f))};a._publish=function(a,b,c,f,i,k){if("undefined"!=typeof a&&(c!=b.length&&(this._publish(a.c[b[c]],b,c+1,f,i,k),this._publish(a.c["*"],b,c+1,f,i,k),a=a.c["**"]),"undefined"!=typeof a)){a=a.s;b=a.length;for(c=0;c<b;c++)if(a[c].cb){var j=a[c].scope,e=a[c].cb,o=a[c].fcb,
m=a[c].data;"string"==typeof e&&(e=j[e]);"string"==typeof o&&(o=j[o]);(!o||o.call(j,f,i,m))&&e.call(j,f,i,m,k)}}};a._unsubscribe=function(a,b,c,f){if("undefined"!=typeof a)if(c<b.length){var i=a.c[b[c]];this._unsubscribe(i,b,c+1,f);if(0==i.s.length){for(var k in i.c)return;delete a.c[b[c]]}}else{a=a.s;b=a.length;for(c=0;c<b;c++)if(f==a[c].sid){0<this._pubDepth?(a[c].cb=null,this._cleanup.push(a[c])):a.splice(c,1);break}}};a.reinit=function(){for(var a in OpenAjax.hub.libraries)delete OpenAjax.hub.libraries[a];
OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{});delete OpenAjax._subscriptions;OpenAjax._subscriptions={c:{},s:[]};delete OpenAjax._cleanup;OpenAjax._cleanup=[];OpenAjax._subIndex=0;OpenAjax._pubDepth=0}},OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{}));steal.executed("js/OpenAjax.js");
steal("appdev/ad.js","js/OpenAjax.js").then(function(){if(typeof AD.comm=="undefined")AD.comm={};AD.comm.hub={};AD.comm.hub.publish=function(a,b){OpenAjax.hub.publish(a,b)};AD.comm.hub.subscribe=function(a,b){return OpenAjax.hub.subscribe(a,b)};AD.comm.hub.unsubscribe=function(a){OpenAjax.hub.unsubscribe(a)}});steal.executed("appdev/comm/hub.js");"undefined"==typeof AD.util&&(AD.util={});"undefined"==typeof AD.util.uuid&&function(){var a=0;AD.util.uuid=function(){return++a}}();steal.executed("appdev/util/uuid.js");
(function(){function a(a){var b=false;return function(){if(b)throw Error("Callback was already called.");b=true;a.apply(d,arguments)}}var b={},d,g;d=this;if(d!=null)g=d.async;b.noConflict=function(){d.async=g;return b};var c=Object.prototype.toString,f=Array.isArray||function(a){return c.call(a)==="[object Array]"},i=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c=c+1)b(a[c],c,a)},k=function(a,b){if(a.map)return a.map(b);var c=[];i(a,function(a,d,e){c.push(b(a,d,e))});return c},
j=function(a,b,c){if(a.reduce)return a.reduce(b,c);i(a,function(a,d,e){c=b(c,a,d,e)});return c},e=function(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};if(typeof process==="undefined"||!process.nextTick){b.nextTick=typeof setImmediate==="function"?function(a){setImmediate(a)}:function(a){setTimeout(a,0)};b.setImmediate=b.nextTick}else{b.nextTick=process.nextTick;b.setImmediate=typeof setImmediate!=="undefined"?function(a){setImmediate(a)}:
b.nextTick}b.each=function(b,c,d){function e(a){if(a){d(a);d=function(){}}else{f=f+1;f>=b.length&&d()}}d=d||function(){};if(!b.length)return d();var f=0;i(b,function(b){c(b,a(e))})};b.forEach=b.each;b.eachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){if(b){c(b);c=function(){}}else{d=d+1;d>=a.length?c():e()}})};e()};b.forEachSeries=b.eachSeries;b.eachLimit=function(a,b,c,d){o(b).apply(null,[a,c,d])};b.forEachLimit=b.eachLimit;var o=function(a){return function(b,
c,d){d=d||function(){};if(!b.length||a<=0)return d();var e=0,f=0,g=0;(function u(){if(e>=b.length)return d();for(;g<a&&f<b.length;){f=f+1;g=g+1;c(b[f-1],function(a){if(a){d(a);d=function(){}}else{e=e+1;g=g-1;e>=b.length?d():u()}})}})()}},m=function(a){return function(){var c=Array.prototype.slice.call(arguments);return a.apply(null,[b.each].concat(c))}},h=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[o(a)].concat(c))}},q=function(a){return function(){var c=
Array.prototype.slice.call(arguments);return a.apply(null,[b.eachSeries].concat(c))}},r=function(a,b,c,d){b=k(b,function(a,b){return{index:b,value:a}});if(d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d;b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})};b.map=m(r);b.mapSeries=q(r);b.mapLimit=function(a,b,c,d){return h(b,r)(a,c,d)};b.reduce=function(a,c,d,e){b.eachSeries(a,function(a,b){d(c,a,function(a,d){c=d;b(a)})},function(a){e(a,c)})};b.inject=
b.reduce;b.foldl=b.reduce;b.reduceRight=function(a,c,d,e){a=k(a,function(a){return a}).reverse();b.reduce(a,c,d,e)};b.foldr=b.reduceRight;var n=function(a,b,c,d){var e=[],b=k(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&e.push(a);b()})},function(){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};b.filter=m(n);b.filterSeries=q(n);b.select=b.filter;b.selectSeries=b.filterSeries;n=function(a,b,c,d){var e=[],b=k(b,function(a,b){return{index:b,
value:a}});a(b,function(a,b){c(a.value,function(c){c||e.push(a);b()})},function(){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};b.reject=m(n);b.rejectSeries=q(n);n=function(a,b,c,d){a(b,function(a,b){c(a,function(c){if(c){d(a);d=function(){}}else b()})},function(){d()})};b.detect=m(n);b.detectSeries=q(n);b.some=function(a,c,d){b.each(a,function(a,b){c(a,function(a){if(a){d(true);d=function(){}}b()})},function(){d(false)})};b.any=b.some;b.every=function(a,c,d){b.each(a,
function(a,b){c(a,function(a){if(!a){d(false);d=function(){}}b()})},function(){d(true)})};b.all=b.every;b.sortBy=function(a,c,d){b.map(a,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);d(null,k(b.sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),function(a){return a.value}))})};b.auto=function(a,c){var c=c||function(){},d=e(a),g=d.length;if(!g)return c();var h={},k=[],m=function(a){k.unshift(a)},o=function(){g--;i(k.slice(0),
function(a){a()})};m(function(){if(!g){var a=c;c=function(){};a(null,h)}});i(d,function(d){var g=f(a[d])?a[d]:[a[d]],A=function(a){var f=Array.prototype.slice.call(arguments,1);f.length<=1&&(f=f[0]);if(a){var g={};i(e(h),function(a){g[a]=h[a]});g[d]=f;c(a,g);c=function(){}}else{h[d]=f;b.setImmediate(o)}},x=g.slice(0,Math.abs(g.length-1))||[],n=function(){return j(x,function(a,b){return a&&h.hasOwnProperty(b)},true)&&!h.hasOwnProperty(d)};if(n())g[g.length-1](A,h);else{var q=function(){if(n()){a:for(var a=
q,b=0;b<k.length;b=b+1)if(k[b]===a){k.splice(b,1);break a}g[g.length-1](A,h)}};m(q)}})};b.retry=function(a,c,d){var e=[];if(typeof a==="function"){d=c;c=a;a=5}var a=parseInt(a,10)||5,f=function(f,g){for(var h=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},g)}};a;)e.push(h(c,!(a=a-1)));b.series(e,function(a,b){b=b[b.length-1];(f||d)(b.err,b.result)})};return d?f():f};b.waterfall=function(a,c){c=c||function(){};if(!f(a))return c(Error("First argument to waterfall must be an array of functions"));
if(!a.length)return c();var d=function(a){return function(e){if(e){c.apply(null,arguments);c=function(){}}else{var f=Array.prototype.slice.call(arguments,1),g=a.next();g?f.push(d(g)):f.push(c);b.setImmediate(function(){a.apply(null,f)})}}};d(b.iterator(a))()};var s=function(a,b,c){c=c||function(){};if(f(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.each(e(b),function(a,c){b[a](function(b){var e=
Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]);d[a]=e;c(b)})},function(a){c(a,d)})}};b.parallel=function(a,c){s({map:b.map,each:b.each},a,c)};b.parallelLimit=function(a,b,c){s({map:h(b,r),each:o(b)},a,c)};b.series=function(a,c){c=c||function(){};if(f(a))b.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};b.eachSeries(e(a),function(b,c){a[b](function(a){var e=Array.prototype.slice.call(arguments,
1);e.length<=1&&(e=e[0]);d[b]=e;c(a)})},function(a){c(a,d)})}};b.iterator=function(a){var b=function(c){var d=function(){a.length&&a[c].apply(null,arguments);return d.next()};d.next=function(){return c<a.length-1?b(c+1):null};return d};return b(0)};b.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};n=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]);b(a)})},function(a){d(a,
e)})};b.concat=m(n);b.concatSeries=q(n);b.whilst=function(a,c,d){a()?c(function(e){if(e)return d(e);b.whilst(a,c,d)}):d()};b.doWhilst=function(a,c,d){a(function(e){if(e)return d(e);var f=Array.prototype.slice.call(arguments,1);c.apply(null,f)?b.doWhilst(a,c,d):d()})};b.until=function(a,c,d){a()?d():c(function(e){if(e)return d(e);b.until(a,c,d)})};b.doUntil=function(a,c,d){a(function(e){if(e)return d(e);var f=Array.prototype.slice.call(arguments,1);c.apply(null,f)?d():b.doUntil(a,c,d)})};b.queue=function(c,
d){function e(a,c,d,g){if(!a.started)a.started=true;f(c)||(c=[c]);if(c.length==0)return b.setImmediate(function(){a.drain&&a.drain()});i(c,function(c){c={data:c,callback:typeof g==="function"?g:null};d?a.tasks.unshift(c):a.tasks.push(c);a.saturated&&a.tasks.length===a.concurrency&&a.saturated();b.setImmediate(a.process)})}d===void 0&&(d=1);var g=0,h={tasks:[],concurrency:d,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(a,b){e(h,a,false,b)},kill:function(){h.drain=null;
h.tasks=[]},unshift:function(a,b){e(h,a,true,b)},process:function(){if(!h.paused&&g<h.concurrency&&h.tasks.length){var b=h.tasks.shift();h.empty&&h.tasks.length===0&&h.empty();g=g+1;var d=a(function(){g=g-1;b.callback&&b.callback.apply(b,arguments);h.drain&&h.tasks.length+g===0&&h.drain();h.process()});c(b.data,d)}},length:function(){return h.tasks.length},running:function(){return g},idle:function(){return h.tasks.length+g===0},pause:function(){if(h.paused!==true)h.paused=true},resume:function(){if(h.paused!==
false){h.paused=false;for(var a=1;a<=h.concurrency;a++)b.setImmediate(h.process)}}};return h};b.priorityQueue=function(a,c){function d(a,b){return a.priority-b.priority}function e(a,b,c){for(var d=-1,f=a.length-1;d<f;){var g=d+(f-d+1>>>1);c(b,a[g])>=0?d=g:f=g-1}return d}function g(a,c,h,j){if(!a.started)a.started=true;f(c)||(c=[c]);if(c.length==0)return b.setImmediate(function(){a.drain&&a.drain()});i(c,function(c){c={data:c,priority:h,callback:typeof j==="function"?j:null};a.tasks.splice(e(a.tasks,
c,d)+1,0,c);a.saturated&&a.tasks.length===a.concurrency&&a.saturated();b.setImmediate(a.process)})}var h=b.queue(a,c);h.push=function(a,b,c){g(h,a,b,c)};delete h.unshift;return h};b.cargo=function(a,c){var d=false,e=[],g={tasks:e,payload:c,saturated:null,empty:null,drain:null,drained:true,push:function(a,d){f(a)||(a=[a]);i(a,function(a){e.push({data:a,callback:typeof d==="function"?d:null});g.drained=false;g.saturated&&e.length===c&&g.saturated()});b.setImmediate(g.process)},process:function B(){if(!d)if(e.length===
0){g.drain&&!g.drained&&g.drain();g.drained=true}else{var b=typeof c==="number"?e.splice(0,c):e.splice(0,e.length),f=k(b,function(a){return a.data});g.empty&&g.empty();d=true;a(f,function(){d=false;var a=arguments;i(b,function(b){b.callback&&b.callback.apply(null,a)});B()})}},length:function(){return e.length},running:function(){return d}};return g};n=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,
1);typeof console!=="undefined"&&(b?console.error&&console.error(b):console[a]&&i(c,function(b){console[a](b)}))}]))}};b.log=n("log");b.dir=n("dir");b.memoize=function(a,c){var d={},e={},c=c||function(a){return a},f=function(){var f=Array.prototype.slice.call(arguments),g=f.pop(),h=c.apply(null,f);if(h in d)b.nextTick(function(){g.apply(null,d[h])});else if(h in e)e[h].push(g);else{e[h]=[g];a.apply(null,f.concat([function(){d[h]=arguments;var a=e[h];delete e[h];for(var b=0,c=a.length;b<c;b++)a[b].apply(null,
arguments)}]))}};f.memo=d;f.unmemoized=a;return f};b.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}};b.times=function(a,c,d){for(var e=[],f=0;f<a;f++)e.push(f);return b.map(e,c,d)};b.timesSeries=function(a,c,d){for(var e=[],f=0;f<a;f++)e.push(f);return b.mapSeries(e,c,d)};b.seq=function(){var a=arguments;return function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();b.reduce(a,d,function(a,b,d){b.apply(c,a.concat([function(){var a=arguments[0],
b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,b){e.apply(c,[a].concat(b))})}};b.compose=function(){return b.seq.apply(null,Array.prototype.reverse.call(arguments))};n=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};b.applyEach=m(n);b.applyEachSeries=q(n);b.forever=function(a,b){function c(d){if(d){if(b)return b(d);
throw d;}a(c)}c()};typeof module!=="undefined"&&module.exports?module.exports=b:typeof define!=="undefined"&&define.amd?define([],function(){return b}):d.async=b})();steal.executed("js/async.js");steal("js/async.js").then(function(){if(typeof AD.util=="undefined")AD.util={};if(typeof AD.util.async=="undefined")AD.util.async=async});steal.executed("appdev/util/async.js");"undefined"==typeof AD.util&&(AD.util={});
"undefined"==typeof AD.util.string&&function(){AD.util.string={replaceAll:function(a,b,d){b=RegExp(AD.util.string.quoteRegExp(b),"g");return a.replace(b,d)},quoteRegExp:function(a){return a.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1")}}}();steal.executed("appdev/util/string.js");(function(){if(typeof AD.config=="undefined")AD.config={};var a={};AD.config.setValue=function(b,d){a[b]=d};AD.config.getValue=function(b){return!a[b]?false:a[b]}})();steal.executed("appdev/config/config.js");
(function(){var a={authType:"CAS"},b;for(b in a)AD.config.setValue(b,a[b])})();steal.executed("appdev/config/data.js");steal("appdev/comm/hub.js").then(function(){if(typeof AD.sal=="undefined")AD.sal={};AD.sal.Deferred=function(){return AD.ui.jQuery.Deferred()};AD.sal.http=function(a){return AD.ui.jQuery.ajax(a)};AD.sal.parseJSON=function(a){return AD.ui.jQuery.parseJSON(a)};AD.sal.setImmediate=function(a){setTimeout(a,0)}});steal.executed("appdev/sal/web-jquery.js");
steal("appdev/ad.js","appdev/sal/web-jquery.js","js/dependencies/sails.io.js").then(function(){if(typeof AD.comm=="undefined")AD.comm={};AD.comm.socket={};AD.comm.socket.get=function(a,b){a.method="get";return c(a,b)};AD.comm.socket.post=function(a,b){a.method="post";return c(a,b)};AD.comm.socket.put=function(a,b){a.method="put";return c(a,b)};AD.comm.socket["delete"]=function(a,b){a.method="delete";return c(a,b)};AD.comm.socket.subscribe=function(c,i){var k=c.split("."),j=k[0].toLowerCase(),e="_all";
k[1]&&(e=k[1].toLowerCase());a[j]||(a[j]={_all:[]});a[j][e]?a[j][e].push(i):a[j][e]=[i];if(!b[j]){io.socket.on(j,function(a){g(j,a)});b[j]=true}d++;return d};var a={},b={},d=0,g=function(b,c){if(a[b]){var d=b+"."+c.verb,g=a[b];g._all.forEach(function(a){a(d,c)});var e=[],o;for(o in c)e.push(c[o]);for(var m in g){var h=b+"."+m;e.indexOf(m)!=-1&&g[m].forEach(function(a){a(h,c)});if(AD.ui.jQuery.isNumeric(m)){o=parseFloat(m);e.indexOf(o)!=-1&&g[m].forEach(function(a){a(h,c)})}}}},c=function(a){var b=
AD.sal.Deferred();if(!a.method)a.method="post";io.socket[a.method](a.url,a.params,function(c,d){console.log("AD.comm.socket."+a.method+"() response:");console.log(c);console.log("jwres:");console.log(d);if(d.statusCode>=400)b.reject(Error(d.toString()));else{c=JSON.parse(c);c.status&&(c.status=="error"?b.reject(c.data):b.resolve(c.data))}});return b}});steal.executed("appdev/comm/socket.js");
steal("appdev/comm/hub.js","appdev/comm/socket.js").then(function(){if(typeof AD.Model=="undefined")AD.Model={Base:{extend:function(a,g,c){var f=b(AD.models_base,a),a=a.split(".").pop();f[a]=can.Model.extend(g,c)},get:function(b){return a(AD.models_base,b)}},extend:function(d,g,c){var f=b(AD.models,d),i=d.split(".").pop();f[i]=AD.Model.Base.get(d).extend(g,c);AD.comm.socket.subscribe(i,function(b,c){var e=a(AD.models,d);if(e)if(e.store[c.id])if(c.verb=="updated"){var f=e.store[c.id].attr(),g=false,
h;for(h in c.data)f[h]!=c.data[h]&&(g=true);g&&e.store[c.id].attr(c.data)}else(c.verb="destroyed")&&e.store[c.id].destroyed();else if(c.verb=="created"){new e(c.data);e.store[c.id]?console.log("model added and stored!"):console.log("model added but NOT stored!")}else c.verb=="updated"&&console.log("... ModelUpdate():  received an update about a Model we are not tracking.  IGNORE.");else console.log("!!!  No Model found with namespace:"+d)})},get:function(b){return a(AD.models,b)}};var a=function(a,
b){var c=b.split("."),f=a;c.forEach(function(a){typeof f[a]=="undefined"&&(f=null);f&&(f=f[a])});return f},b=function(a,b){var c=b.split(".");c.pop();var f=a;c.forEach(function(a){typeof f[a]=="undefined"&&(f[a]={});f=f[a]});return f}});steal.executed("appdev/model/model.js");
(function(){AD.lang={};AD.lang.currentLanguage="en";AD.lang.setCurrentLanguage=function(a){AD.lang.currentLanguage=a};AD.lang.label={};var a={},b={};AD.lang.label.setLabel=function(b,g,c){c=c||AD.lang.currentLanguage;a[c]||(a[c]={});a[c][b]=g};AD.lang.label.importLabels=function(a){for(var b in a)for(var c in a[b])AD.lang.label.setLabel(c,a[b][c],b)};AD.lang.label.getLabel=function(d,g,c){if(Object.prototype.toString.call(g)!="[object Array]"){c=g;g=[]}c=c||AD.lang.currentLanguage;if(!a[c]){g=c;if(!b[g]){typeof console==
"object"&&console.log("Warning: language not found ["+g+"]");b[g]=true}return false}if(!a[c][d])return false;d=a[c][d]||d;for(d=d.replace(/%%/g,"\\%\\");g.length&&d.match(/%s/);)d=d.replace(/%s/,g.shift());return d=d.replace(/\\%\\/g,"%")};AD.lang.label.getLabelSpan=function(a,b,c){b=AD.lang.label.getLabel(a,b,c);c="";return c=b?"<span "+AD.controllers.Label.constants.keyAttribute+'="'+a+'" >'+b+"</span>":"<span "+AD.controllers.Label.constants.keyAttribute+'="'+a+'" >'+a+"</span>"}})();steal.executed("appdev/labels/lang.js");
steal("can").then(function(){var a=can.Control.extend({constants:{keyAttribute:"app-label-key",langAttribute:"app-label-lang",cssClass:"app-label",jQueryData:"AD-Label"},keylessCreate:function(a){a.html||(a=$(a));var d=a.html();a.attr(this.constants.keyAttribute,d);return this.create(a)},create:function(b){return new a(b)},transform:function(a){var d=$("<span>");a.empty();a.append(d);a.addClass(this.constants.cssClass);return d},defaults:{},collection:[],translateAll:function(a){$.each(this.collection,
function(){this.translate(a)})}},{init:function(a){if((this.labelKey=a.attr(this.constructor.constants.keyAttribute))&&!a.hasClass(this.constructor.constants.cssClass)){this.$span=this.constructor.transform(a);this.constructor.collection.push(this);a.data(this.constructor.constants.jQueryData,this);this.translate()}},destroy:function(){var a=this.constructor.collection.indexOf(this);a>=0&&this.constructor.collection.splice(a,1);can.Control.prototype.destroy.call(this)},translate:function(a){var a=
a||AD.lang.currentLanguage,d=AD.lang.label.getLabel(this.labelKey,a);d===false&&(d="["+this.labelKey+"]");this.$span.html(d);this.element.attr(this.constructor.constants.langAttribute,a)},"AD.label.translate subscribe":function(a){this.translate(a)}});AD.controllers.Label=a});steal.executed("appdev/labels/label.js");
steal("can","appdev/widgets/ad_icon_busy/ad_icon_busy.css",function(){AD.widgets.ad_icon_busy=can.Control.extend({init:function(a,b){this.options=AD.defaults({width:16,height:16,inline:true,show:false,style:"circleball",color:"black"},b);this.div=null;if(this.element.is("div"))this.div=this.element;else{this.div=$("<div>");this.element.append(this.div)}this.div.addClass("hidden");var d="ad-icon-busy",g={circleball:{black:1,white:1},arrow:{black:1,white:1},circle:{grey:1}};if(g[this.options.style]){d=
d+("-"+this.options.style);if(g[this.options.style][this.options.color])d=d+("-"+this.options.color);else{console.warn("ad_icon_busy: unknown color:"+this.options.color);for(var c in g[this.options.style])break;console.warn("defaulting to color:"+c);d=d+("-"+c)}}else{console.warn("ad_icon_busy: unknown style:"+this.options.style);d=d+"-circleball-black"}this.div.hasClass("ad-icon-busy")||this.div.addClass("ad-icon-busy");this.options.inline&&this.div.addClass("ad-icon-busy-inline");this.div.addClass(d);
if(this.options.show){this.div.show();this.div.removeClass("hidden")}},show:function(){this.div.removeClass("hidden")},hide:function(){this.div.addClass("hidden")}})});steal.executed("appdev/widgets/ad_icon_busy/ad_icon_busy.js");
steal("appdev/ad.js","can","appdev/widgets/ad_ui_reauth/ad_ui_reauth.css","appdev/widgets/ad_icon_busy",function(){AD.widgets.ad_ui_reauth=can.Control.extend({init:function(){this.authType=AD.config.getValue("authType");this.html=(this.authType=="CAS"?can.view("../../appdev/widgets/ad_ui_reauth/reauth_cas.ejs",{}):can.view("../../appdev/widgets/ad_ui_reauth/reauth_local.ejs",{})).firstChild.innerHTML},show:function(){this.element=$(this.html);this.element.find("[translate]").each(function(){AD.controllers.Label.keylessCreate(this)});
if(this.authType!="CAS")this.busyIcon=new AD.widgets.ad_icon_busy(this.element.find(".busy-icon"));this.element.modal({backdrop:"static",keyboard:false,show:true})},hide:function(){var a=this.element.get(0).contentWindow;if(a&&!a.closed){a.open("about:blank","_self","");a.close()}this.element.modal("hide");this.element.remove()},"button.login click":function(){var a=this;a.busyIcon.show();a.find(".alert").hide();AD.comm.service.post({url:"...",data:{username:a.element.find("#username"),password:a.element.find("#password")}}).fail(function(b){b=
b||{};b=b.message||"Error";a.find(".alert").text(b).show()}).done(function(){AD.ui.reauth.end()}).always(function(){a.busyIcon.hide()})},"#password keypress":function(a){(a.keyCode==13||a.keyCode==10||a.keyCode==3)&&this.element.find("button.login").trigger("click")}})});steal.executed("appdev/widgets/ad_ui_reauth/ad_ui_reauth.js");
steal("appdev/widgets/ad_ui_reauth").then(function(){if(typeof AD.ui=="undefined")AD.ui={};AD.ui.reauth={init:function(){this.reauthenticating=false;this.widget=new AD.widgets.ad_ui_reauth;this.dfd=null},inProgress:function(){return this.reauthenticating?true:false},start:function(){if(!this.reauthenticating){this.reauthenticating=true;this.widget.show();this.dfd=AD.sal.Deferred()}return this.dfd},end:function(){this.reauthenticating=false;this.widget.hide();this.dfd.resolve()}};AD.ui.reauth.init()});
steal.executed("appdev/auth/reauth.js");
steal("appdev/ad.js","appdev/sal/web-jquery.js","appdev/comm/hub.js","appdev/auth/reauth.js").then(function(){(function(){var a={token:null,fetch:function(){var b=AD.sal.Deferred();AD.sal.http({type:"GET",url:"/csrfToken",dataType:"json",cache:false}).done(function(d){a.token=d._csrf;b.resolve(a.token)}).fail(function(a,d,g){a=Error("Unable to get CSRF token: "+g.message);console.log(a);b.reject(a)});return b}};if(typeof AD.comm=="undefined")AD.comm={};AD.comm.service={};AD.comm.service.get=function(a,
b){a.method="GET";return g(a,b)};AD.comm.service.post=function(a,b){a.method="POST";return g(a,b)};AD.comm.service.put=function(a,b){a.method="PUT";return g(a,b)};AD.comm.service["delete"]=function(a,b){a.method="DELETE";return g(a,b)};var b=[],d=function(a){g(a.opts,function(b,d){a.cb&&a.cb(b,d);b?a.dfd.reject(b):a.dfd.resolve(d)})},g=function(c,f){var i=AD.sal.Deferred(),k=true;c.sync&&(k=false);c.method=c.method||"POST";if(!c.params&&c.data)c.params=c.data;if(!a.token&&c.method!="GET"){a.fetch().done(function(){g(c,
f).done(i.resolve).fail(i.reject)}).fail(i.reject);return i}if(AD.ui.reauth.inProgress()){b.push({opts:c,cb:f,dfd:i});return i}var j=function(a){if(a.id==5){b.push({opts:c,cb:f,dfd:i});AD.ui.reauth.start().done(function(){for(var a;a=b.shift();)d(a)})}else{AD.comm.hub.publish("ad.err.notification",a);f&&f(a);i.reject(a)}};AD.sal.http({async:k,url:c.url,type:c.method,contentType:c.contentType,dataType:"json",data:c.params,headers:{"X-CSRF-Token":a.token},cache:false}).fail(function(a){a=AD.sal.parseJSON(a.responseText);
if("object"==typeof a&&a!=null&&"undefined"!=typeof a.status)j(a);else{AD.comm.hub.publish("ad.err.notification",a);f&&f(a);i.reject(a)}}).done(function(a){if(a.status&&a.status=="error")j(a);else{if(a.status&&a.status=="success")a=a.data;f&&f(null,a);i.resolve(a)}});return i}})()});steal.executed("appdev/comm/service.js");
steal("jquery","can",function(){AD.classes.UIController=can.Control.extend({},{init:function(a){this.labels=[];var b=this;a.find("["+AD.controllers.Label.defaults.keyAttribute+"]").each(function(){b.labels.push(new AD.controllers.Label($(this)))})},translateLabels:function(a){$.each(this.labels,function(){this.translate(a)})}})});steal.executed("appdev/UIController.js");
steal("appdev/UIController.js",function(){if(typeof AD.Control=="undefined")AD.Control={extend:function(a,d,g){var a=a.split("."),c=a.pop(),f=AD.controllers;a.forEach(function(a){typeof f[a]=="undefined"&&(f[a]={});f=f[a]});f[c]=AD.classes.UIController.extend(d,g)},get:function(b){return a(AD.controllers,b)}};var a=function(a,d){var g=d.split("."),c=a;g.forEach(function(a){typeof c[a]=="undefined"&&(c=null);c&&(c=c[a])});return c}});steal.executed("appdev/control/control.js");
steal("jquery").then("can","can/view/ejs","can/construct/super","appdev/ad.js").then(function(){AD.ui.jQuery=window.jQuery;if(AD.ui._resolveConflict){console.log(" .... trying to not conflict with existing jQuery");$.noConflict()}}).then("appdev/comm/hub.js","appdev/util/uuid.js","appdev/util/async.js","appdev/util/string.js","appdev/config/config.js").then("appdev/config/data.js","appdev/model/model.js","appdev/labels/lang.js","appdev/labels/label.js","appdev/comm/service.js","appdev/comm/socket.js",
"appdev/auth/reauth.js").then("appdev/UIController.js","appdev/control/control.js","appdev/widgets/ad_icon_busy","appdev/widgets/ad_ui_reauth","site/labels/appdev.js",function(){console.log("AD setup done ...")});steal.executed("appdev/appdev.js");steal.popPending();
