steal.packages({});
steal.has("stealconfig.js","appdev/appdev.js","appdev/ad.js","can/can.js","can/util/util.js","can/util/jquery/jquery.js","can/util/can.js","can/util/attr/attr.js","can/event/event.js","can/util/array/each.js","can/util/inserted/inserted.js","can/control/route/route.js","can/route/route.js","can/map/map.js","can/util/bind/bind.js","can/map/bubble.js","can/construct/construct.js","can/util/string/string.js","can/util/batch/batch.js","can/list/list.js","can/util/string/deparam/deparam.js","can/control/control.js",
"can/model/model.js","can/view/mustache/mustache.js","can/view/scope/scope.js","can/view/view.js","can/compute/compute.js","can/view/scanner.js","can/view/elements.js","can/view/callbacks/callbacks.js","can/view/render.js","can/view/live/live.js","can/view/node_lists/node_lists.js","can/view/parser/parser.js","can/view/bindings/bindings.js","can/component/component.js","can/observe/observe.js","can/view/ejs/ejs.js","can/construct/super/super.js","appdev/comm/hub.js","js/OpenAjax.js","appdev/util/uuid.js",
"appdev/util/async.js","js/async.js","appdev/util/string.js","appdev/config/config.js","appdev/util/uiScrollbarSize.js","appdev/config/data.js","appdev/model/model.js","appdev/comm/socket.js","appdev/sal/web-jquery.js","appdev/labels/lang.js","appdev/labels/label.js","appdev/comm/service.js","appdev/auth/reauth.js","appdev/widgets/ad_ui_reauth/ad_ui_reauth.js","appdev/widgets/ad_icon_busy/ad_icon_busy.js","appdev/widgets/ad_ui_reauth/reauth_local.ejs","appdev/widgets/ad_ui_reauth/reauth_cas.ejs",
"appdev/UIController.js","appdev/control/control.js");steal({id:"appdev/production.css",waits:!0,has:["appdev/loading.css","appdev/widgets/ad_ui_reauth/ad_ui_reauth.css","appdev/widgets/ad_icon_busy/ad_icon_busy.css"]});
steal("stealconfig.js","appdev/appdev.js","appdev/ad.js","can/can.js","can/util/util.js","can/util/jquery/jquery.js","can/util/can.js","can/util/attr/attr.js","can/event/event.js","can/util/array/each.js","can/util/inserted/inserted.js","can/control/route/route.js","can/route/route.js","can/map/map.js","can/util/bind/bind.js","can/map/bubble.js","can/construct/construct.js","can/util/string/string.js","can/util/batch/batch.js","can/list/list.js","can/util/string/deparam/deparam.js","can/control/control.js",
"can/model/model.js","can/view/mustache/mustache.js","can/view/scope/scope.js","can/view/view.js","can/compute/compute.js","can/view/scanner.js","can/view/elements.js","can/view/callbacks/callbacks.js","can/view/render.js","can/view/live/live.js","can/view/node_lists/node_lists.js","can/view/parser/parser.js","can/view/bindings/bindings.js","can/component/component.js","can/observe/observe.js","can/view/ejs/ejs.js","can/construct/super/super.js","appdev/comm/hub.js","js/OpenAjax.js","appdev/util/uuid.js",
"appdev/util/async.js","js/async.js","appdev/util/string.js","appdev/config/config.js","appdev/util/uiScrollbarSize.js","appdev/config/data.js","appdev/model/model.js","appdev/comm/socket.js","appdev/sal/web-jquery.js","appdev/labels/lang.js","appdev/labels/label.js","appdev/comm/service.js","appdev/auth/reauth.js","appdev/widgets/ad_ui_reauth/ad_ui_reauth.js","appdev/widgets/ad_icon_busy/ad_icon_busy.js","appdev/widgets/ad_ui_reauth/reauth_local.ejs","appdev/widgets/ad_ui_reauth/reauth_cas.ejs",
"appdev/UIController.js","appdev/control/control.js");steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery"}},paths:{jquery:"js/jquery.min.js","jquery-ui.js":"js/jquery-ui.min.js","bootstrap.js":"js/bootstrap/js/bootstrap.min.js","bootstrap.css":"js/bootstrap/css/bootstrap.min.css","bootstrap-datetimepicker.js":"js/bootstrap/js/bootstrap-datetimepicker.min.js","bootstrap-datetimepicker.css":"styles/bootstrap-datetimepicker.min.css","font-awesome.css":"styles/font-awesome.css","GenericList.js":"js/GenericList.js","dropzone.js":"js/dropzone/dropzone.min.js",
"dropzone.css":"js/dropzone/dropzone.min.css","bootstrap-table.js":"js/bootstraptable/bootstrap-table.js","bootstrap-table.css":"js/bootstraptable/bootstrap-table.css","bootstrapValidator.js":"js/bootstrapValidator.min.js","bootstrapValidator.css":"styles/bootstrapValidator.min.css","bootbox.js":"js/bootbox.min.js","FilteredBootstrapTable.js":"OpsPortal/controllers/FilteredBootstrapTable.js","OpsButtonBusy.js":"OpsPortal/classes/OpsButtonBusy.js","selectivity.js":"js/selectivity/selectivity-full.min.js",
"selectivity.css":"js/selectivity/selectivity-full.min.css","typeahead.js":"js/typeahead.jquery.min.js","moment.js":"js/moment.min.js"},shim:{jquery:{exports:"jQuery",packaged:!1,ignore:!0},"js/dependencies/sails.io.js":{packaged:!1,ignore:!0},"site/labels/appdev.js":{packaged:!1,ignore:!0},"jquery-ui.js":{packaged:!1},"bootstrap.js":{packaged:!1},"bootstrap.css":{packaged:!1},"bootstrap-datetimepicker.js":{packaged:!1},"bootstrap-datetimepicker.css":{packaged:!1},"font-awesome.css":{packaged:!1},
"js/jquery.sidr.min.js":{packaged:!1},"dropzone.js":{packaged:!1},"dropzone.css":{packaged:!1},"bootstrap-table.js":{packaged:!1},"bootstrap-table.css":{packaged:!1},"bootstrapValidator.js":{packaged:!1},"bootstrapValidator.css":{packaged:!1},"bootbox.js":{packaged:!1},"opsportal/requirements.js":{packaged:!1,ignore:!0},"opsportal/config":{ignore:!0},"site/labels/OpsPortal.js":{packaged:!1,ignore:!0},"site/labels/opstool-RBAC.js":{packaged:!1,ignore:!0},"selectivity.js":{packaged:!1},"selectivity.css":{packaged:!1},
"site/labels/opstool-FCFActivities.js":{packaged:!1,ignore:!0},"typeahead.js":{packaged:!1,ignore:!0},"site/login-done":{packaged:!1},"moment.js":{packaged:!1}},amd:!1});steal.executed("stealconfig.js");
steal("jquery","appdev/loading.css","appdev/ad.js").then(function(){AD.ui.loading.attach();AD.ui.loading.text("initializing appdev library");AD.ui.loading.resources(21)},"can","can/view/ejs","can/construct/super").then(function(){AD.ui.loading.completed(3);AD.ui.jQuery=window.jQuery;AD.ui._resolveConflict&&(console.log(" .... trying to not conflict with existing jQuery"),$.noConflict())}).then("appdev/comm/hub.js","appdev/util/uuid.js","appdev/util/async.js","appdev/util/string.js","appdev/config/config.js",
"appdev/util/uiScrollbarSize.js","appdev/config/data.js","appdev/model/model.js","appdev/labels/lang.js","appdev/labels/label.js","appdev/comm/service.js","appdev/comm/socket.js","appdev/auth/reauth.js","appdev/UIController.js","appdev/control/control.js","appdev/widgets/ad_icon_busy","appdev/widgets/ad_ui_reauth","site/labels/appdev.js",function(){AD.ui.loading.completed(18);console.log("AD setup done ...")});steal.executed("appdev/appdev.js");
if("undefined"==typeof window.AD){AD={controllers:{},models:{},models_base:{},widgets:{},classes:{},ui:{},defaults:function(a,b){if(b)for(var e in b)a[e]=b[e];return a}};AD.ui.bootup={};AD.ui.bootup.requireSeries=function(a){var b=document.getElementsByTagName("link"),e=[];a.forEach(function(a){var g=[];a.forEach(function(a){var h;a:if(a.cond)h=a.cond();else{for(h=0;h<b.length;h++)if(-1!=b[h].href.indexOf(a.tag)){h=!0;break a}h=!1}h||g.push(a.lib)});0<g.length&&e.push(g)});var g=function(a){a>=e.length||
(console.log("loading series:"),console.log(e[a]),steal.apply(steal,e[a]).then(function(){g(a+1)}))};g(0)};var versionCompare=function(a,b,e){function g(a){return(f?/^\d+[A-Za-z]*$/:/^\d+$/).test(a)}var f=e&&e.lexicographical,e=e&&e.zeroExtend,a=a.split("."),b=b.split(".");if(!a.every(g)||!b.every(g))return NaN;if(e){for(;a.length<b.length;)a.push("0");for(;b.length<a.length;)b.push("0")}f||(a=a.map(Number),b=b.map(Number));for(e=0;e<a.length;++e){if(b.length==e)return 1;if(a[e]!=b[e])return a[e]>
b[e]?1:-1}return a.length!=b.length?-1:0};AD.util={};AD.util.versionCompare=versionCompare;AD.ui._resolveConflict=!1;AD.ui.loading={};AD.ui.loading.attach=function(a){AD.ui.loading._el=null;AD.ui.loading.reset();if("undefined"!=typeof document.querySelector&&(a=document.querySelector(a)))if(a.innerHTML='<span class="app-progressbar-text"></span><div class="app-progressbar"><div class="app-progressbar-inner" ></div></div>',AD.ui.loading._el=a,a=a.querySelector(".app-progressbar-inner"))a.style.width=
"0%"};AD.ui.loading.text=function(a){null==AD.ui.loading._el?console.error("Calling AD.ui.loading.text() before AD.ui.loading.attach()!  No can do!"):"undefined"!=typeof AD.ui.loading._el.querySelector&&(AD.ui.loading._el.querySelector(".app-progressbar-text").innerHTML=a)};AD.ui.loading.reset=function(){AD.ui.loading._total=0;AD.ui.loading._current=0};AD.ui.loading.resources=function(a){null==AD.ui.loading._el?console.warn("Calling AD.ui.loading.resources() before AD.ui.loading.attach()!  Why?"):
(AD.ui.loading._total+=a,AD.ui.loading._recalc())};AD.ui.loading.completed=function(a){null==AD.ui.loading._el?console.warn("Calling AD.ui.loading.complete() before AD.ui.loading.attach()! Why?"):(AD.ui.loading._current+=a,AD.ui.loading._recalc())};AD.ui.loading._recalc=function(){if(null==AD.ui.loading._el)console.warn("Calling AD.ui.loading._recalc() before AD.ui.loading.attach()! Why?");else if(0<AD.ui.loading._total){var a=100*(AD.ui.loading._current/AD.ui.loading._total);if("undefined"!=typeof AD.ui.loading._el.querySelector){var b=
AD.ui.loading._el.querySelector(".app-progressbar-inner");b&&(b.style.width=a+"%")}}}}steal.executed("appdev/ad.js");steal("can/util","can/control/route","can/model","can/view/mustache","can/component",function(a){return a});steal.executed("can/can.js");steal("can/util/jquery",function(a){return a});steal.executed("can/util/util.js");
steal("jquery","can/util/can.js","can/util/attr","can/event","can/util/array/each.js","can/util/inserted",function(a,b,e){var g=function(a){return a.nodeName&&(1===a.nodeType||9===a.nodeType)||a==window},a=a||window.$;a.extend(b,a,{trigger:function(c,d,h,m){g(c)?a.event.trigger(d,h,c,!m):c.trigger?c.trigger(d,h):("string"===typeof d&&(d={type:d}),d.target=d.target||c,h&&(h.length&&"string"===typeof h?h=[h]:h.length||(h=[h])),h||(h=[]),b.dispatch.call(c,d,h))},event:b.event,addEvent:b.addEvent,removeEvent:b.removeEvent,
buildFragment:function(c,d){var b,c=[c],d=d||document,d=!d.nodeType&&d[0]||d,d=d.ownerDocument||d;b=a.buildFragment(c,d);return b.cacheable?a.clone(b.fragment):b.fragment||b},$:a,each:b.each,bind:function(c,d){this.bind&&this.bind!==b.bind?this.bind(c,d):g(this)?a.event.add(this,c,d):b.addEvent.call(this,c,d);return this},unbind:function(c,d){this.unbind&&this.unbind!==b.unbind?this.unbind(c,d):g(this)?a.event.remove(this,c,d):b.removeEvent.call(this,c,d);return this},delegate:function(c,d,h){this.delegate?
this.delegate(c,d,h):g(this)?a(this).delegate(c,d,h):b.bind.call(this,d,h);return this},undelegate:function(c,d,h){this.undelegate?this.undelegate(c,d,h):g(this)?a(this).undelegate(c,d,h):b.unbind.call(this,d,h);return this},proxy:function(a,d){return function(){return a.apply(d,arguments)}},attr:e});b.on=b.bind;b.off=b.unbind;a.each("append filter addClass remove data get has".split(" "),function(a,d){b[d]=function(a){return a[d].apply(a,b.makeArray(arguments).slice(1))}});var f=a.cleanData;a.cleanData=
function(c){a.each(c,function(a,c){c&&b.trigger(c,"removed",[],!1)});f(c)};var l=a.fn.domManip,i;a.fn.domManip=function(a,d,b){for(var m=1;m<arguments.length;m++)if("function"===typeof arguments[m]){i=m;break}return l.apply(this,arguments)};a(document.createElement("div")).append(document.createElement("div"));a.fn.domManip=2===i?function(a,d,h){return l.call(this,a,d,function(a){var d;11===a.nodeType&&(d=b.makeArray(a.childNodes));var c=h.apply(this,arguments);b.inserted(d?d:[a]);return c})}:function(a,
d){return l.call(this,a,function(a){var c;11===a.nodeType&&(c=b.makeArray(a.childNodes));var j=d.apply(this,arguments);b.inserted(c?c:[a]);return j})};if(b.attr.MutationObserver)a.event.special.attributes={setup:function(){var a=this,d=new b.attr.MutationObserver(function(d){d.forEach(function(d){d=b.simpleExtend({},d);b.trigger(a,d,[])})});d.observe(this,{attributes:!0,attributeOldValue:!0});b.data(b.$(this),"canAttributesObserver",d)},teardown:function(){b.data(b.$(this),"canAttributesObserver").disconnect();
a.removeData(this,"canAttributesObserver")}};else{var h=a.attr;a.attr=function(a,d){var k,m;3<=arguments.length&&(k=h.call(this,a,d));var j=h.apply(this,arguments);3<=arguments.length&&(m=h.call(this,a,d));m!==k&&b.attr.trigger(a,d,k);return j};var o=a.removeAttr;a.removeAttr=function(a,d){var k=h.call(this,a,d),m=o.apply(this,arguments);null!=k&&b.attr.trigger(a,d,k);return m};a.event.special.attributes={setup:function(){b.data(b.$(this),"canHasAttributesBindings",!0)},teardown:function(){a.removeData(this,
"canHasAttributesBindings")}}}(function(){if("<-\n>"!==b.buildFragment("<-\n>",document).childNodes[0].nodeValue){var a=b.buildFragment;b.buildFragment=function(d,b){var h=a(d,b);1===h.childNodes.length&&3===h.childNodes[0].nodeType&&(h.childNodes[0].nodeValue=d);return h}}})();a.event.special.inserted={};a.event.special.removed={};return b});steal.executed("can/util/jquery/jquery.js");
steal(function(){var a="undefined"!==typeof window?window:global,b={};if("undefined"===typeof GLOBALCAN||!1!==GLOBALCAN)a.can=b;b.global=a;b.k=function(){};b.isDeferred=function(a){return a&&"function"===typeof a.then&&"function"===typeof a.pipe};var e=0;b.cid=function(a,b){a._cid||(e++,a._cid=(b||"")+e);return a._cid};b.VERSION="@EDGE";b.simpleExtend=function(a,b){for(var e in b)a[e]=b[e];return a};b.frag=function(a){var f;if(!a||"string"===typeof a)return f=b.buildFragment(null==a?"":""+a,document.body),
f.childNodes.length||f.appendChild(document.createTextNode("")),f;if(11===a.nodeType)return a;"number"===typeof a.nodeType?(f=document.createDocumentFragment(),f.appendChild(a)):"number"===typeof a.length?(f=document.createDocumentFragment(),b.each(a,function(a){f.appendChild(b.frag(a))})):(f=b.buildFragment(""+a,document.body),f.childNodes.length||f.appendChild(document.createTextNode("")));return f};b.scope=function(a,f){var a=b.$(a),e=b.data(a,"scope");e||(e=b.Map?new b.Map:{},b.data(a,"scope",
e));return f?e.attr(f):e};b["import"]=function(a){var e=new b.Deferred;"object"===typeof window.System?window.System["import"](a).then(b.proxy(e.resolve,e),b.proxy(e.reject,e)):window.define&&window.define.amd?window.require([a],function(a){e.resolve(a)}):window.steal?steal.steal(a,function(a){e.resolve(a)}):window.require?e.resolve(window.require(a)):e.resolve();return e.promise()};b.__reading=function(){};return b});steal.executed("can/util/can.js");
steal("can/util/can.js",function(a){var b=a.global.setImmediate||function(a){return setTimeout(a,0)},e={MutationObserver:a.global.MutationObserver||a.global.WebKitMutationObserver||a.global.MozMutationObserver,map:{"class":"className",value:"value",innertext:"innerText",textcontent:"textContent",checked:!0,disabled:!0,readonly:!0,required:!0,src:function(a,b){if(null==b||""===b)return a.removeAttribute("src"),null;a.setAttribute("src",b);return b},style:function(a,b){return a.style.cssText=b||""}},
defaultValue:["input","textarea"],set:function(b,f,l){var f=f.toLowerCase(),i;e.MutationObserver||(i=e.get(b,f));var h=b.nodeName.toString().toLowerCase(),o=e.map[f],c;"function"===typeof o?c=o(b,l):!0===o?(c=b[f]=!0,"checked"===f&&"radio"===b.type&&0<=a.inArray(h,e.defaultValue)&&(b.defaultChecked=!0)):o?(c=l,b[o]!==l&&(b[o]=l),"value"===o&&0<=a.inArray(h,e.defaultValue)&&(b.defaultValue=l)):(b.setAttribute(f,l),c=l);!e.MutationObserver&&c!==i&&e.trigger(b,f,i)},trigger:function(e,f,l){if(a.data(a.$(e),
"canHasAttributesBindings"))return f=f.toLowerCase(),b(function(){a.trigger(e,{type:"attributes",attributeName:f,target:e,oldValue:l,bubbles:!1},[])})},get:function(a,b){var b=b.toLowerCase(),l=e.map[b];return"string"===typeof l&&a[l]?a[l]:a.getAttribute(b)},remove:function(a,b){var b=b.toLowerCase(),l;e.MutationObserver||(l=e.get(a,b));var i=e.map[b];"function"===typeof i&&i(a,void 0);!0===i?a[b]=!1:"string"===typeof i?a[i]="":a.removeAttribute(b);!e.MutationObserver&&null!=l&&e.trigger(a,b,l)},
has:function(){var b=a.global.document&&document.createElement("div");return b&&b.hasAttribute?function(a,b){return a.hasAttribute(b)}:function(a,b){return null!==a.getAttribute(b)}}()};return e});steal.executed("can/util/attr/attr.js");
steal("can/util/can.js",function(a){a.addEvent=function(a,e){var g=this.__bindEvents||(this.__bindEvents={});(g[a]||(g[a]=[])).push({handler:e,name:a});return this};a.listenTo=function(b,e,g){var f=this.__listenToEvents;f||(f=this.__listenToEvents={});var l=a.cid(b),i=f[l];i||(i=f[l]={obj:b,events:{}});(f=i.events[e])||(f=i.events[e]=[]);f.push(g);a.bind.call(b,e,g)};a.stopListening=function(b,e,g){var f=this.__listenToEvents,l=f,i=0;if(!f||b&&(b=a.cid(b),(l={})[b]=f[b],!f[b]))return this;for(var h in l){var o=
l[h],c,b=f[h].obj;e?(c={})[e]=o.events[e]:c=o.events;for(var d in c){for(var k=c[d]||[],i=0;i<k.length;)g&&g===k[i]||!g?(a.unbind.call(b,d,k[i]),k.splice(i,1)):i++;k.length||delete o.events[d]}a.isEmptyObject(o.events)&&delete f[h]}return this};a.removeEvent=function(a,e,g){if(!this.__bindEvents)return this;for(var f=this.__bindEvents[a]||[],l=0,i,h="function"===typeof e;l<f.length;)i=f[l],(g?g(i,a,e):h&&i.handler===e||!h&&(i.cid===e||!e))?f.splice(l,1):l++;return this};a.dispatch=function(a,e){var g=
this.__bindEvents;if(g){"string"===typeof a&&(a={type:a});var g=(g[a.type]||[]).slice(0),f=[a];e&&f.push.apply(f,e);for(var l=0,i=g.length;l<i;l++)g[l].handler.apply(this,f);return a}};a.one=function(b,e){var g=function(){a.unbind.call(this,b,g);return e.apply(this,arguments)};a.bind.call(this,b,g);return this};a.event={on:function(){return 0===arguments.length&&a.Control&&this instanceof a.Control?a.Control.prototype.on.call(this):a.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&
a.Control&&this instanceof a.Control?a.Control.prototype.off.call(this):a.removeEvent.apply(this,arguments)},bind:a.addEvent,unbind:a.removeEvent,delegate:function(b,e,g){return a.addEvent.call(this,e,g)},undelegate:function(b,e,g){return a.removeEvent.call(this,e,g)},trigger:a.dispatch,one:a.one,addEvent:a.addEvent,removeEvent:a.removeEvent,listenTo:a.listenTo,stopListening:a.stopListening,dispatch:a.dispatch};return a.event});steal.executed("can/event/event.js");
steal("can/util/can.js",function(a){a.each=function(b,e,g){var f=0,l,i,h;if(b)if(i=b.length,"function"!==typeof arr&&(0===i||"number"===typeof i&&0<i&&i-1 in b))if(a.List&&b instanceof a.List)for(i=b.attr("length");f<i&&!(h=b.attr(f),!1===e.call(g||h,h,f,b));f++);else for(i=b.length;f<i&&!(h=b[f],!1===e.call(g||h,h,f,b));f++);else if("object"===typeof b)if(a.Map&&b instanceof a.Map||b===a.route){var o=a.Map.keys(b),f=0;for(i=o.length;f<i&&!(l=o[f],h=b.attr(l),!1===e.call(g||h,h,l,b));f++);}else for(l in b)if(b.hasOwnProperty(l)&&
!1===e.call(g||b[l],b[l],l,b))break;return b};return a});steal.executed("can/util/array/each.js");
steal("can/util/can.js",function(a){a.inserted=function(b){for(var b=a.makeArray(b),e=!1,g=a.$(document.contains?document:document.body),f,l=0,i;void 0!==(i=b[l]);l++){if(!e)if(i.getElementsByTagName)if(a.has(g,i).length)e=!0;else break;else continue;if(e&&i.getElementsByTagName){f=a.makeArray(i.getElementsByTagName("*"));a.trigger(i,"inserted",[],!1);i=0;for(var h;void 0!==(h=f[i]);i++)a.trigger(h,"inserted",[],!1)}}};a.appendChild=function(b,e){var g;g=11===e.nodeType?a.makeArray(e.childNodes):
[e];b.appendChild(e);a.inserted(g)};a.insertBefore=function(b,e,g){var f;f=11===e.nodeType?a.makeArray(e.childNodes):[e];b.insertBefore(e,g);a.inserted(f)}});steal.executed("can/util/inserted/inserted.js");
steal("can/util","can/route","can/control",function(a){a.Control.processors.route=function(b,e,g,f,l){g=g||"";a.route.routes[g]||("/"===g[0]&&(g=g.substring(1)),a.route(g));var i,h=function(b){if(a.route.attr("route")===g&&(void 0===b.batchNum||b.batchNum!==i))if(i=b.batchNum,b=a.route.attr(),delete b.route,a.isFunction(l[f]))l[f](b);else l[l[f]](b)};a.route.bind("change",h);return function(){a.route.unbind("change",h)}};return a});steal.executed("can/control/route/route.js");
steal("can/util","can/map","can/list","can/util/string/deparam",function(a){var b=/\:([\w\.]+)/g,e=function(d){var b=[];a.each(d,function(d,c){b.push(("className"===c?"class":c)+'="'+("href"===c?d:a.esc(d))+'"')});return b.join(" ")},g=function(a,d){var c=0,b=0,j={},h;for(h in a.defaults)a.defaults[h]===d[h]&&(j[h]=1,c++);for(;b<a.names.length;b++){if(!d.hasOwnProperty(a.names[b]))return-1;j[a.names[b]]||c++}return c},f=window.location,l=a.each,i=a.extend,h=function(d){d&&"object"===typeof d?(d=d instanceof
a.Map?d.attr():a.isFunction(d.slice)?d.slice():a.extend({},d),a.each(d,function(a,b){d[b]=h(a)})):void 0!==d&&null!==d&&a.isFunction(d.toString)&&(d=d.toString());return d},o=function(a){return a.replace(/\\/g,"")},c,d,k,m,j=function(){m=1;clearTimeout(c);c=setTimeout(function(){m=0;var d=a.route.data.serialize(),d=a.route.param(d,!0);a.route._call("setURL",d);a.batch.trigger(s,"__url",[d,k]);k=d},10)},s=a.extend({},a.event);a.route=function(d,c){var j=a.route._call("root");j.lastIndexOf("/")===j.length-
1&&0===d.indexOf("/")&&(d=d.substr(1));for(var c=c||{},j=[],h,m="",k=b.lastIndex=0,s=a.route._call("querySeparator"),e=a.route._call("matchSlashes");h=b.exec(d);)j.push(h[1]),m+=o(d.substring(k,b.lastIndex-h[0].length)),k="\\"+(o(d.substr(b.lastIndex,1))||s+(e?"":"|/")),m+="([^"+k+"]"+(c[h[1]]?"*":"+")+")",k=b.lastIndex;m+=d.substr(k).replace("\\","");a.route.routes[d]={test:RegExp("^"+m+"($|"+(s+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")+")"),route:d,names:j,defaults:c,length:d.split("/").length};
return a.route};i(a.route,{param:function(d,c){var j,h=0,m,k=d.route,s=0;delete d.route;l(d,function(){s++});l(a.route.routes,function(a){m=g(a,d);m>h&&(j=a,h=m);if(m>=s)return!1});a.route.routes[k]&&g(a.route.routes[k],d)===h&&(j=a.route.routes[k]);if(j){var e=i({},d),k=j.route.replace(b,function(a,c){delete e[c];return d[c]===j.defaults[c]?"":encodeURIComponent(d[c])}).replace("\\",""),r;l(j.defaults,function(a,d){e[d]===a&&delete e[d]});r=a.param(e);c&&a.route.attr("route",j.route);return k+(r?
a.route._call("querySeparator")+r:"")}return a.isEmptyObject(d)?"":a.route._call("querySeparator")+a.param(d)},deparam:function(d){var c=a.route._call("root");c.lastIndexOf("/")===c.length-1&&0===d.indexOf("/")&&(d=d.substr(1));var j={length:-1},b=a.route._call("querySeparator"),c=a.route._call("paramsMatcher");l(a.route.routes,function(a){a.test.test(d)&&a.length>j.length&&(j=a)});if(-1<j.length){var h=d.match(j.test),m=h.shift(),k=(m=d.substr(m.length-(h[h.length-1]===b?1:0)))&&c.test(m)?a.deparam(m.slice(1)):
{},k=i(!0,{},j.defaults,k);l(h,function(a,d){a&&a!==b&&(k[j.names[d]]=decodeURIComponent(a))});k.route=j.route;return k}d.charAt(0)!==b&&(d=b+d);return c.test(d)?a.deparam(d.slice(1)):{}},data:new a.Map({}),map:function(d){d=d.prototype instanceof a.Map?new d:d;a.route.data=d},routes:{},ready:function(d){!0!==d&&(a.route._setup(),a.route.setState());return a.route},url:function(d,c){c&&(d=a.extend({},a.route.deparam(a.route._call("matchingPartOfURL")),d));return a.route._call("root")+a.route.param(d)},
link:function(d,c,j,b){return"<a "+e(i({href:a.route.url(c,b)},j))+">"+d+"</a>"},current:function(d){a.__reading(s,"__url");return this._call("matchingPartOfURL")===a.route.param(d)},bindings:{hashchange:{paramsMatcher:/^(?:&[^=]+=[^&]*)+/,querySeparator:"&",matchSlashes:!1,bind:function(){a.bind.call(window,"hashchange",r)},unbind:function(){a.unbind.call(window,"hashchange",r)},matchingPartOfURL:function(){return f.href.split(/#!?/)[1]||""},setURL:function(a){f.hash="#!"+a;return a},root:"#!"}},
defaultBinding:"hashchange",currentBinding:null,_setup:function(){a.route.currentBinding||(a.route._call("bind"),a.route.bind("change",j),a.route.currentBinding=a.route.defaultBinding)},_teardown:function(){a.route.currentBinding&&(a.route._call("unbind"),a.route.unbind("change",j),a.route.currentBinding=null);clearTimeout(c);m=0},_call:function(){var d=a.makeArray(arguments),c=d.shift(),j=a.route.bindings[a.route.currentBinding||a.route.defaultBinding],c=j[c];return c.apply?c.apply(j,d):c}});l("bind unbind on off delegate undelegate removeAttr compute _get __get each".split(" "),
function(d){a.route[d]=function(){if(a.route.data[d])return a.route.data[d].apply(a.route.data,arguments)}});a.route.attr=function(d,c){var j=typeof d,j=void 0===c?arguments:"string"!==j&&"number"!==j?[h(d),c]:[d,h(c)];return a.route.data.attr.apply(a.route.data,j)};var r=a.route.setState=function(){var c=a.route._call("matchingPartOfURL"),j=d;d=a.route.deparam(c);if(!m||c!==k)a.batch.start(),t(j,d,a.route.data),a.route.attr(d),a.batch.trigger(s,"__url",[c,k]),a.batch.stop()},t=function(a,d,c){for(var j in a)void 0===
d[j]?c.removeAttr(j):"[object Object]"===Object.prototype.toString.call(a[j])&&t(a[j],d[j],c.attr(j))};return a.route});steal.executed("can/route/route.js");
steal("can/util","can/util/bind","./bubble.js","can/construct","can/util/batch",function(a,b,e){var g=null,f=function(){for(var a in g)g[a].added&&delete g[a].obj._cid;g=null},l=null,i=a.Map=a.Construct.extend({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Map){this.defaults||(this.defaults={});this._computes=[];for(var b in this.prototype)"define"!==b&&"constructor"!==b&&("function"!==typeof this.prototype[b]||this.prototype[b].prototype instanceof a.Construct)?this.defaults[b]=this.prototype[b]:
this.prototype[b].isComputed&&this._computes.push(b);this.helpers.define&&this.helpers.define(this)}a.List&&!(this.prototype instanceof a.List)&&(this.List=i.List.extend({Map:this},{}))},_bubble:e,_bubbleRule:function(a){return("change"===a||0<=a.indexOf("."))&&"change"},_computes:[],bind:a.bindAndSetup,on:a.bindAndSetup,unbind:a.unbindAndTeardown,off:a.unbindAndTeardown,id:"id",helpers:{define:null,attrParts:function(a,b){return b?[a]:"object"===typeof a?a:(""+a).split(".")},addToMap:function(b,
e){var c;g||(c=f,g={});var d=b._cid,k=a.cid(b);g[k]||(g[k]={obj:b,instance:e,added:!d});return c},isObservable:function(b){return b instanceof a.Map||b&&b===a.route},canMakeObserve:function(b){return b&&!a.isDeferred(b)&&(a.isArray(b)||a.isPlainObject(b))},serialize:function(b,e,c){var d=a.cid(b),k=!1;l||(k=!0,l={attr:{},serialize:{}});l[e][d]=c;b.each(function(d,j){var k;k=(k=i.helpers.isObservable(d)&&l[e][a.cid(d)])?k:"serialize"===e?i.helpers._serialize(b,j,d):i.helpers._getValue(b,j,d,e);void 0!==
k&&(c[j]=k)});a.__reading(b,"__keys");k&&(l=null);return c},_serialize:function(a,b,c){return i.helpers._getValue(a,b,c,"serialize")},_getValue:function(a,b,c,d){return i.helpers.isObservable(c)?c[d]():c}},keys:function(b){var e=[];a.__reading(b,"__keys");for(var c in b._data)e.push(c);return e}},{setup:function(b){b instanceof a.Map&&(b=b.serialize());this._data={};a.cid(this,".map");this._init=1;this._computedBindings={};var e=this._setupDefaults(b);this._setupComputes(e);var c=b&&a.Map.helpers.addToMap(b,
this);this.attr(a.extend(a.extend(!0,{},e),b));c&&c();this.bind("change",a.proxy(this._changes,this));delete this._init},_setupComputes:function(){for(var a=this.constructor._computes,b=0,c=a.length,d;b<c;b++)d=a[b],this[d]=this[d].clone(this),this._computedBindings[d]={count:0}},_setupDefaults:function(){return this.constructor.defaults||{}},_bindsetup:function(){},_bindteardown:function(){},_changes:function(b,e,c,d,k){a.batch.trigger(this,{type:e,batchNum:b.batchNum,target:b.target},[d,k])},_triggerChange:function(b,
i,c,d){e.isBubbling(this,"change")?a.batch.trigger(this,{type:"change",target:this},[b,i,c,d]):a.batch.trigger(this,b,[c,d]);("remove"===i||"add"===i)&&a.batch.trigger(this,{type:"__keys",target:this})},_each:function(a){var b=this.__get(),c;for(c in b)b.hasOwnProperty(c)&&a(b[c],c)},attr:function(b,e){var c=typeof b;if("string"!==c&&"number"!==c)return this._attrs(b,e);if(1===arguments.length)return a.__reading(this,b),this._get(b);this._set(b,e);return this},each:function(){return a.each.apply(void 0,
[this].concat(a.makeArray(arguments)))},removeAttr:function(b){var e=a.List&&this instanceof a.List,c=a.Map.helpers.attrParts(b),d=c.shift(),e=e?this[d]:this._data[d];if(c.length&&e)return e.removeAttr(c);"string"===typeof b&&~b.indexOf(".")&&(d=b);this._remove(d,e);return e},_remove:function(a,b){a in this._data&&(delete this._data[a],a in this.constructor.prototype||delete this[a],this._triggerChange(a,"remove",void 0,b))},_get:function(a){var a=""+a,b=a.indexOf(".");if(0<=b){var c=this.__get(a);
if(void 0!==c)return c;c=a.substr(0,b);a=a.substr(b+1);return(b=this.__get(c))&&b._get?b._get(a):void 0}return this.__get(a)},__get:function(a){return a?this._computedBindings[a]?this[a]():this._data[a]:this._data},__type:function(b){if(!(b instanceof a.Map)&&a.Map.helpers.canMakeObserve(b)){var e=g&&g[b._cid]&&g[b._cid].instance;return e?e:a.isArray(b)?new a.List(b):new (this.constructor.Map||a.Map)(b)}return b},_set:function(a,b,c){var a=""+a,d=a.indexOf(".");if(!c&&0<=d)if(c=a.substr(0,d),a=a.substr(d+
1),d=this._init?void 0:this.__get(c),i.helpers.isObservable(d))d._set(a,b);else throw"can.Map: Object does not exist";else this.__convert&&(b=this.__convert(a,b)),d=this._init?void 0:this.__get(a),this.__set(a,this.__type(b,a),d)},__set:function(a,b,c){if(b!==c){var d=void 0!==c||this.__get().hasOwnProperty(a)?"set":"add";this.___set(a,this.constructor._bubble.set(this,a,b,c));this._triggerChange(a,d,b,c);c&&this.constructor._bubble.teardownFromParent(this,c)}},___set:function(a,b){if(this._computedBindings[a])this[a](b);
else this._data[a]=b;"function"!==typeof this.constructor.prototype[a]&&!this._computedBindings[a]&&(this[a]=b)},bind:function(b,e){var c=this._computedBindings&&this._computedBindings[b];if(c)if(c.count)c.count++;else{c.count=1;var d=this;c.handler=function(c,m,j){a.batch.trigger(d,{type:b,batchNum:c.batchNum,target:d},[m,j])};this[b].bind("change",c.handler)}this.constructor._bubble.bind(this,b);return a.bindAndSetup.apply(this,arguments)},unbind:function(b,e){var c=this._computedBindings&&this._computedBindings[b];
c&&(1===c.count?(c.count=0,this[b].unbind("change",c.handler),delete c.handler):c.count--);this.constructor._bubble.unbind(this,b);return a.unbindAndTeardown.apply(this,arguments)},serialize:function(){return a.Map.helpers.serialize(this,"serialize",{})},_attrs:function(b,e){if(void 0===b)return i.helpers.serialize(this,"attr",{});var b=a.simpleExtend({},b),c,d=this,k;a.batch.start();this.each(function(a,c){"_cid"!==c&&(k=b[c],void 0===k?e&&d.removeAttr(c):(d.__convert&&(k=d.__convert(c,k)),i.helpers.isObservable(k)?
d.__set(c,d.__type(k,c),a):i.helpers.isObservable(a)&&i.helpers.canMakeObserve(k)?a.attr(k,e):a!==k&&d.__set(c,d.__type(k,c),a),delete b[c]))});for(c in b)"_cid"!==c&&(k=b[c],this._set(c,k,!0));a.batch.stop();return this},compute:function(b){if(a.isFunction(this.constructor.prototype[b]))return a.compute(this[b],this);var e=b.split("."),c=e.length-1,d={args:[]};return a.compute(function(b){if(arguments.length)a.compute.read(this,e.slice(0,c)).value.attr(e[c],b);else return a.compute.read(this,e,d).value},
this)}});i.prototype.on=i.prototype.bind;i.prototype.off=i.prototype.unbind;return i});steal.executed("can/map/map.js");
steal("can/util",function(a){a.bindAndSetup=function(){a.addEvent.apply(this,arguments);this._init||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup()));return this};a.unbindAndTeardown=function(b,e){a.removeEvent.apply(this,arguments);null===this._bindings?this._bindings=0:this._bindings--;!this._bindings&&this._bindteardown&&this._bindteardown();return this};return a});steal.executed("can/util/bind/bind.js");
steal("can/util",function(a){var b=a.bubble={event:function(a,b){return a.constructor._bubbleRule(b,a)},childrenOf:function(a,g){a._each(function(f,l){f&&f.bind&&b.toParent(f,a,l,g)})},teardownChildrenFrom:function(a,g){a._each(function(f){b.teardownFromParent(a,f,g)})},toParent:function(b,g,f,l){a.listenTo.call(g,b,l,function(){var i=a.makeArray(arguments),h=i.shift();i[0]=(a.List&&g instanceof a.List?g.indexOf(b):f)+(i[0]?"."+i[0]:"");h.triggeredNS=h.triggeredNS||{};h.triggeredNS[g._cid]||(h.triggeredNS[g._cid]=
!0,a.trigger(g,h,i))})},teardownFromParent:function(b,g,f){g&&g.unbind&&a.stopListening.call(b,g,f)},isBubbling:function(a,b){return a._bubbleBindings&&a._bubbleBindings[b]},bind:function(a,g){if(!a._init){var f=b.event(a,g);f&&((a._bubbleBindings||(a._bubbleBindings={}),a._bubbleBindings[f])?a._bubbleBindings[f]++:(a._bubbleBindings[f]=1,b.childrenOf(a,f)))}},unbind:function(e,g){var f=b.event(e,g);f&&(e._bubbleBindings&&e._bubbleBindings[f]--,e._bubbleBindings&&!e._bubbleBindings[f]&&(delete e._bubbleBindings[f],
b.teardownChildrenFrom(e,f),a.isEmptyObject(e._bubbleBindings)&&delete e._bubbleBindings))},add:function(e,g,f){if(g instanceof a.Map&&e._bubbleBindings)for(var l in e._bubbleBindings)e._bubbleBindings[l]&&(b.teardownFromParent(e,g,l),b.toParent(g,e,f,l))},removeMany:function(a,g){for(var f=0,l=g.length;f<l;f++)b.remove(a,g[f])},remove:function(e,g){if(g instanceof a.Map&&e._bubbleBindings)for(var f in e._bubbleBindings)e._bubbleBindings[f]&&b.teardownFromParent(e,g,f)},set:function(e,g,f,l){a.Map.helpers.isObservable(f)&&
b.add(e,f,g);a.Map.helpers.isObservable(l)&&b.remove(e,l);return f}};return b});steal.executed("can/map/bubble.js");
steal("can/util/string",function(a){var b=0,e;try{Object.getOwnPropertyDescriptor({}),e=!0}catch(g){e=!1}var f=function(b,e,f){var f=f||b,c,d;for(d in b){var k;(c=k=(k=Object.getOwnPropertyDescriptor(b,d))&&(k.get||k.set)?k:null)?this._defineProperty(f,e,d,c):a.Construct._overwrite(f,e,d,b[d])}},l=function(b,e,f){var f=f||b,c;for(c in b)a.Construct._overwrite(f,e,c,b[c])};a.Construct=function(){if(arguments.length)return a.Construct.extend.apply(a.Construct,arguments)};a.extend(a.Construct,{constructorExtends:!0,
newInstance:function(){var a=this.instance(),b;a.setup&&(b=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b||arguments);return a},_inherit:e?f:l,_defineProperty:function(a,b,e,c){Object.defineProperty(a,e,c)},_overwrite:function(a,b,e,c){a[e]=c},setup:function(b){this.defaults=a.extend(!0,{},b.defaults,this.defaults)},instance:function(){b=1;var a=new this;b=0;return a},extend:function(e,f,g){function c(){if(!b)return this.constructor!==s&&arguments.length&&s.constructorExtends?s.extend.apply(s,
arguments):s.newInstance.apply(s,arguments)}var d=e,k=f,m=g;"string"!==typeof d&&(m=k,k=d,d=null);m||(m=k,k=null);var m=m||{},j=this.prototype,s,r,t,n,p,u,l,z;z=this.instance();a.Construct._inherit(m,j,z);d&&(r=d.split("."),u=r.pop());"undefined"===typeof constructorName&&(s=function(){return c.apply(this,arguments)});for(p in this)this.hasOwnProperty(p)&&(s[p]=this[p]);a.Construct._inherit(k,this,s);d&&(l=k=a.getObject(r.join("."),window,!0),t=a.underscore(d.replace(/\./g,"_")),n=a.underscore(u),
k[u]=s);a.extend(s,{constructor:s,prototype:z,namespace:l,_shortName:n,fullName:d,_fullName:t});void 0!==u&&(s.shortName=u);s.prototype.constructor=s;d=[this].concat(a.makeArray(arguments));t=s.setup.apply(s,d);s.init&&s.init.apply(s,t||d);return s}});a.Construct.prototype.setup=function(){};a.Construct.prototype.init=function(){};return a.Construct});steal.executed("can/construct/construct.js");
steal("can/util",function(a){var b=/\=\=/,e=/([A-Z]+)([A-Z][a-z])/g,g=/([a-z\d])([A-Z])/g,f=/([a-z\d])([A-Z])/g,l=/\{([^\}]+)\}/g,i=/"/g,h=/'/g,o=/-+(.)?/g,c=/[a-z][A-Z]/g,d=function(a,d,b){var c=a[d];void 0===c&&!0===b&&(c=a[d]={});return c},k=function(a){return""+(null===a||void 0===a||isNaN(a)&&"NaN"===""+a?"":a)};a.extend(a,{esc:function(a){return k(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(i,"&#34;").replace(h,"&#39;")},getObject:function(b,c,k){var b=b?b.split("."):
[],e=b.length,i,n=0,p,f,h,c=a.isArray(c)?c:[c||window];h=c.length;if(!e)return c[0];for(n;n<h;n++){i=c[n];f=void 0;for(p=0;p<e&&/^f|^o/.test(typeof i);p++)f=i,i=d(f,b[p]);if(void 0!==f&&void 0!==i)break}!1===k&&void 0!==i&&delete f[b[p-1]];if(!0===k&&void 0===i){i=c[0];for(p=0;p<e&&/^f|^o/.test(typeof i);p++)i=d(i,b[p],!0)}return i},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},camelize:function(a){return k(a).replace(o,function(a,d){return d?d.toUpperCase():""})},hyphenate:function(a){return k(a).replace(c,
function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})},underscore:function(a){return a.replace(b,"/").replace(e,"$1_$2").replace(g,"$1_$2").replace(f,"_").toLowerCase()},sub:function(d,b,c){var k=[];k.push((d||"").replace(l,function(d,n){var m=a.getObject(n,b,!0===c?!1:void 0);return void 0===m||null===m?(k=null,""):/^f|^o/.test(typeof m)&&k?(k.push(m),""):""+m}));return null===k?k:1>=k.length?k[0]:k},replacer:l,undHash:/_|-/});return a});steal.executed("can/util/string/string.js");
steal("can/util/can.js",function(a){var b=1,e=0,g=[],f=[];a.batch={start:function(a){e++;a&&f.push(a)},stop:function(l,i){l?e=0:e--;if(0===e){var h=g.slice(0),o=f.slice(0),c,d;g=[];f=[];a.batch.batchNum=b;b++;i&&a.batch.start();c=0;for(d=h.length;c<d;c++)a.dispatch.apply(h[c][0],h[c][1]);for(c=0;c<o.length;c++)o[c]();a.batch.batchNum=void 0}},trigger:function(f,i,h){if(!f._init){if(0===e)return a.dispatch.call(f,i,h);i="string"===typeof i?{type:i}:i;i.batchNum=b;g.push([f,[i,h]])}}}});steal.executed("can/util/batch/batch.js");
steal("can/util","can/map","can/map/bubble.js",function(a,b,e){var g=[].splice,f=function(){var a={"0":"a",length:1};g.call(a,0,1);return!a[0]}(),l=b.extend({Map:b},{setup:function(b,e){this.length=0;a.cid(this,".map");this._init=1;this._computedBindings={};this._setupComputes();var b=b||[],f;a.isDeferred(b)?this.replace(b):(f=b.length&&a.Map.helpers.addToMap(b,this),this.push.apply(this,a.makeArray(b||[])));f&&f();this.bind("change",a.proxy(this._changes,this));a.simpleExtend(this,e);delete this._init},
_triggerChange:function(e,f,g,c){b.prototype._triggerChange.apply(this,arguments);var d=+e;!~(""+e).indexOf(".")&&!isNaN(d)&&("add"===f?(a.batch.trigger(this,f,[g,d]),a.batch.trigger(this,"length",[this.length])):"remove"===f?(a.batch.trigger(this,f,[c,d]),a.batch.trigger(this,"length",[this.length])):a.batch.trigger(this,f,[g,d]))},__get:function(b){return b?this[b]&&this[b].isComputed&&a.isFunction(this.constructor.prototype[b])?this[b]():this[b]:this},__set:function(b,e,f){b=isNaN(+b)||b%1?b:+b;
"number"===typeof b&&b>this.length-1&&(b=Array(b+1-this.length),b[b.length-1]=e,e=b,b=this.length);return a.Map.prototype.__set.call(this,""+b,e,f)},___set:function(a,b){this[a]=b;+a>=this.length&&(this.length=+a+1)},_remove:function(a,b){isNaN(+a)?(delete this[a],this._triggerChange(a,"remove",void 0,b)):this.splice(a,1)},_each:function(a){for(var b=this.__get(),e=0;e<b.length;e++)a(b[e],e)},serialize:function(){return b.helpers.serialize(this,"serialize",[])},splice:function(b,h){var l=a.makeArray(arguments),
c=[],d,k,m,j=2<l.length,b=b||0;d=0;for(k=l.length-2;d<k;d++)m=d+2,l[m]=this.__type(l[m],m),c.push(l[m]),this[d+b]!==l[m]&&(j=!1);if(j)return c;void 0===h&&(h=l[1]=this.length-b);m=g.apply(this,l);if(!f)for(d=this.length;d<m.length+this.length;d++)delete this[d];a.batch.start();0<h&&(e.removeMany(this,m),this._triggerChange(""+b,"remove",void 0,m));if(2<l.length){d=0;for(k=c.length;d<k;d++)e.set(this,d,c[d]);this._triggerChange(""+b,"add",c,m)}a.batch.stop();return m},_attrs:function(e,f){if(void 0===
e)return b.helpers.serialize(this,"attr",[]);e=a.makeArray(e);a.batch.start();this._updateAttrs(e,f);a.batch.stop()},_updateAttrs:function(a,e){for(var f=Math.min(a.length,this.length),c=0;c<f;c++){var d=this[c],k=a[c];b.helpers.isObservable(d)&&b.helpers.canMakeObserve(k)?d.attr(k,e):d!==k&&this._set(c,k)}a.length>this.length?this.push.apply(this,a.slice(this.length)):a.length<this.length&&e&&this.splice(a.length)}});a.each({push:"length",unshift:0},function(a,b){var f=[][b];l.prototype[b]=function(){for(var b=
[],d=a?this.length:0,k=arguments.length,m;k--;)m=arguments[k],b[k]=e.set(this,k,this.__type(m,k));k=f.apply(this,b);(!this.comparator||b.length)&&this._triggerChange(""+d,"add",b,void 0);return k}});a.each({pop:"length",shift:0},function(b,f){l.prototype[f]=function(){if(this.length){var g=arguments[0]&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments),c=b&&this.length?this.length-1:0,g=[][f].apply(this,g);this._triggerChange(""+c,"remove",void 0,[g]);g&&g.unbind&&e.remove(this,g);return g}}});
a.extend(l.prototype,{indexOf:function(b,e){this.attr("length");return a.inArray(b,this,e)},join:function(){return[].join.apply(this.attr(),arguments)},reverse:function(){this.replace([].reverse.call(a.makeArray(this)))},slice:function(){return new this.constructor(Array.prototype.slice.apply(this,arguments))},concat:function(){var b=[];a.each(a.makeArray(arguments),function(e,f){b[f]=e instanceof a.List?e.serialize():e});return new this.constructor(Array.prototype.concat.apply(this.serialize(),b))},
forEach:function(b,e){return a.each(this,b,e||this)},replace:function(b){a.isDeferred(b)?b.then(a.proxy(this.replace,this)):this.splice.apply(this,[0,this.length].concat(a.makeArray(b||[])));return this},filter:function(b,e){var f=new a.List,c=this;this.each(function(a,k){b.call(e|c,a,k,c)&&f.push(a)});return f}});a.List=b.List=l;return a.List});steal.executed("can/list/list.js");
steal("can/util","can/util/string",function(a){var b=/^\d+$/,e=/([^\[\]]+)|(\[\])/g,g=/([^?#]*)(#.*)?$/,f=function(a){return decodeURIComponent(a.replace(/\+/g," "))};a.extend(a,{deparam:function(l){var i={},h;l&&g.test(l)&&(l=l.split("&"),a.each(l,function(a){var a=a.split("="),c=f(a.shift()),d=f(a.join("=")),k=i;if(c){for(var a=c.match(e),c=0,m=a.length-1;c<m;c++)k[a[c]]||(k[a[c]]=b.test(a[c+1])||"[]"===a[c+1]?[]:{}),k=k[a[c]];h=a.pop();"[]"===h?k.push(d):k[h]=d}}));return i}});return a});steal.executed("can/util/string/deparam/deparam.js");
steal("can/util","can/construct",function(a){var b=function(b,d,c){a.bind.call(b,d,c);return function(){a.unbind.call(b,d,c)}},e=a.isFunction,g=a.extend,f=a.each,l=[].slice,i=/\{([^\}]+)\}/g,h=a.getObject("$.event.special",[a])||{},o=function(b,d,c,e){a.delegate.call(b,d,c,e);return function(){a.undelegate.call(b,d,c,e)}},c,d=a.Control=a.Construct({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Control){var b;this.actions={};for(b in this.prototype)this._isAction(b)&&(this.actions[b]=
this._action(b))}},_shifter:function(b,d){var c="string"===typeof d?b[d]:d;e(c)||(c=b[c]);return function(){b.called=d;return c.apply(b,[this.nodeName?a.$(this):this].concat(l.call(arguments,0)))}},_isAction:function(a){var b=this.prototype[a],d=typeof b;return"constructor"!==a&&("function"===d||"string"===d&&e(this.prototype[b]))&&!(!h[a]&&!k[a]&&!/[^\w]/.test(a))},_action:function(b,d){i.lastIndex=0;if(d||!i.test(b)){var e=d?a.sub(b,this._lookup(d)):b;if(!e)return null;var f=a.isArray(e),g=f?e[1]:
e,n=g.split(/\s+/g),p=n.pop();return{processor:k[p]||c,parts:[g,n.join(" "),p],delegate:f?e[0]:void 0}}},_lookup:function(a){return[a,window]},processors:{},defaults:{}},{setup:function(b,d){var c=this.constructor,e=c.pluginName||c._fullName;this.element=a.$(b);e&&"can_control"!==e&&this.element.addClass(e);(e=a.data(this.element,"controls"))||(e=[],a.data(this.element,"controls",e));e.push(this);this.options=g({},c.defaults,d);this.on();return[this.element,this.options]},on:function(d,c,e,k){if(!d){this.off();
var d=this.constructor,c=this._bindings,e=d.actions,k=this.element,f=a.Control._shifter(this,"destroy"),n,p;for(n in e)e.hasOwnProperty(n)&&(p=e[n]||d._action(n,this.options,this))&&(c.control[n]=p.processor(p.delegate||k,p.parts[2],p.parts[1],n,this));a.bind.call(k,"removed",f);c.user.push(function(b){a.unbind.call(b,"removed",f)});return c.user.length}"string"===typeof d&&(k=e,e=c,c=d,d=this.element);void 0===k&&(k=e,e=c,c=null);"string"===typeof k&&(k=a.Control._shifter(this,k));this._bindings.user.push(c?
o(d,a.trim(c),e,k):b(d,e,k));return this._bindings.user.length},off:function(){var a=this.element[0],b=this._bindings;b&&(f(b.user||[],function(b){b(a)}),f(b.control||{},function(b){b(a)}));this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var b=this.constructor,b=b.pluginName||b._fullName;this.off();b&&"can_control"!==b&&this.element.removeClass(b);b=a.data(this.element,"controls");b.splice(a.inArray(this,b),1);a.trigger(this,"destroyed");this.element=null}}}),k=a.Control.processors;
c=function(d,c,e,k,f){k=a.Control._shifter(f,k);return e?o(d,a.trim(e),c,k):b(d,c,k)};f("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave touchstart touchmove touchcancel touchend touchleave inserted removed".split(" "),function(a){k[a]=c});return d});steal.executed("can/control/control.js");
steal("can/util","can/map","can/list",function(a){var b=function(b,d,c){var e=new a.Deferred;b.then(function(){var b=a.makeArray(arguments),j=!0;try{b[0]=c.apply(d,b)}catch(k){j=!1,e.rejectWith(e,[k].concat(b))}j&&e.resolveWith(e,b)},function(){e.rejectWith(this,arguments)});"function"===typeof b.abort&&(e.abort=function(){return b.abort()});return e},e=0,g=function(b){a.__reading(b,b.constructor.id);return b.__get(b.constructor.id)},f=function(d,c,e,k,n){var f;a.isArray(d)?(f=d[1],d=d[0]):f=d.serialize();
f=[f];var m=d.constructor,h;("update"===c||"destroy"===c)&&f.unshift(g(d));h=m[c].apply(m,f);f=b(h,d,function(a){d[n||c+"d"](a,h);return d});h.abort&&(f.abort=function(){h.abort()});f.then(e,k);return f},l={models:function(b,d,c){a.Model._reqs++;if(b){if(b instanceof this.List)return b;var e=this,k=[],f=e.List||m,g=d instanceof a.List?d:new f,d=b instanceof m?b.serialize():b,d=e.parseModels(d,c);d.data&&(b=d,d=d.data);if("undefined"===typeof d)throw Error("Could not get any raw data while converting using .models");
g.length&&g.splice(0);a.each(d,function(a){k.push(e.model(a,c))});g.push.apply(g,k);a.isArray(b)||a.each(b,function(a,b){"data"!==b&&g.attr(b,a)});setTimeout(a.proxy(this._clean,this),1);return g}},model:function(b,d,c){if(b){b="function"===typeof b.serialize?b.serialize():this.parseModel(b,c);if(((c=b[this.id])||0===c)&&this.store[c])d=this.store[c];return d&&a.isFunction(d.attr)?d.attr(b,this.removeAttr||!1):new this(b)}}},i={parseModel:function(b){return function(d){return b?a.getObject(b,d):d}},
parseModels:function(b){return function(d){if(a.isArray(d))return d;b=b||"data";d=a.getObject(b,d);if(!a.isArray(d))throw Error("Could not get any raw data while converting using .models");return d}}},h={create:{url:"_shortName",type:"post"},update:{data:function(b,d){var d=d||{},c=this.id;d[c]&&d[c]!==b&&(d["new"+a.capitalize(b)]=d[c],delete d[c]);d[c]=b;return d},type:"put"},destroy:{type:"delete",data:function(a,b){b=b||{};b.id=b[this.id]=a;return b}},findAll:{url:"_shortName"},findOne:{}},o=function(b,
d){return function(c){var c=b.data?b.data.apply(this,arguments):c,e=d||this[b.url||"_url"],k=c,f=b.type||"get",m={};"string"===typeof e?(e=e.split(/\s+/),m.url=e.pop(),e.length&&(m.type=e.pop())):a.extend(m,e);m.data="object"===typeof k&&!a.isArray(k)?a.extend(m.data||{},k):k;m.url=a.sub(m.url,m.data,!0);return a.ajax(a.extend({type:f||"post",dataType:"json",success:void 0,error:void 0},m))}},c=function(a,b){if(a.resource){var d=a.resource.replace(/\/+$/,"");return"findAll"===b||"create"===b?d:d+
"/{"+a.id+"}"}};a.Model=a.Map.extend({fullName:"can.Model",_reqs:0,setup:function(b,d,k,f){"string"!==typeof d&&(f=k,k=d);f||(f=k);this.store={};a.Map.setup.apply(this,arguments);if(a.Model){k&&k.List?(this.List=k.List,this.List.Map=this):this.List=b.List.extend({Map:this},{});var n=this,m=a.proxy(this._clean,n);a.each(h,function(d,e){k&&k[e]&&("string"===typeof k[e]||"object"===typeof k[e])?n[e]=o(d,k[e]):k&&k.resource&&!a.isFunction(k[e])&&(n[e]=o(d,c(n,e)));if(n["make"+a.capitalize(e)]){var f=
n["make"+a.capitalize(e)](n[e]);a.Construct._overwrite(n,b,e,function(){a.Model._reqs++;var b=f.apply(this,arguments),d=b.then(m,m);d.abort=b.abort;return d})}});var g={};a.each(l,function(d,c){var e="parse"+a.capitalize(c),f=k&&k[c]||n[c];"string"===typeof f?(n[e]=f,a.Construct._overwrite(n,b,c,d)):k&&k[c]&&(g[e]=!0)});a.each(i,function(d,c){var e=k&&k[c]||n[c];if("string"===typeof e)a.Construct._overwrite(n,b,c,d(e));else if((!k||!a.isFunction(k[c]))&&!n[c])e=d(),e.useModelConverter=g[c],a.Construct._overwrite(n,
b,c,e)});if("can.Model"===n.fullName||!n.fullName)n.fullName="Model"+ ++e;a.Model._reqs=0;this._url=this._shortName+"/{"+this.id+"}"}},_ajax:o,_makeRequest:f,_clean:function(b){a.Model._reqs--;if(!a.Model._reqs)for(var d in this.store)this.store[d]._bindings||delete this.store[d];return b},models:l.models,model:l.model},{setup:function(b){var d=b&&b[this.constructor.id];a.Model._reqs&&null!=d&&(this.constructor.store[d]=this);a.Map.prototype.setup.apply(this,arguments)},isNew:function(){var a=g(this);
return!(a||0===a)},save:function(a,b){return f(this,this.isNew()?"create":"update",a,b)},destroy:function(b,d){if(this.isNew()){var c=this,e=a.Deferred();e.then(b,d);return e.done(function(a){c.destroyed(a)}).resolve(c)}return f(this,"destroy",b,d,"destroyed")},_bindsetup:function(){var b=this.__get(this.constructor.id);null!=b&&(this.constructor.store[b]=this);return a.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){delete this.constructor.store[g(this)];return a.Map.prototype._bindteardown.apply(this,
arguments)},___set:function(b,d){a.Map.prototype.___set.call(this,b,d);b===this.constructor.id&&this._bindings&&(this.constructor.store[g(this)]=this)}});var d=function(a){return function(b,d,c){return this[a](b,null,c)}},k=function(a){return this.parseModel.useModelConverter?this.model(a):this.parseModel(a)},d={makeFindAll:d("models"),makeFindOne:d("model"),makeCreate:k,makeUpdate:k};a.each(d,function(d,c){a.Model[c]=function(c){return function(){var e=a.makeArray(arguments),k=a.isFunction(e[1])?
e.splice(0,1):e.splice(0,2),k=b(c.apply(this,k),this,d);k.then(e[0],e[1]);return k}}});a.each(["created","updated","destroyed"],function(b){a.Model.prototype[b]=function(d){var c=this.constructor;d&&"object"===typeof d&&this.attr(a.isFunction(d.attr)?d.attr():d);a.dispatch.call(this,{type:"change",target:this},[b]);a.dispatch.call(c,b,[this])}});var m=a.Model.List=a.List.extend({_bubbleRule:function(b,d){return a.List._bubbleRule(b,d)||"destroyed"}},{setup:function(b){a.isPlainObject(b)&&!a.isArray(b)?
(a.List.prototype.setup.apply(this),this.replace(a.isDeferred(b)?b:this.constructor.Map.findAll(b))):a.List.prototype.setup.apply(this,arguments);this._init=1;this.bind("destroyed",a.proxy(this._destroyed,this));delete this._init},_destroyed:function(a,b){if(/\w+/.test(b))for(var d;-1<(d=this.indexOf(a.target));)this.splice(d,1)}});return a.Model});steal.executed("can/model/model.js");
steal("can/util","can/view/scope","can/view","can/view/scanner.js","can/compute","can/view/render.js","can/view/bindings",function(a){a.view.ext=".mustache";var b=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,e=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,g=function(a){return a&&"string"===typeof a.get},f=function(b){return b instanceof a.Map||b&&!!b._get},l=function(a){return a&&a.splice&&"number"===typeof a.length},i=function(b,
c,e){return function(j,f){void 0!==j&&!(j instanceof a.view.Scope)&&(j=c.add(j));void 0!==f&&!(f instanceof a.view.Options)&&(f=e.add(f));return b(j||c,f||e)}},h=function(b){if(this.constructor!==h){var c=new h(b);return function(a,b){return c.render(a,b)}}"function"===typeof b?this.template={fn:b}:(a.extend(this,b),this.template=this.scanner.scan(this.text,this.name))};a.Mustache=a.global.Mustache=h;h.prototype.render=function(b,c){b instanceof a.view.Scope||(b=new a.view.Scope(b||{}));c instanceof
a.view.Options||(c=new a.view.Options(c||{}));c=c||{};return this.template.fn.call(b,b,c)};a.extend(h.prototype,{scanner:new a.view.Scanner({text:{start:"",scope:"scope",options:",options: options",argNames:"scope,options"},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(a){return{before:/^\n.+?\n$/.test(a)?
"\n":"",content:a.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(b){return"can.Mustache.renderPartial('"+a.trim(b.replace(/^>\s?/,"")).replace(/["|']/g,"")+"',scope,options)"}},{name:/^\s*data\s/,fn:function(a){return"can.proxy(function(__){can.data(can.$(__),'"+a.match(/["|'](.*)["|']/)[1]+"', this.attr('.')); }, scope)"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){a=a.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);
return"can.proxy(function(__){var "+a[1]+"=can.$(__);with(scope.attr('.')){"+a[2]+"}}, this);"}},{name:/^.*$/,fn:function(d,c){var f=!1,j={content:"",startTxt:!1,startOnlyTxt:!1,end:!1},d=a.trim(d);if(d.length&&(f=d.match(/^([#^/]|else$)/))){f=f[0];switch(f){case "#":case "^":c.specialAttribute?j.startOnlyTxt=!0:(j.startTxt=!0,j.escaped=0);break;case "/":return j.end=!0,j.content+='return ___v1ew.join("");}}])',j}d=d.substring(1)}if("else"!==f){var g=[],h=[],l=0,n;j.content+="can.Mustache.txt(\n"+
(c.specialAttribute?"{scope:scope,options:options, special: true}":"{scope:scope,options:options}")+",\n"+(f?'"'+f+'"':"null")+",";(a.trim(d)+" ").replace(b,function(a,b){l&&(n=b.match(e))?n[2]?g.push(n[0]):h.push(n[4]+":"+(n[6]?n[6]:'{get:"'+n[5].replace(/"/g,'\\"')+'"}')):g.push('{get:"'+b.replace(/"/g,'\\"')+'"}');l++});j.content+=g.join(",");h.length&&(j.content+=",{___h4sh:{"+h.join(",")+"}}")}f&&"else"!==f&&(j.content+=",[\n\n");switch(f){case "^":case "#":j.content+="{fn:function(scope,options){var ___v1ew = [];";
break;case "else":j.content+='return ___v1ew.join("");}},\n{inverse:function(scope,options){\nvar ___v1ew = [];';break;default:j.content+=")"}f||(j.startTxt=!0,j.end=!0);return j}}]})});for(var o=a.view.Scanner.prototype.helpers,c=0;c<o.length;c++)h.prototype.scanner.helpers.unshift(o[c]);h.txt=function(b,c,e){for(var j=b.scope,s=b.options,r=[],o={fn:function(){},inverse:function(){}},n,p=j.attr("."),u=!0,F,z=3;z<arguments.length;z++){var q=arguments[z];if(c&&a.isArray(q))o=a.extend.apply(a,[o].concat(q));
else if(q&&q.___h4sh){n=q.___h4sh;for(var v in n)g(n[v])&&(n[v]=h.get(n[v].get,b,!1,!0))}else q&&g(q)?r.push(h.get(q.get,b,!1,!0,!0)):r.push(q)}g(e)&&(u=e.get,e=h.get(e.get,b,r.length,!1),u=u===e);o.fn=i(o.fn,j,s);o.inverse=i(o.inverse,j,s);"^"===c&&(z=o.fn,o.fn=o.inverse,o.inverse=z);return(F=u&&"string"===typeof e&&h.getHelper(e,s)||a.isFunction(e)&&!e.isComputed&&{fn:e})?(a.extend(o,{context:p,scope:j,contexts:j,hash:n}),r.push(o),function(){return F.fn.apply(p,r)||""}):function(){var b;b=a.isFunction(e)&&
e.isComputed?e():e;var d=r.length?r:[b],j=!0,n=[],p,g,h;if(c)for(p=0;p<d.length;p++)h=d[p],g="undefined"!==typeof h&&f(h),l(h)?"#"===c?j=j&&!!(g?h.attr("length"):h.length):"^"===c&&(j=j&&!(g?h.attr("length"):h.length)):j="#"===c?j&&!!h:"^"===c?j&&!h:j;if(j){if("#"===c){if(l(b)){d=f(b);for(p=0;p<b.length;p++)n.push(o.fn(d?b.attr(""+p):b[p]));return n.join("")}return o.fn(b||{})||""}return"^"===c?o.inverse(b||{})||"":""+(null!=b?b:"")}return""}};h.get=function(b,c,e,j,f){var g=c.scope.attr("."),l=c.options||
{};if(e){if(h.getHelper(b,l))return b;if(c.scope&&a.isFunction(g[b]))return g[b]}e=c.scope.computeData(b,{isArgument:j,args:[g,c.scope]});j=e.compute;a.compute.temporarilyBind(j);g=e.initialValue;h.getHelper(b,l);return!f&&(void 0===g||e.scope!==c.scope)&&h.getHelper(b,l)?b:j.hasDependencies?j:g};h.resolve=function(b){return f(b)&&l(b)&&b.attr("length")?b:a.isFunction(b)?b():b};a.view.Options=a.view.Scope.extend({init:function(b,c){!b.helpers&&!b.partials&&!b.tags&&(b={helpers:b});a.view.Scope.prototype.init.apply(this,
arguments)}});h._helpers={};h.registerHelper=function(a,b){this._helpers[a]={name:a,fn:b}};h.getHelper=function(a,b){var c;b&&(c=b.attr("helpers."+a));return c?{fn:c}:this._helpers[a]};h.render=function(b,c,e){if(!a.view.cached[b]){var f=a.__clearReading(),g=c.attr(b);g&&(b=g);a.__setReading(f)}return a.view.render(b,c,e)};h.safeString=function(a){return{toString:function(){return a}}};h.renderPartial=function(b,c,e){var f=e.attr("partials."+b);return f?f.render?f.render(c,e):f(c,e):a.Mustache.render(b,
c,e)};a.each({"if":function(b,c){return(a.isFunction(b)?a.compute.truthy(b)():h.resolve(b))?c.fn(c.contexts||this):c.inverse(c.contexts||this)},unless:function(b,c){return h._helpers["if"].fn.apply(this,[a.isFunction(b)?a.compute(function(){return!b()}):!b,c])},each:function(b,c){var e=h.resolve(b),j=[],g,i;if(a.view.lists&&(e instanceof a.List||b&&b.isComputed&&void 0===e))return a.view.lists(b,function(a,b){return c.fn(c.scope.add({"@index":b}).add(a))});if((b=e)&&l(b)){for(i=0;i<b.length;i++)j.push(c.fn(c.scope.add({"@index":i}).add(b[i])));
return j.join("")}if(f(b)){e=a.Map.keys(b);for(i=0;i<e.length;i++)g=e[i],j.push(c.fn(c.scope.add({"@key":g}).add(b[g])));return j.join("")}if(b instanceof Object){for(g in b)j.push(c.fn(c.scope.add({"@key":g}).add(b[g])));return j.join("")}},"with":function(a,b){if(h.resolve(a))return b.fn(a)},log:function(a,b){"undefined"!==typeof console&&console.log&&(b?console.log(a,b.context):console.log(a.context))},"@index":function(b,c){c||(c=b,b=0);var e=c.scope.attr("@index");return""+((a.isFunction(e)?
e():e)+b)}},function(a,b){h.registerHelper(b,a)});a.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(a,b){return"can.Mustache(function(scope,options) { "+(new h({text:b,name:a})).template.out+" })"},renderer:function(a,b){return h({text:b,name:a})}});a.mustache.registerHelper=a.proxy(a.Mustache.registerHelper,a.Mustache);a.mustache.safeString=a.Mustache.safeString;return a});steal.executed("can/view/mustache/mustache.js");
steal("can/util","can/construct","can/map","can/list","can/view","can/compute",function(a){var b=/(\\)?\./g,e=/\\\./g,g=function(a){var f=[],g=0;a.replace(b,function(b,c,d){c||(f.push(a.slice(g,d).replace(e,".")),g=d+b.length)});f.push(a.slice(g).replace(e,"."));return f},f=a.Construct.extend({read:a.compute.read},{init:function(a,b){this._context=a;this._parent=b;this.__cache={}},attr:function(b,e){var f=a.__clearReading(),g=this.read(b,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1});if(2===
arguments.length){var c=b.lastIndexOf("."),d=this.read(-1!==c?b.substring(0,c):".",{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1}).value;-1!==c&&(b=b.substring(c+1,b.length));a.compute.set(d,b,e)}a.__setReading(f);return g.value},add:function(a){return a!==this._context?new this.constructor(a,this):this},computeData:function(b,e){var e=e||{args:[]},f=this,g,c,d={compute:a.compute(function(k){if(arguments.length)if(g.isComputed)g(k);else{if(c.length){var m=c.length-1,j=c.length?a.compute.read(g,
c.slice(0,m)).value:g;a.compute.set(j,c[m],k)}}else{if(g)return a.compute.read(g,c,e).value;m=f.read(b,e);g=m.rootObserve;c=m.reads;d.scope=m.scope;d.initialValue=m.value;d.reads=m.reads;d.root=g;return m.value}})};return d},compute:function(a,b){return this.computeData(a,b).compute},read:function(b,e){var f;if("./"===b.substr(0,2))f=!0,b=b.substr(2);else{if("../"===b.substr(0,3))return this._parent.read(b.substr(3),e);if(".."===b)return{value:this._parent._context};if("."===b||"this"===b)return{value:this._context}}for(var o=
-1===b.indexOf("\\.")?b.split("."):g(b),c,d=this,k,m=[],j=-1,s,r,t,n;d;){c=d._context;if(null!==c&&(c=a.compute.read(c,o,a.simpleExtend({foundObservable:function(a,b){t=a;n=o.slice(b)},earlyExit:function(b,c){c>j&&(k=t,m=n,j=c,r=d,s=a.__clearReading())},executeAnonymousFunctions:!0},e)),void 0!==c.value))return{scope:d,rootObserve:t,value:c.value,reads:n};a.__clearReading();d=f?null:d._parent}return k?(a.__setReading(s),{scope:r,rootObserve:k,reads:m,value:void 0}):{names:o,value:void 0}}});return a.view.Scope=
f});steal.executed("can/view/scope/scope.js");
steal("can/util",function(a){var b=a.isFunction,e=a.makeArray,g=1,f=function(a){var b=function(){return c.frag(a.apply(this,arguments))};b.render=function(){return a.apply(a,arguments)};return b},l=function(a,b){if(!a.length)throw"can.view: No template or empty template:"+b;},i=function(d,e){if(b(d))return a.Deferred().resolve(d);var f="string"===typeof d?d:d.url,j=d.engine&&"."+d.engine||f.match(/\.[\w\d]+$/),g,h,i;f.match(/^#/)&&(f=f.substr(1));if(h=document.getElementById(f))j="."+h.type.match(/\/(x\-)?(.+)/)[2];
!j&&!c.cached[f]&&(f+=j=c.ext);a.isArray(j)&&(j=j[0]);i=c.toId(f);f.match(/^\/\//)&&(f=f.substr(2),f=!window.steal?f:steal.config().root.mapJoin(""+steal.id(f)));window.require&&require.toUrl&&(f=require.toUrl(f));g=c.types[j];if(c.cached[i])return c.cached[i];if(h)return c.registerView(i,h.innerHTML,g);var n=new a.Deferred;a.ajax({async:e,url:f,dataType:"text",error:function(a){l("",f);n.reject(a)},success:function(a){l(a,f);c.registerView(i,a,g,n)}});return n},h=function(b){var c=[];if(a.isDeferred(b))return[b];
for(var e in b)a.isDeferred(b[e])&&c.push(b[e]);return c},o=function(b){return a.isArray(b)&&"success"===b[1]?b[0]:b},c=a.view=a.template=function(a,e,f,j){b(f)&&(j=f,f=void 0);return c.renderAs("fragment",a,e,f,j)};a.extend(c,{frag:function(a,b){return c.hookup(c.fragment(a),b)},fragment:function(b){if("string"!==typeof b&&11===b.nodeType)return b;b=a.buildFragment(b,document.body);b.childNodes.length||b.appendChild(document.createTextNode(""));return b},toId:function(b){return a.map(b.toString().split(/\/|\./g),
function(a){if(a)return a}).join("_")},toStr:function(a){return null==a?"":""+a},hookup:function(b,e){var f=[],j,g;a.each(b.childNodes?a.makeArray(b.childNodes):b,function(b){1===b.nodeType&&(f.push(b),f.push.apply(f,a.makeArray(b.getElementsByTagName("*"))))});a.each(f,function(a){if(a.getAttribute&&(j=a.getAttribute("data-view-id"))&&(g=c.hookups[j]))g(a,e,j),delete c.hookups[j],a.removeAttribute("data-view-id")});return b},hookups:{},hook:function(a){c.hookups[++g]=a;return" data-view-id='"+g+
"'"},cached:{},cachedRenderers:{},cache:!0,register:function(b){this.types["."+b.suffix]=b;a[b.suffix]=c[b.suffix]=function(a,e){var j,g;if(!e)return g=function(){j||(j=b.fragRenderer?b.fragRenderer(null,a):f(b.renderer(null,a)));return j.apply(this,arguments)},g.render=function(){var c=b.renderer(null,a);return c.apply(c,arguments)},g;g=function(){j||(j=b.fragRenderer?b.fragRenderer(a,e):b.renderer(a,e));return j.apply(this,arguments)};return b.fragRenderer?c.preload(a,g):c.preloadStringRenderer(a,
g)}},types:{},ext:".ejs",registerScript:function(a,b,e){return"can.view.preloadStringRenderer('"+b+"',"+c.types["."+a].script(b,e)+");"},preload:function(b,e){(c.cached[b]=(new a.Deferred).resolve(function(a,b){return e.call(a,a,b)})).__view_id=b;return c.cachedRenderers[b]=e},preloadStringRenderer:function(a,b){return this.preload(a,f(b))},render:function(b,c,e,f){return a.view.renderAs("string",b,c,e,f)},renderTo:function(a,b,c,e){return("string"===a&&b.render?b.render:b)(c,e)},renderAs:function(d,
f,g,j,l){b(j)&&(l=j,j=void 0);var r=h(g),t,n,p,u;if(r.length)return t=new a.Deferred,n=a.extend({},g),r.push(i(f,!0)),a.when.apply(a,r).then(function(b){var c=e(arguments),f=c.pop();if(a.isDeferred(g))n=o(b);else for(var k in g)a.isDeferred(g[k])&&(n[k]=o(c.shift()));c=a.view.renderTo(d,f,n,j);t.resolve(c,n);l&&l(c,n)},function(){t.reject.apply(t,arguments)}),t;r=a.__clearReading();p=b(l);t=i(f,p);r&&a.__setReading(r);if(p)u=t,t.then(function(b){l(g?a.view.renderTo(d,b,g,j):b)});else{if("resolved"===
t.state()&&t.__view_id)return f=c.cachedRenderers[t.__view_id],g?a.view.renderTo(d,f,g,j):f;t.then(function(b){u=g?a.view.renderTo(d,b,g,j):b})}return u},registerView:function(b,e,g,j){g="object"===typeof g?g:c.types[g||c.ext];e=g.fragRenderer?g.fragRenderer(b,e):f(g.renderer(b,e));j=j||new a.Deferred;c.cache&&(c.cached[b]=j,j.__view_id=b,c.cachedRenderers[b]=e);return j.resolve(e)}});return a});steal.executed("can/view/view.js");
steal("can/util","can/util/bind","can/util/batch",function(a){var b=[];a.__read=function(a,d){b.push({});return{value:a.call(d),observed:b.pop()}};a.__reading=function(a,d){b.length&&(b[b.length-1][a._cid+"|"+d]={obj:a,event:d+""})};a.__clearReading=function(){if(b.length){var a=b[b.length-1];b[b.length-1]={};return a}};a.__setReading=function(a){b.length&&(b[b.length-1]=a)};a.__addReading=function(c){b.length&&a.simpleExtend(b[b.length-1],c)};var e=function(b,d,e,f){var b=a.__read(b,d),d=b.observed,
j;for(j in d){var g=d,h=j,i=f;e[h]?delete e[h]:(g=g[h],g.obj.bind(g.event,i))}for(var n in e)j=e[n],j.obj.unbind(j.event,f);return b},g=function(b,d,e,f){d!==e&&a.batch.trigger(b,f?{type:"change",batchNum:f}:"change",[d,e])},f=function(b,d,f,g){var j,h,i;return{on:function(l){h||(h=function(a){if(b.bound&&(void 0===a.batchNum||a.batchNum!==i)){var g=j.value;j=e(d,f,j.observed,h);l(j.value,g,a.batchNum);i=i=a.batchNum}});j=e(d,f,{},h);g(j.value);b.hasDependencies=!a.isEmptyObject(j.observed)},off:function(){for(var a in j.observed){var b=
j.observed[a];b.obj.unbind(b.event,h)}}}},l=function(b,d,f,g){var j,h,i,l;return{on:function(n){i||(i=function(e){if(b.bound&&(void 0===e.batchNum||e.batchNum!==l)){var j=a.__clearReading(),g=d.call(f);a.__setReading(j);n(g,h,e.batchNum);h=g;l=l=e.batchNum}});j=e(d,f,{},i);h=j.value;g(j.value);b.hasDependencies=!a.isEmptyObject(j.observed)},off:function(){for(var a in j.observed){var b=j.observed[a];b.obj.unbind(b.event,i)}}}},i=function(){};a.compute=function(c,d,e,h){if(c&&c.isComputed)return c;
for(var j,o=i,r=i,t,n=function(){return t},p=function(a){t=a},u=p,F=[],z=function(a,b,c){u(a);g(j,a,b,c)},q,v=0,w=arguments.length;v<w;v++)F[v]=arguments[v];j=function(c){if(arguments.length){var e=t,f=p.call(d,c,e);if(j.hasDependencies)return n.call(d);t=void 0===f?n.call(d):f;g(j,t,e);return t}b.length&&!1!==j.canReadForChangeEvent&&(a.__reading(j,"change"),j.bound||a.compute.temporarilyBind(j));return j.bound?t:n.call(d)};if("function"===typeof c)n=p=c,j.canReadForChangeEvent=!1===e?!1:!0,v=h?
l(j,c,d||this,u):f(j,c,d||this,u),o=v.on,r=v.off;else if(d)if("string"===typeof d){var y=d;if(c instanceof a.Map){j.hasDependencies=!0;var x,n=function(){return c.attr(y)},p=function(a){c.attr(y,a)},o=function(b){x=function(a,c,d){b(c,d,a.batchNum)};c.bind(e||y,x);t=a.__read(n).value},r=function(){c.unbind(e||y,x)}}else n=function(){return c[y]},p=function(a){c[y]=a},o=function(b){x=function(){b(n(),t)};a.bind.call(c,e||y,x);t=a.__read(n).value},r=function(){a.unbind.call(c,e||y,x)}}else if("function"===
typeof d)t=c,p=d,d=e,q="setter";else{t=c;var v=d,C=z,d=v.context||v,n=v.get||n,p=v.set||function(){return t};if(v.fn){var B=v.fn,n=function(){return B.call(d,t)};0===B.length?w=f(j,B,d,u):1===B.length?w=f(j,function(){return B.call(d,t)},d,u):(z=function(a){void 0!==a&&C(a,t)},w=f(j,function(){var a=B.call(d,t,function(a){C(a,t)});return void 0!==a?a:t},d,u));o=w.on;r=w.off}else z=function(){var a=n.call(d);C(a,t)};o=v.on||o;r=v.off||r}else t=c;a.cid(j,"compute");return a.simpleExtend(j,{isComputed:!0,
_bindsetup:function(){this.bound=!0;var b=a.__clearReading();o.call(this,z);a.__setReading(b)},_bindteardown:function(){r.call(this,z);this.bound=!1},bind:a.bindAndSetup,unbind:a.unbindAndTeardown,clone:function(b){b&&("setter"===q?F[2]=b:F[1]=b);return a.compute.apply(a,F)}})};var h,o=function(){for(var a=0,b=h.length;a<b;a++)h[a].unbind("change",i);h=null};a.compute.temporarilyBind=function(a){a.bind("change",i);h||(h=[],setTimeout(o,10));h.push(a)};a.compute.truthy=function(b){return a.compute(function(){var a=
b();"function"===typeof a&&(a=a());return!!a})};a.compute.async=function(b,d,e){return a.compute(b,{fn:d,context:e})};a.compute.read=function(b,d,e){for(var e=e||{},f,j,g,h=0,i=d.length;h<i;h++){if((j=b)&&j.isComputed)e.foundObservable&&e.foundObservable(j,h),j=b=j();j instanceof a.Map||j&&j.__get?(!g&&e.foundObservable&&e.foundObservable(j,h),g=1,b="function"===typeof j[d[h]]&&j.constructor.prototype[d[h]]===j[d[h]]?e.returnObserveMethods?b[d[h]]:"constructor"===d[h]&&j instanceof a.Construct||j[d[h]].prototype instanceof
a.Construct?j[d[h]]:j[d[h]].apply(j,e.args||[]):b.attr(d[h])):b=null==b?void 0:j[d[h]];f=typeof b;b&&b.isComputed&&!e.isArgument&&h<i-1?(!g&&e.foundObservable&&e.foundObservable(j,h+1),b=b()):h<d.length-1&&"function"===f&&(e.executeAnonymousFunctions&&!(a.Construct&&b.prototype instanceof a.Construct))&&(b=b());if(h<d.length-1&&(null===b||"function"!==f&&"object"!==f))return e.earlyExit&&e.earlyExit(j,h,b),{value:void 0,parent:j}}"function"===typeof b&&!(a.Construct&&b.prototype instanceof a.Construct)&&
!(a.route&&b===a.route)&&(e.isArgument?!b.isComputed&&!1!==e.proxyMethods&&(b=a.proxy(b,j)):(b.isComputed&&!g&&e.foundObservable&&e.foundObservable(b,h),b=b.call(j)));void 0===b&&e.earlyExit&&e.earlyExit(j,h-1);return{value:b,parent:j}};a.compute.set=function(b,d,e){if(b instanceof a.Map||b&&b.__get)return b.attr(d,e);if(b[d]&&b[d].isComputed)return b[d](e);"object"===typeof b&&(b[d]=e)};return a.compute});steal.executed("can/compute/compute.js");
steal("can/view","./elements","can/view/callbacks",function(a,b,e){var g=/(\r|\n)+/g,f=/\//,l=function(a){return a.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},i=function(a,c,d){if(a)return a;for(;d<c.length;){if("<"===c[d]&&!f.test(c[d+1]))return b.reverseTagMap[c[d+1]]||"span";d++}return""},h=function(a){eval(a)},o=/([^\s]+)[\s]*=[\s]*$/,c=null,d=null,k=null,m=null,j=function(){var a=k.match(o);return a&&a[1]},s=function(){return d?"'"+j()+"'":
c?1:0},r;a.view.Scanner=r=function(b){a.extend(this,{text:{},tokens:[]},b);this.text.options=this.text.options||"";this.tokenReg=[];this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"};this.tokenComplex=[];this.tokenMap={};for(var b=0,c;c=this.tokens[b];b++)c[2]?(this.tokenReg.push(c[2]),this.tokenComplex.push({abbr:c[1],re:RegExp(c[2]),rescan:c[3]})):(this.tokenReg.push(c[1]),this.tokenSimple[c[1]]=c[0]),this.tokenMap[c[0]]=c[1];this.tokenReg=RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+
")","g")};r.prototype={helpers:[],scan:function(a,f){var p=[],u=0,r=this.tokenSimple,z=this.tokenComplex,a=a.replace(g,"\n");this.transform&&(a=this.transform(a));a.replace(this.tokenReg,function(b,c){var d=arguments[arguments.length-2];d>u&&p.push(a.substring(u,d));if(r[b])p.push(b);else for(var e=0,f;f=z[e];e++)if(f.re.test(b)){p.push(f.abbr);f.rescan&&p.push(f.rescan(c));break}u=d+c.length});u<a.length&&p.push(a.substr(u));var q="",v=["var ___v1ew = [];"+(this.text.start||"")],w=function(a,b){v.push("___v1ew.push(\n",
'"',l(a),'"'+(b||"")+");")},y=[],x,C=null,B=!1,L=[],J=[],R="",O=function(){R=J.pop()+J.length},A="",H=[],M=!1,K=!1,I=0,D,E=this.tokenMap,G;for(c=d=k=null;void 0!==(D=p[I++]);){if(null===C)switch(D){case E.left:case E.escapeLeft:case E.returnLeft:B=c&&1;case E.commentLeft:C=D;q.length&&w(q);q="";break;case E.escapeFull:B=c&&1;m=1;C=E.escapeLeft;q.length&&w(q);m=p[I++];q=m.content||m;m.before&&w(m.before);p.splice(I,0,E.right);break;case E.commentFull:break;case E.templateLeft:q+=E.left;break;case "<":0!==
p[I].indexOf("!--")&&(c=1,B=0);q+=D;break;case ">":c=0;x="/"===q.substr(q.length-1)||"--"===q.substr(q.length-2);G="";L.length&&(G="attrs: ['"+L.join("','")+"'], ",L=[]);A+J.length!==R&&A===J[J.length-1]?(x&&(q=q.substr(0,q.length-1)),v.push("___v1ew.push(\n",'"',l(q),'"',",can.view.pending({tagName:'"+A+"',"+G+"scope: "+(this.text.scope||"this")+this.text.options),x?(v.push("}));"),q="/>",O()):"<"===p[I]&&p[I+1]==="/"+A?(v.push("}));"),q=D,O()):(v.push(",subtemplate: function("+this.text.argNames+
"){\nvar ___v1ew = [];"+(this.text.start||"")),q="")):B||!M&&b.tagToContentPropMap[H[H.length-1]]||G?(B=",can.view.pending({"+G+"scope: "+(this.text.scope||"this")+this.text.options+'}),"',x?w(q.substr(0,q.length-1),B+'/>"'):w(q,B+'>"'),q="",B=0):q+=D;if(x||M)H.pop(),A=H[H.length-1],M=!1;L=[];break;case "'":case '"':if(c)if(d&&d===D){if(d=null,G=j(),e.attr(G)&&L.push(G),K){q+=D;w(q);v.push("return ___v1ew.join('')","}));\n");q="";K=!1;break}}else if(null===d&&(d=D,k=x,G=j(),"img"===A&&"src"===G||
"style"===G)){w(q.replace(o,""));q="";K=!0;v.push("___v1ew.push(\n","can.view.txt(2,'"+i(A,p,I)+"',"+s()+",this,function(){","var ___v1ew = [];");w(G+"="+D);break}default:if("<"===x){A="!--"===D.substr(0,3)?"!--":D.split(/\s/)[0];x=!1;var N;0===A.indexOf("/")&&(x=!0,N=A.substr(1));if(x){if(H[H.length-1]===N&&(A=N,M=!0),J[J.length-1]===N)w(q.substr(0,q.length-1)),v.push("return ___v1ew.join('')}}) );"),q="><",O()}else A.lastIndexOf("/")===A.length-1&&(A=A.substr(0,A.length-1)),"!--"!==A&&e.tag(A)&&
("content"===A&&b.tagMap[H[H.length-1]]&&(D=D.replace("content",b.tagMap[H[H.length-1]])),J.push(A)),H.push(A)}q+=D}else switch(D){case E.right:case E.returnRight:switch(C){case E.left:x=--q.split("{").length- --q.split("}").length;1===x?(v.push("___v1ew.push(\n","can.view.txt(0,'"+i(A,p,I)+"',"+s()+",this,function(){","var ___v1ew = [];",q),y.push({before:"",after:"return ___v1ew.join('')}));\n"})):(u=y.length&&-1===x?y.pop():{after:";"},u.before&&v.push(u.before),v.push(q,";",u.after));break;case E.escapeLeft:case E.returnLeft:(x=
--q.split("{").length- --q.split("}").length)&&y.push({before:"return ___v1ew.join('')",after:"}));\n"});C=C===E.escapeLeft?1:0;G={insert:"___v1ew.push(\n",tagName:i(A,p,I),status:s(),specialAttribute:K};for(var P=0;P<this.helpers.length;P++){var Q=this.helpers[P];if(Q.name.test(q)){q=Q.fn(q,G);Q.name.source===/^>[\s]*\w*/.source&&(C=0);break}}"object"===typeof q?q.startTxt&&q.end&&K?v.push("___v1ew.push(\n","can.view.toStr( ",q.content,"() ) );"):(q.startTxt?v.push("___v1ew.push(\n","can.view.txt(\n"+
("string"===typeof s()||(null!=q.escaped?q.escaped:C))+",\n'"+A+"',\n"+s()+",\nthis,\n"):q.startOnlyTxt&&v.push("___v1ew.push(\n","can.view.onlytxt(this,\n"),v.push(q.content),q.end&&v.push("));")):K?v.push("___v1ew.push(\n",q,");"):v.push("___v1ew.push(\n","can.view.txt(\n"+("string"===typeof s()||C)+",\n'"+A+"',\n"+s()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",q,x?"var ___v1ew = [];":"}));\n");m&&m.after&&m.after.length&&(w(m.after.length),m=null)}C=null;q="";break;case E.templateLeft:q+=
E.left;break;default:q+=D}x=D}q.length&&w(q);v.push(";");q={out:(this.text.outStart||"")+v.join("")+" return ___v1ew.join('')"+(this.text.outEnd||"")};h.call(q,"this.fn = (function("+this.text.argNames+"){"+q.out+"});\r\n//# sourceURL="+f+".js");return q}};a.view.pending=function(b){var c=a.view.getHooks();return a.view.hook(function(d){a.each(c,function(a){a(d)});b.templateType="legacy";b.tagName&&e.tagHandler(d,b.tagName,b);a.each(b&&b.attrs||[],function(a){b.attributeName=a;(a=e.attr(a))&&a(d,
b)})})};a.view.tag("content",function(a,b){return b.scope});return a.view.Scanner=r});steal.executed("can/view/scanner.js");
steal("can/util","can/view",function(a){var b="undefined"!==typeof document?document:null,e=b&&1===a.$(document.createComment("~")).length,g={tagToContentPropMap:{option:b&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:a.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:a.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",
tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},getParentNode:function(a,b){return b&&11===a.parentNode.nodeType?b:a.parentNode},setAttr:a.attr.set,getAttr:a.attr.get,removeAttr:a.attr.remove,contentText:function(a){return"string"===typeof a?a:!a&&0!==a?"":""+a},after:function(b,e){var g=b[b.length-1];g.nextSibling?a.insertBefore(g.parentNode,e,g.nextSibling):a.appendChild(g.parentNode,e)},replace:function(b,l){g.after(b,l);a.remove(a.$(b)).length<b.length&&!e&&a.each(b,function(a){8===a.nodeType&&
a.parentNode.removeChild(a)})}};return a.view.elements=g});steal.executed("can/view/elements.js");
steal("can/util","can/view",function(a){var b=a.view.attr=function(a,b){if(b)"string"===typeof a?e[a]=b:g.push({match:a,handler:b});else{var c=e[a];if(!c)for(var d=0,f=g.length;d<f;d++){var i=g[d];if(i.match.test(a)){c=i.handler;break}}return c}},e={},g=[],f=/[-\:]/,l=a.view.tag=function(b,e){if(e)a.global.html5&&(a.global.html5.elements+=" "+b,a.global.html5.shivDocument()),i[b.toLowerCase()]=e;else{var c=i[b.toLowerCase()];!c&&f.test(b)&&(c=function(){});return c}},i={};a.view.callbacks={_tags:i,
_attributes:e,_regExpAttributes:g,tag:l,attr:b,tagHandler:function(b,e,c){var d=c.options.attr("tags."+e)||i[e],e=c.scope;if(d){var f=a.__clearReading(),d=d(b,c);a.__setReading(f)}else d=e;d&&c.subtemplate&&(e!==d&&(e=e.add(d)),c=c.subtemplate(e,c.options),c="string"===typeof c?a.view.frag(c):c,a.appendChild(b,c))}};return a.view.callbacks});steal.executed("can/view/callbacks/callbacks.js");
steal("can/view","./elements","can/view/live","can/util/string",function(a,b,e){var g=[],f=function(a){a=b.tagMap[a]||"span";return"span"===a?"@@!!@@":"<"+a+">"+f(a)+"</"+a+">"},l=function(b,c){if("string"===typeof b)return b;if(!b&&0!==b)return"";var e=b.hookup&&function(a,c){b.hookup.call(b,a,c)}||"function"===typeof b&&b;if(e){if(c)return"<"+c+" "+a.view.hook(e)+"></"+c+">";g.push(e);return""}return""+b},i=function(b,c){return"string"===typeof b||"number"===typeof b?a.esc(b):l(b,c)},h=!1,o=function(){},
c;a.extend(a.view,{live:e,setupLists:function(){var b=a.view.lists,c;a.view.lists=function(a,b){c={list:a,renderer:b};return Math.random()};return function(){a.view.lists=b;return c}},getHooks:function(){var a=g.slice(0);c=a;g=[];return a},onlytxt:function(a,b){return i(b.call(a))},txt:function(d,k,m,j,s){var r=b.tagMap[k]||"span",t=!1,n,p,u=o,F;if(h)s=s.call(j);else{if("string"===typeof m||1===m)h=!0;t=a.view.setupLists();u=function(){p.unbind("change",o)};p=a.compute(s,j,!1);p.bind("change",o);
n=t();s=p();h=!1;t=p.hasDependencies}if(n)return u(),"<"+r+a.view.hook(function(a,b){e.list(a,n.list,n.renderer,j,b)})+"></"+r+">";if(!t||"function"===typeof s)return u(),(h||2===d||!d?l:i)(s,0===m&&r);k=b.tagToContentPropMap[k];if(0===m&&!k)return"<"+r+a.view.hook(d&&"object"!==typeof s?function(a,b){e.text(a,p,b);u()}:function(a,b){e.html(a,p,b);u()})+">"+f(r)+"</"+r+">";if(1===m)return g.push(function(a){e.attributes(a,p,p());u()}),p();if(2===d)return F=m,g.push(function(a){e.specialAttribute(a,
F,p);u()}),p();F=0===m?k:m;(0===m?c:g).push(function(a){e.attribute(a,F,p);u()});return e.attributePlaceholder}});return a});steal.executed("can/view/render.js");
steal("can/util","can/view/elements.js","can/view","can/view/node_lists","can/view/parser",function(a,b,e,g,f){var b=b||a.view.elements,g=g||a.view.NodeLists,f=f||a.view.parser,l=function(b,c,d){var e=!1,f=function(){e||(e=!0,d(g),a.unbind.call(b,"removed",f));return!0},g={teardownCheck:function(a){return a?!1:f()}};a.bind.call(b,"removed",f);c(g);return g},i=function(a,b,c){return l(a,function(){b.bind("change",c)},function(a){b.unbind("change",c);a.nodeList&&g.unregister(a.nodeList)})},h=function(a){var b=
{},c;f.parseAttrs(a,{attrStart:function(a){b[a]="";c=a},attrValue:function(a){b[c]+=a},attrEnd:function(){}});return b},o=[].splice,c={list:function(d,e,f,h,k,n){var p=n||[d],i=[],F=a.batch.batchNum,z=function(c,d,e){if(!(c.batchNum&&c.batchNum===F)){var j=document.createDocumentFragment(),k=[],l=[];a.each(d,function(b,c){var d=[];n&&g.register(d,null,!0);var p=a.compute(c+e),i=f.call(h,b,p,d),q="string"===typeof i,i=a.frag(i),i=q?a.view.hookup(i):i,q=a.makeArray(i.childNodes);n?(g.update(d,q),k.push(d)):
k.push(g.register(q));j.appendChild(i);l.push(p)});c=e+1;p[c]?(d=g.first(p[c]),a.insertBefore(d.parentNode,j,d)):b.after(1===c?[w]:[g.last(p[c-1])],j);o.apply(p,[c,0].concat(k));o.apply(i,[e,0].concat(l));c=e+l.length;for(d=i.length;c<d;c++)i[c](c)}},q=function(b,c,d,e,f){if(e||!B.teardownCheck(w.parentNode)){0>d&&(d=i.length+d);var b=p.splice(d+1,c.length),j=[];a.each(b,function(a){a=g.unregister(a);[].push.apply(j,a)});i.splice(d,c.length);c=d;for(d=i.length;c<d;c++)i[c](c);f||a.remove(a.$(j))}},
v=function(a,b,c,d){var c=c+1,d=d+1,a=p[c][0],b=p[d][0],e=a.parentNode;d<c&&(a=a.nextSibling);e.insertBefore(b,a);a=p[d];[].splice.apply(p,[d,1]);[].splice.apply(p,[c,0,a])},w=document.createTextNode(""),y,x=function(a){y&&y.unbind&&y.unbind("add",z).unbind("remove",q);q({},{length:p.length-1},0,!0,a)},C=function(a,b){x();y=b||[];y.bind&&y.bind("add",z).bind("remove",q).bind("move",v);z({},y,0)},k=b.getParentNode(d,k),B=l(k,function(){a.isFunction(e)&&e.bind("change",C)},function(){a.isFunction(e)&&
e.unbind("change",C);x(!0)});n?(b.replace(p,w),g.update(p,[w]),n.unregistered=B.teardownCheck):c.replace(p,w,B.teardownCheck);C({},a.isFunction(e)?e():e)},html:function(c,d,e,f){var h,e=b.getParentNode(c,e);h=i(e,d,function(a,b){g.first(n).parentNode&&p(b);h.teardownCheck(g.first(n).parentNode)});var n=f||[c],p=function(c){var d=!(c&&c.nodeType),c=a.frag(c),f=a.makeArray(n);c.childNodes.length||c.appendChild(document.createTextNode(""));d&&(c=a.view.hookup(c,e));f=g.update(n,c.childNodes);b.replace(f,
c)};h.nodeList=n;f?f.unregistered=h.teardownCheck:g.register(n,h.teardownCheck);p(d())},replace:function(c,d,e){var f=c.slice(0),h=a.frag(d);g.register(c,e);"string"===typeof d&&(h=a.view.hookup(h,c[0].parentNode));g.update(c,h.childNodes);b.replace(f,h);return c},text:function(d,e,f,h){var f=b.getParentNode(d,f),k=i(f,e,function(b,c){"unknown"!==typeof n.nodeValue&&(n.nodeValue=a.view.toStr(c));k.teardownCheck(n.parentNode)}),n=document.createTextNode(a.view.toStr(e()));h?(h.unregistered=k.teardownCheck,
k.nodeList=h,g.update(h,[n]),b.replace([d],n)):k.nodeList=c.replace([d],n,k.teardownCheck)},setAttributes:function(b,c){var d=h(c),e;for(e in d)a.attr.set(b,e,d[e])},attributes:function(c,d,e){var f={},g=function(d){var d=h(d),e;for(e in d){var g=d[e];g!==f[e]&&a.attr.set(c,e,g);delete f[e]}for(e in f)b.removeAttr(c,e);f=d};i(c,d,function(a,b){g(b)});3<=arguments.length?f=h(e):g(d())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(d,e,f){i(d,f,function(){b.setAttr(d,e,
l.render())});var g=a.$(d),h;(h=a.data(g,"hooks"))||a.data(g,"hooks",h={});var n=b.getAttr(d,e),g=n.split(c.attributePlaceholder),k=[],l;k.push(g.shift(),g.join(c.attributePlaceholder));h[e]?h[e].computes.push(f):h[e]={render:function(){var a=0;return n?n.replace(c.attributeReplace,function(){return b.contentText(l.computes[a++]())}):b.contentText(l.computes[a++]())},computes:[f],batchNum:void 0};l=h[e];k.splice(1,0,f());b.setAttr(d,e,k.join(""))},specialAttribute:function(a,c,d){i(a,d,function(d,
e){b.setAttr(a,c,k(e))});b.setAttr(a,c,k(d()))},simpleAttribute:function(a,c,d){i(a,d,function(d,e){b.setAttr(a,c,e)});b.setAttr(a,c,d())}};c.attr=c.simpleAttribute;c.attrs=c.attributes;var d=/(\r|\n)+/g,k=function(a){a=a.replace(b.attrReg,"").replace(d,"");return/^["'].*["']$/.test(a)?a.substr(1,a.length-2):a};return a.view.live=c});steal.executed("can/view/live/live.js");
steal("can/util","can/view/elements.js",function(a){var b=!0;try{document.createTextNode("")._=0}catch(e){b=!1}var g={},f={},l="ejs_"+Math.random(),i=0,h=function(a,c){var d=c||f,e=o(a,d);if(e)return e;if(b||3!==a.nodeType)return++i,a[l]=(a.nodeName?"element_":"obj_")+i;++i;d["text_"+i]=a;return"text_"+i},o=function(a,c){if(b||3!==a.nodeType)return a[l];for(var d in c)if(c[d]===a)return d},c=[].splice,d=[].push,k=function(a){for(var b=0,c=0,d=a.length;c<d;c++){var e=a[c];e.nodeType?b++:b+=k(e)}return b},
m={id:h,update:function(b,d){var e=m.unregisterChildren(b),d=a.makeArray(d);c.apply(b,[0,b.length].concat(d));b.replacements?m.nestReplacements(b):m.nestList(b);return e},nestReplacements:function(a){for(var b=0,c={},d=a.replacements,e={},f=0,g=d.length;f<g;f++){var i=m.first(d[f]);e[h(i,c)]=d[f]}for(d=a.replacements.length;b<a.length&&d;){if(f=e[o(a[b],c)])a.splice(b,k(f),f),d--;b++}a.replacements=[]},nestList:function(a){for(var b=0;b<a.length;){var c=a[b],d=g[h(c)];d?d!==a&&a.splice(b,k(d),d):
g[h(c)]=a;b++}},last:function(a){a=a[a.length-1];return a.nodeType?a:m.last(a)},first:function(a){a=a[0];return a.nodeType?a:m.first(a)},register:function(a,b,c){a.unregistered=b;a.parentList=c;!0===c?a.replacements=[]:c?(c.replacements.push(a),a.replacements=[]):m.nestList(a);return a},unregisterChildren:function(b){var c=[];a.each(b,function(a){a.nodeType?(b.replacements||delete g[h(a)],c.push(a)):d.apply(c,m.unregister(a))});return c},unregister:function(a){var b=m.unregisterChildren(a);if(a.unregistered){var c=
a.unregistered;delete a.unregistered;delete a.replacements;c()}return b},nodeMap:g};return a.view.nodeLists=m});steal.executed("can/view/node_lists/node_lists.js");
steal("can/view",function(a){function b(a){for(var b={},a=a.split(","),c=0;c<a.length;c++)b[a[c]]=!0;return b}function e(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];b[e.tokenType].apply(b,e.args)}return a}var g=RegExp("^<([-:A-Za-z0-9_]+)((?:\\s*(?:(?:(?:[a-zA-Z_:][-:A-Za-z0-9_:.]*)?(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)|(?:\\{\\{[^\\}]*\\}\\}\\}?)+))*)\\s*(\\/?)>"),f=/^<\/([-:A-Za-z0-9_]+)[^>]*>/,l=RegExp("(?:(?:([a-zA-Z_:][-:A-Za-z0-9_:.]*)|\\{\\{([^\\}]*)\\}\\}\\}?)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?)",
"g"),i=RegExp("\\{\\{([^\\}]*)\\}\\}\\}?","g"),h=/<|\{\{/,o=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),c=b("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),d=b("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),
k=b("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),m=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),j=b("script,style"),s="start end close attrStart attrEnd attrValue chars comment special done".split(" "),r=function(){},t=function(b,p,l){function m(a,b,e,f){b=b.toLowerCase();if(c[b])for(;x.last()&&d[x.last()];)z("",x.last());k[b]&&x.last()===b&&z("",b);f=o[b]||!!f;p.start(b,f);f||x.push(b);t.parseAttrs(e,p);p.end(b,f)}function z(a,
b){var c;if(b)for(c=x.length-1;0<=c&&x[c]!==b;c--);else c=0;if(0<=c){for(var d=x.length-1;d>=c;d--)p.close&&p.close(x[d]);x.length=c}}function q(a,b){p.special&&p.special(b)}if("object"===typeof b)return e(b,p);var v=[],p=p||{};l&&a.each(s,function(b){var c=p[b]||r;p[b]=function(){!1!==c.apply(this,arguments)&&v.push({tokenType:b,args:a.makeArray(arguments)})}});var w,y,x=[],l=b;for(x.last=function(){return this[this.length-1]};b;){y=!0;if(!x.last()||!j[x.last()]){if(0===b.indexOf("<\!--"))w=b.indexOf("--\>"),
0<=w&&(p.comment&&p.comment(b.substring(4,w)),b=b.substring(w+3),y=!1);else if(0===b.indexOf("</")){if(w=b.match(f))b=b.substring(w[0].length),w[0].replace(f,z),y=!1}else if(0===b.indexOf("<")){if(w=b.match(g))b=b.substring(w[0].length),w[0].replace(g,m),y=!1}else if(0===b.indexOf("{{")&&(w=b.match(i)))b=b.substring(w[0].length),w[0].replace(i,q);y&&(w=b.search(h),y=0>w?b:b.substring(0,w),b=0>w?"":b.substring(w),p.chars&&y&&p.chars(y))}else b=b.replace(RegExp("([\\s\\S]*?)</"+x.last()+"[^>]*>"),function(a,
b){b=b.replace(/<\!--([\s\S]*?)--\>|<!\[CDATA\[([\s\S]*?)]]\>/g,"$1$2");p.chars&&p.chars(b);return""}),z("",x.last());if(b===l)throw"Parse Error: "+b;l=b}z();p.done();return v};t.parseAttrs=function(a,b){(null!=a?a:"").replace(l,function(a,c,d,e,f,g){d&&b.special(d);if(c||e||f||g){a=e?e:f?f:g?g:m[c.toLowerCase()]?c:"";b.attrStart(c||"");e=i.lastIndex=0;for(d=i.exec(a);d;)e=a.substring(e,i.lastIndex-d[0].length),e.length&&b.attrValue(e),b.special(d[1]),e=i.lastIndex,d=i.exec(a);(e=a.substr(e,a.length))&&
b.attrValue(e);b.attrEnd(c||"")}})};return a.view.parser=t});steal.executed("can/view/parser/parser.js");
steal("can/util","can/view/callbacks","can/control",function(a){var b=function(){var a={"":!0,"true":!0,"false":!1},b=function(b){if(b&&b.getAttribute)return b=b.getAttribute("contenteditable"),a[b]};return function(a){var e=b(a);return"boolean"===typeof e?e:!!b(a.parentNode)}}(),e=function(a){return"{"===a[0]&&"}"===a[a.length-1]?a.substr(1,a.length-2):a};a.view.attr("can-value",function(g,c){var d=e(g.getAttribute("can-value")),d=c.scope.computeData(d,{args:[]}).compute,k,m;"input"===g.nodeName.toLowerCase()&&
("checkbox"===g.type&&(k=a.attr.has(g,"can-true-value")?g.getAttribute("can-true-value"):!0,m=a.attr.has(g,"can-false-value")?g.getAttribute("can-false-value"):!1),"checkbox"===g.type||"radio"===g.type)?new l(g,{value:d,trueValue:k,falseValue:m}):"select"===g.nodeName.toLowerCase()&&g.multiple?new i(g,{value:d}):b(g)?new h(g,{value:d}):new f(g,{value:d})});var g={enter:function(a,b,d){return{event:"keyup",handler:function(a){if(13===a.keyCode)return d.call(this,a)}}}};a.view.attr(/can-[\w\.]+/,function(b,
c){var d=c.attributeName,f=d.substr(4),h=function(f){var g=b.getAttribute(d);if(!g)return!1;var g=e(g),g=c.scope.read(g,{returnObserveMethods:!0,isArgument:!0}),h=[c.scope._context,a.$(this)];h.push.apply(h,a.makeArray(arguments));return g.value.apply(g.parent,h)};g[f]&&(f=g[f](c,b,h),h=f.handler,f=f.event);a.bind.call(b,f,h)});var f=a.Control.extend({init:function(){"SELECT"===this.element[0].nodeName.toUpperCase()?setTimeout(a.proxy(this.set,this),1):this.set()},"{value} change":"set",set:function(){if(this.element){var a=
this.options.value();this.element[0].value=null==a?"":a}},change:function(){if(this.element){var a=this.element[0];this.options.value(a.value);var b=this.options.value();a.value!==b&&(a.value=b)}}}),l=a.Control.extend({init:function(){this.isCheckbox="checkbox"===this.element[0].type.toLowerCase();this.check()},"{value} change":"check",check:function(){if(this.isCheckbox){var b=this.options.trueValue||!0;this.element[0].checked=this.options.value()===b}else b=this.options.value()==this.element[0].value?
"set":"remove",a.attr[b](this.element[0],"checked",!0)},change:function(){this.isCheckbox?this.options.value(this.element[0].checked?this.options.trueValue:this.options.falseValue):this.element[0].checked&&this.options.value(this.element[0].value)}}),i=f.extend({init:function(){this.delimiter=";";setTimeout(a.proxy(this.set,this),1)},set:function(){var b=this.options.value();"string"===typeof b?(b=b.split(this.delimiter),this.isString=!0):b&&(b=a.makeArray(b));var c={};a.each(b,function(a){c[a]=!0});
a.each(this.element[0].childNodes,function(a){a.value&&(a.selected=!!c[a.value])})},get:function(){var b=[];a.each(this.element[0].childNodes,function(a){a.selected&&a.value&&b.push(a.value)});return b},change:function(){var b=this.get(),c=this.options.value();this.isString||"string"===typeof c?(this.isString=!0,this.options.value(b.join(this.delimiter))):c instanceof a.List?c.attr(b,!0):this.options.value(b)}}),h=a.Control.extend({init:function(){this.set();this.on("blur","setValue")},"{value} change":"set",
set:function(){var a=this.options.value();this.element[0].innerHTML="undefined"===typeof a?"":a},setValue:function(){this.options.value(this.element[0].innerHTML)}})});steal.executed("can/view/bindings/bindings.js");
steal("can/util","can/view/callbacks","can/control","can/observe","can/view/mustache","can/view/bindings",function(a,b){var e=/^(dataViewId|class|id)$/i,g=/\{([^\}]+)\}/g,f=a.Component=a.Construct.extend({setup:function(){a.Construct.setup.apply(this,arguments);if(a.Component){var b=this,e=this.prototype.scope;this.Control=l.extend(this.prototype.events);!e||"object"===typeof e&&!(e instanceof a.Map)?this.Map=a.Map.extend(e||{}):e.prototype instanceof a.Map&&(this.Map=e);this.attributeScopeMappings=
{};a.each(this.Map?this.Map.defaults:{},function(a,c){"@"===a&&(b.attributeScopeMappings[c]=c)});if(this.prototype.template)if("function"===typeof this.prototype.template){var c=this.prototype.template;this.renderer=function(){return a.view.frag(c.apply(null,arguments))}}else this.renderer=a.view.mustache(this.prototype.template);a.view.tag(this.prototype.tag,function(a,c){new b(a,c)})}}},{setup:function(f,g){var c={},d=this,i=("undefined"===typeof this.leakScope?!1:!this.leakScope)&&this.template,
l={},j,s,r;a.each(this.constructor.attributeScopeMappings,function(b,d){c[d]=f.getAttribute(a.hyphenate(b))});a.each(a.makeArray(f.attributes),function(n){var i=a.camelize(n.nodeName.toLowerCase()),k=n.value;if(!d.constructor.attributeScopeMappings[i]&&!e.test(i)&&!b.attr(n.nodeName)){if("{"===k[0]&&"}"===k[k.length-1])k=k.substr(1,k.length-2);else if("legacy"!==g.templateType){c[i]=k;return}var n=g.scope.computeData(k,{args:[]}),p=n.compute,u=function(a,b){j=i;s.attr(i,b);j=null};p.bind("change",
u);c[i]=p();p.hasDependencies?(a.bind.call(f,"removed",function(){p.unbind("change",u)}),l[i]=n):p.unbind("change",u)}});this.constructor.Map?s=new this.constructor.Map(c):this.scope instanceof a.Map?s=this.scope:a.isFunction(this.scope)&&(r=this.scope(c,g.scope,f),s=r instanceof a.Map?r:r.prototype instanceof a.Map?new r(c):new (a.Map.extend(r))(c));var t={};a.each(l,function(a,b){t[b]=function(c,d){j!==b&&a.compute(d)};s.bind(b,t[b])});(!a.isEmptyObject(this.constructor.attributeScopeMappings)||
"legacy"!==g.templateType)&&a.bind.call(f,"attributes",function(b){var c=a.camelize(b.attributeName);!l[c]&&!e.test(c)&&s.attr(c,f.getAttribute(b.attributeName))});this.scope=s;a.data(a.$(f),"scope",this.scope);r=i?this.scope:g.scope.add(this.scope);var n={helpers:{}};a.each(this.helpers||{},function(b,c){a.isFunction(b)&&(n.helpers[c]=function(){return b.apply(s,arguments)})});var p=function(){a.each(t,function(a,b){s.unbind(b,t[b])})};if((this._control=new this.constructor.Control(f,{scope:this.scope}))&&
this._control.destroy){var u=this._control.destroy;this._control.destroy=function(){u.apply(this,arguments);p()};this._control.on()}else a.bind.call(f,"removed",function(){p()});this.constructor.renderer?(n.tags||(n.tags={}),n.tags.content=function z(b,c){var d=g.subtemplate||c.subtemplate;if(d){delete n.tags.content;var e=!i||d!==g.subtemplate?c:g;a.view.live.replace([b],d(e.scope,e.options));n.tags.content=z}},r=this.constructor.renderer(r,g.options.add(n))):r="legacy"===g.templateType?a.view.frag(g.subtemplate?
g.subtemplate(r,g.options.add(n)):""):g.subtemplate?g.subtemplate(r,g.options.add(n)):document.createDocumentFragment();a.appendChild(f,r)}}),l=a.Control.extend({_lookup:function(a){return[a.scope,a,window]},_action:function(b,e,c){var d;g.lastIndex=0;d=g.test(b);if(c||!d){if(d){d=a.compute(function(){var c,d=b.replace(g,function(b,d){var f;if("scope"===d)return c=e.scope,"";d=d.replace(/^scope\./,"");f=a.compute.read(e.scope,d.split("."),{isArgument:!0}).value;void 0===f&&(f=a.getObject(d));if("string"===
typeof f)return f;c=f;return""}),f=d.split(/\s+/g),i=f.pop();return{processor:this.processors[i]||this.processors.click,parts:[d,f.join(" "),i],delegate:c||void 0}},this);var f=function(a,d){c._bindings.control[b](c.element);c._bindings.control[b]=d.processor(d.delegate||c.element,d.parts[2],d.parts[1],b,c)};d.bind("change",f);c._bindings.readyComputes[b]={compute:d,handler:f};return d()}return a.Control._action.apply(this,arguments)}}},{setup:function(b,e){this.scope=e.scope;return a.Control.prototype.setup.call(this,
b,e)},off:function(){this._bindings&&a.each(this._bindings.readyComputes||{},function(a){a.compute.unbind("change",a.handler)});a.Control.prototype.off.apply(this,arguments);this._bindings.readyComputes={}}});a.scope=function(b,e,c){var b=a.$(b),d=a.data(b,"scope");switch(arguments.length){case 0:case 1:return d;case 2:return d.attr(e);default:return d.attr(e,c),b}};var i=window.jQuery||window.Zepto;"undefined"!==typeof i&&(i.fn.scope=function(){return a.scope.apply(a,[this].concat(a.makeArray(arguments)))});
return f});steal.executed("can/component/component.js");steal("can/util","can/map","can/list","can/compute",function(a){a.Observe=a.Map;a.Observe.startBatch=a.batch.start;a.Observe.stopBatch=a.batch.stop;a.Observe.triggerBatch=a.batch.trigger;return a});steal.executed("can/observe/observe.js");
steal("can/util","can/view","can/util/string","can/compute","can/view/scanner.js","can/view/render.js",function(a){var b=a.extend,e=function(a){if(this.constructor!==e){var f=new e(a);return function(a,b){return f.render(a,b)}}"function"===typeof a?this.template={fn:a}:(b(this,a),this.template=this.scanner.scan(this.text,this.name))};a.EJS=e;e.prototype.render=function(a,b){a=a||{};return this.template.fn.call(a,a,new e.Helpers(a,b||{}))};b(e.prototype,{scanner:new a.view.Scanner({text:{outStart:"with(_VIEW) { with (_CONTEXT) {",
outEnd:"}}",argNames:"_CONTEXT,_VIEW",context:"this"},tokens:[["templateLeft","<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]],helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){a=a.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"can.proxy(function(__){var "+a[1]+"=can.$(__);"+a[2]+"}, this);"}}],transform:function(a){return a.replace(/<%([\s\S]+?)%>/gm,function(a,b){var e=[],g,o;b.replace(/[{}]/gm,
function(a,b){e.push([a,b])});do{g=!1;for(o=e.length-2;0<=o;o--)if("{"===e[o][0]&&"}"===e[o+1][0]){e.splice(o,2);g=!0;break}}while(g);if(2<=e.length){g=["<%"];var c,d=0;for(o=0;c=e[o];o++)g.push(b.substring(d,d=c[1])),"{"===c[0]&&o<e.length-1||"}"===c[0]&&0<o?g.push("{"===c[0]?"{ %><% ":" %><% }"):g.push(c[0]),++d;g.push(b.substring(d),"%>");return g.join("")}return"<%"+b+"%>"})}})});e.Helpers=function(a,e){this._data=a;this._extras=e;b(this,e)};e.Helpers.prototype={list:function(b,e){a.each(b,function(a,
i){e(a,i,b)})},each:function(b,e){a.isArray(b)?this.list(b,e):a.view.lists(b,e)}};a.view.register({suffix:"ejs",script:function(a,b){return"can.EJS(function(_CONTEXT,_VIEW) { "+(new e({text:b,name:a})).template.out+" })"},renderer:function(a,b){return e({text:b,name:a})}});a.ejs.Helpers=e.Helpers;return a});steal.executed("can/view/ejs/ejs.js");
steal("can/util","can/construct",function(a){var b=a.isFunction,e=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/,g=["get","set"],f=function(a,b,e){return function(){var f=this._super,c;this._super=a[b];c=e.apply(this,arguments);this._super=f;return c}};a.Construct._defineProperty=function(e,i,h,o){var c=Object.getOwnPropertyDescriptor(i,h);c&&a.each(g,function(a){b(c[a])&&b(o[a])?o[a]=f(c,a,o[a]):b(o[a])||(o[a]=c[a])});Object.defineProperty(e,h,o)};a.Construct._overwrite=function(a,g,h,
o){a[h]=b(o)&&b(g[h])&&e.test(o)?f(g,h,o):o};return a});steal.executed("can/construct/super/super.js");steal("appdev/ad.js","js/OpenAjax.js").then(function(){"undefined"==typeof AD.comm&&(AD.comm={});AD.comm.hub={};AD.comm.hub.publish=function(a,b){OpenAjax.hub.publish(a,b)};AD.comm.hub.subscribe=function(a,b){return OpenAjax.hub.subscribe(a,b)};AD.comm.hub.unsubscribe=function(a){OpenAjax.hub.unsubscribe(a)}});steal.executed("appdev/comm/hub.js");
window.OpenAjax||(OpenAjax=new function(){var a={};this.hub=a;a.implementer="http://openajax.org";a.implVersion="2.0";a.specVersion="2.0";a.implExtraData={};var b={};a.libraries=b;a.registerLibrary=function(a,g,f,l){b[a]={prefix:a,namespaceURI:g,version:f,extraData:l};this.publish("org.openajax.hub.registerLibrary",b[a])};a.unregisterLibrary=function(a){this.publish("org.openajax.hub.unregisterLibrary",b[a]);delete b[a]};a._subscriptions={c:{},s:[]};a._cleanup=[];a._subIndex=0;a._pubDepth=0;a.subscribe=
function(a,b,f,l,i){f||(f=window);var h=a+"."+this._subIndex,b={scope:f,cb:b,fcb:i,data:l,sid:this._subIndex++,hdl:h};this._subscribe(this._subscriptions,a.split("."),0,b);return h};a.publish=function(a,b){var f=a.split(".");this._pubDepth++;this._publish(this._subscriptions,f,0,a,b);this._pubDepth--;if(0<this._cleanup.length&&0==this._pubDepth){for(f=0;f<this._cleanup.length;f++)this.unsubscribe(this._cleanup[f].hdl);delete this._cleanup;this._cleanup=[]}};a.unsubscribe=function(a){var a=a.split("."),
b=a.pop();this._unsubscribe(this._subscriptions,a,0,b)};a._subscribe=function(a,b,f,l){var i=b[f];f==b.length?a.s.push(l):("undefined"==typeof a.c&&(a.c={}),"undefined"==typeof a.c[i]&&(a.c[i]={c:{},s:[]}),this._subscribe(a.c[i],b,f+1,l))};a._publish=function(a,b,f,l,i,h){if("undefined"!=typeof a&&(f!=b.length&&(this._publish(a.c[b[f]],b,f+1,l,i,h),this._publish(a.c["*"],b,f+1,l,i,h),a=a.c["**"]),"undefined"!=typeof a)){a=a.s;b=a.length;for(f=0;f<b;f++)if(a[f].cb){var o=a[f].scope,c=a[f].cb,d=a[f].fcb,
k=a[f].data;"string"==typeof c&&(c=o[c]);"string"==typeof d&&(d=o[d]);(!d||d.call(o,l,i,k))&&c.call(o,l,i,k,h)}}};a._unsubscribe=function(a,b,f,l){if("undefined"!=typeof a)if(f<b.length){var i=a.c[b[f]];this._unsubscribe(i,b,f+1,l);if(0==i.s.length){for(var h in i.c)return;delete a.c[b[f]]}}else{a=a.s;b=a.length;for(f=0;f<b;f++)if(l==a[f].sid){0<this._pubDepth?(a[f].cb=null,this._cleanup.push(a[f])):a.splice(f,1);break}}};a.reinit=function(){for(var a in OpenAjax.hub.libraries)delete OpenAjax.hub.libraries[a];
OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{});delete OpenAjax._subscriptions;OpenAjax._subscriptions={c:{},s:[]};delete OpenAjax._cleanup;OpenAjax._cleanup=[];OpenAjax._subIndex=0;OpenAjax._pubDepth=0}},OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{}));steal.executed("js/OpenAjax.js");"undefined"==typeof AD.util&&(AD.util={});"undefined"==typeof AD.util.uuid&&function(){var a=0;AD.util.uuid=function(){return++a}}();steal.executed("appdev/util/uuid.js");
steal("js/async.js").then(function(){"undefined"==typeof AD.util&&(AD.util={});"undefined"==typeof AD.util.async&&(AD.util.async=async)});steal.executed("appdev/util/async.js");
(function(){function a(a){var b=!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(e,arguments)}}var b={},e,g;e=this;null!=e&&(g=e.async);b.noConflict=function(){e.async=g;return b};var f=Object.prototype.toString,l=Array.isArray||function(a){return f.call(a)==="[object Array]"},i=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c=c+1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];i(a,function(a,d,e){c.push(b(a,d,e))});return c},
o=function(a,b,c){if(a.reduce)return a.reduce(b,c);i(a,function(a,d,e){c=b(c,a,d,e)});return c},c=function(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"===typeof process||!process.nextTick?(b.nextTick="function"===typeof setImmediate?function(a){setImmediate(a)}:function(a){setTimeout(a,0)},b.setImmediate=b.nextTick):(b.nextTick=process.nextTick,b.setImmediate="undefined"!==typeof setImmediate?function(a){setImmediate(a)}:b.nextTick);
b.each=function(b,c,d){function e(a){if(a){d(a);d=function(){}}else{f=f+1;f>=b.length&&d()}}d=d||function(){};if(!b.length)return d();var f=0;i(b,function(b){c(b,a(e))})};b.forEach=b.each;b.eachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){if(b){c(b);c=function(){}}else{d=d+1;d>=a.length?c():e()}})};e()};b.forEachSeries=b.eachSeries;b.eachLimit=function(a,b,c,e){d(b).apply(null,[a,c,e])};b.forEachLimit=b.eachLimit;var d=function(a){return function(b,
c,d){d=d||function(){};if(!b.length||a<=0)return d();var e=0,f=0,g=0;(function y(){if(e>=b.length)return d();for(;g<a&&f<b.length;){f=f+1;g=g+1;c(b[f-1],function(a){if(a){d(a);d=function(){}}else{e=e+1;g=g-1;e>=b.length?d():y()}})}})()}},k=function(a){return function(){var c=Array.prototype.slice.call(arguments);return a.apply(null,[b.each].concat(c))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[d(a)].concat(c))}},j=function(a){return function(){var c=
Array.prototype.slice.call(arguments);return a.apply(null,[b.eachSeries].concat(c))}},s=function(a,b,c,d){b=h(b,function(a,b){return{index:b,value:a}});if(d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d;b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})};b.map=k(s);b.mapSeries=j(s);b.mapLimit=function(a,b,c,d){return m(b,s)(a,c,d)};b.reduce=function(a,c,d,e){b.eachSeries(a,function(a,b){d(c,a,function(a,d){c=d;b(a)})},function(a){e(a,c)})};b.inject=
b.reduce;b.foldl=b.reduce;b.reduceRight=function(a,c,d,e){a=h(a,function(a){return a}).reverse();b.reduce(a,c,d,e)};b.foldr=b.reduceRight;var r=function(a,b,c,d){var e=[],b=h(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&e.push(a);b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};b.filter=k(r);b.filterSeries=j(r);b.select=b.filter;b.selectSeries=b.filterSeries;r=function(a,b,c,d){var e=[],b=h(b,function(a,b){return{index:b,
value:a}});a(b,function(a,b){c(a.value,function(c){c||e.push(a);b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};b.reject=k(r);b.rejectSeries=j(r);r=function(a,b,c,d){a(b,function(a,b){c(a,function(c){if(c){d(a);d=function(){}}else b()})},function(){d()})};b.detect=k(r);b.detectSeries=j(r);b.some=function(a,c,d){b.each(a,function(a,b){c(a,function(a){if(a){d(true);d=function(){}}b()})},function(){d(false)})};b.any=b.some;b.every=function(a,c,d){b.each(a,
function(a,b){c(a,function(a){if(!a){d(false);d=function(){}}b()})},function(){d(true)})};b.all=b.every;b.sortBy=function(a,c,d){b.map(a,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);d(null,h(b.sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),function(a){return a.value}))})};b.auto=function(a,d){var d=d||function(){},e=c(a),f=e.length;if(!f)return d();var g={},h=[],j=function(a){h.unshift(a)},k=function(){f--;i(h.slice(0),
function(a){a()})};j(function(){if(!f){var a=d;d=function(){};a(null,g)}});i(e,function(e){var f=l(a[e])?a[e]:[a[e]],m=function(a){var f=Array.prototype.slice.call(arguments,1);f.length<=1&&(f=f[0]);if(a){var h={};i(c(g),function(a){h[a]=g[a]});h[e]=f;d(a,h);d=function(){}}else{g[e]=f;b.setImmediate(k)}},r=f.slice(0,Math.abs(f.length-1))||[],u=function(){return o(r,function(a,b){return a&&g.hasOwnProperty(b)},true)&&!g.hasOwnProperty(e)};if(u())f[f.length-1](m,g);else{var F=function(){if(u()){var a=
F,b=0;a:for(;b<h.length;b=b+1)if(h[b]===a){h.splice(b,1);break a}f[f.length-1](m,g)}};j(F)}})};b.retry=function(a,c,d){var e=[];if(typeof a==="function"){d=c;c=a;a=5}var a=parseInt(a,10)||5,f=function(f,g){for(var h=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},g)}};a;)e.push(h(c,!(a=a-1)));b.series(e,function(a,b){b=b[b.length-1];(f||d)(b.err,b.result)})};return d?f():f};b.waterfall=function(a,c){c=c||function(){};if(!l(a))return c(Error("First argument to waterfall must be an array of functions"));
if(!a.length)return c();var d=function(a){return function(e){if(e){c.apply(null,arguments);c=function(){}}else{var f=Array.prototype.slice.call(arguments,1),g=a.next();g?f.push(d(g)):f.push(c);b.setImmediate(function(){a.apply(null,f)})}}};d(b.iterator(a))()};var t=function(a,b,d){d=d||function(){};if(l(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]);b.call(null,a,c)})},d);else{var e={};a.each(c(b),function(a,c){b[a](function(b){var d=
Array.prototype.slice.call(arguments,1);d.length<=1&&(d=d[0]);e[a]=d;c(b)})},function(a){d(a,e)})}};b.parallel=function(a,c){t({map:b.map,each:b.each},a,c)};b.parallelLimit=function(a,b,c){t({map:m(b,s),each:d(b)},a,c)};b.series=function(a,d){d=d||function(){};if(l(a))b.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]);b.call(null,a,c)})},d);else{var e={};b.eachSeries(c(a),function(b,c){a[b](function(a){var d=Array.prototype.slice.call(arguments,
1);d.length<=1&&(d=d[0]);e[b]=d;c(a)})},function(a){d(a,e)})}};b.iterator=function(a){var b=function(c){var d=function(){a.length&&a[c].apply(null,arguments);return d.next()};d.next=function(){return c<a.length-1?b(c+1):null};return d};return b(0)};b.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};r=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]);b(a)})},function(a){d(a,
e)})};b.concat=k(r);b.concatSeries=j(r);b.whilst=function(a,c,d){a()?c(function(e){if(e)return d(e);b.whilst(a,c,d)}):d()};b.doWhilst=function(a,c,d){a(function(e){if(e)return d(e);var f=Array.prototype.slice.call(arguments,1);c.apply(null,f)?b.doWhilst(a,c,d):d()})};b.until=function(a,c,d){a()?d():c(function(e){if(e)return d(e);b.until(a,c,d)})};b.doUntil=function(a,c,d){a(function(e){if(e)return d(e);var f=Array.prototype.slice.call(arguments,1);c.apply(null,f)?d():b.doUntil(a,c,d)})};b.queue=function(c,
d){function e(a,c,d,f){if(!a.started)a.started=true;l(c)||(c=[c]);if(c.length==0)return b.setImmediate(function(){a.drain&&a.drain()});i(c,function(c){c={data:c,callback:typeof f==="function"?f:null};d?a.tasks.unshift(c):a.tasks.push(c);a.saturated&&a.tasks.length===a.concurrency&&a.saturated();b.setImmediate(a.process)})}d===void 0&&(d=1);var f=0,g={tasks:[],concurrency:d,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(a,b){e(g,a,false,b)},kill:function(){g.drain=null;
g.tasks=[]},unshift:function(a,b){e(g,a,true,b)},process:function(){if(!g.paused&&f<g.concurrency&&g.tasks.length){var b=g.tasks.shift();g.empty&&g.tasks.length===0&&g.empty();f=f+1;var d=a(function(){f=f-1;b.callback&&b.callback.apply(b,arguments);g.drain&&g.tasks.length+f===0&&g.drain();g.process()});c(b.data,d)}},length:function(){return g.tasks.length},running:function(){return f},idle:function(){return g.tasks.length+f===0},pause:function(){if(g.paused!==true)g.paused=true},resume:function(){if(g.paused!==
false){g.paused=false;for(var a=1;a<=g.concurrency;a++)b.setImmediate(g.process)}}};return g};b.priorityQueue=function(a,c){function d(a,b){return a.priority-b.priority}function e(a,b,c){for(var d=-1,f=a.length-1;d<f;){var g=d+(f-d+1>>>1);c(b,a[g])>=0?d=g:f=g-1}return d}function f(a,c,g,h){if(!a.started)a.started=true;l(c)||(c=[c]);if(c.length==0)return b.setImmediate(function(){a.drain&&a.drain()});i(c,function(c){c={data:c,priority:g,callback:typeof h==="function"?h:null};a.tasks.splice(e(a.tasks,
c,d)+1,0,c);a.saturated&&a.tasks.length===a.concurrency&&a.saturated();b.setImmediate(a.process)})}var g=b.queue(a,c);g.push=function(a,b,c){f(g,a,b,c)};delete g.unshift;return g};b.cargo=function(a,c){var d=false,e=[],f={tasks:e,payload:c,saturated:null,empty:null,drain:null,drained:true,push:function(a,d){l(a)||(a=[a]);i(a,function(a){e.push({data:a,callback:typeof d==="function"?d:null});f.drained=false;f.saturated&&e.length===c&&f.saturated()});b.setImmediate(f.process)},process:function v(){if(!d)if(e.length===
0){f.drain&&!f.drained&&f.drain();f.drained=true}else{var b=typeof c==="number"?e.splice(0,c):e.splice(0,e.length),g=h(b,function(a){return a.data});f.empty&&f.empty();d=true;a(g,function(){d=false;var a=arguments;i(b,function(b){b.callback&&b.callback.apply(null,a)});v()})}},length:function(){return e.length},running:function(){return d}};return f};r=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,
1);typeof console!=="undefined"&&(b?console.error&&console.error(b):console[a]&&i(c,function(b){console[a](b)}))}]))}};b.log=r("log");b.dir=r("dir");b.memoize=function(a,c){var d={},e={},c=c||function(a){return a},f=function(){var f=Array.prototype.slice.call(arguments),g=f.pop(),h=c.apply(null,f);if(h in d)b.nextTick(function(){g.apply(null,d[h])});else if(h in e)e[h].push(g);else{e[h]=[g];a.apply(null,f.concat([function(){d[h]=arguments;var a=e[h];delete e[h];for(var b=0,c=a.length;b<c;b++)a[b].apply(null,
arguments)}]))}};f.memo=d;f.unmemoized=a;return f};b.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}};b.times=function(a,c,d){for(var e=[],f=0;f<a;f++)e.push(f);return b.map(e,c,d)};b.timesSeries=function(a,c,d){for(var e=[],f=0;f<a;f++)e.push(f);return b.mapSeries(e,c,d)};b.seq=function(){var a=arguments;return function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();b.reduce(a,d,function(a,b,d){b.apply(c,a.concat([function(){var a=arguments[0],
b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,b){e.apply(c,[a].concat(b))})}};b.compose=function(){return b.seq.apply(null,Array.prototype.reverse.call(arguments))};r=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};b.applyEach=k(r);b.applyEachSeries=j(r);b.forever=function(a,b){function c(d){if(d){if(b)return b(d);
throw d;}a(c)}c()};"undefined"!==typeof module&&module.exports?module.exports=b:"undefined"!==typeof define&&define.amd?define([],function(){return b}):e.async=b})();steal.executed("js/async.js");"undefined"==typeof AD.util&&(AD.util={});"undefined"==typeof AD.util.string&&function(){AD.util.string={replaceAll:function(a,b,e){b=RegExp(AD.util.string.quoteRegExp(b),"g");return a.replace(b,e)},quoteRegExp:function(a){return a.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1")}}}();steal.executed("appdev/util/string.js");
(function(){"undefined"==typeof AD.config&&(AD.config={});var a={};AD.config.setValue=function(b,e){a[b]=e};AD.config.getValue=function(b){return!a[b]?false:a[b]}})();steal.executed("appdev/config/config.js");"undefined"==typeof AD.util&&(AD.util={});
"undefined"==typeof AD.util.uiScrollbarSize&&function(){var a=null;AD.util.uiScrollbarSize=function(){if(null==a){var b={border:"none",height:"200px",margin:"0",padding:"0",width:"200px"},e=$("<div>").css($.extend({},b)),b=$("<div>").css($.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},b)).append(e).appendTo("body").scrollLeft(1E3).scrollTop(1E3);a={height:b.offset().top-e.offset().top||0,width:b.offset().left-e.offset().left||0};b.remove()}console.error("**** returning scrollbar info: ",
a);return a}}();steal.executed("appdev/util/uiScrollbarSize.js");steal("appdev/config/config.js",function(){var a={authType:"CAS"},b;for(b in a)AD.config.setValue(b,a[b])});steal.executed("appdev/config/data.js");
steal("appdev/comm/hub.js","appdev/comm/socket.js").then(function(){"undefined"==typeof AD.Model&&(AD.Model={Base:{extend:function(c,d,g){var h=o(AD.models_base,c),i=c.split(".").pop();d.findAll=a(d.findAll);d.findOne=b(d.findOne);d.create=e(d.create);d.update=f(d.update);d.destroy=l(d.destroy);var s={model:function(){this.__myModel||(this.__myModel=AD.Model.get(c));return this.__myModel},getID:function(){return this.attr(this.model().fieldId)||"unknown id field"},getLabel:function(){return this.attr(this.model().fieldLabel)||
"unknown label field"}};d.multilingualFields&&(s.translate=function(a){var b=this,a=a||AD.lang.currentLanguage,c=this.model().multilingualFields;this.translations&&this.translations.forEach(function(d){d.language_code==a&&c.forEach(function(a){b.attr(a,d[a])})})});g=$.extend({},s,g);h[i]=can.Model.extend(d,g)},get:function(a){return h(AD.models_base,a)}},clone:function(a){if(a.model){for(var b=a.model(),a=a.attr(),e=["id","createdAt","updatedAt"],f=e.length-1;0<=f;f--)a[e[f]]&&delete a[e[f]];a.translations&&
a.translations.forEach(function(a){for(var c=e.length-1;0<=c;c--)delete a[e[c]];if(b.multilingualFields)for(var f in a)"language_code"!=f&&-1==b.multilingualFields.indexOf(f)&&delete a[f]});return a}console.warn("**** Using AD.Model.clone() on a model without a .model() method!  why?");return a.attr?a.attr():null},extend:function(a,b,e){var f=o(AD.models,a),g=a.split(".").pop();f[g]=AD.Model.Base.get(a).extend(b,e);AD.comm.socket.subscribe(g,function(b,d){var e=h(AD.models,a);if(e)if(e.store[d.id])if("updated"==
d.verb){var f=e.store[d.id].attr(),g=!1,i;for(i in d.data)f[i]!=d.data[i]&&(g=!0);g&&e.store[d.id].attr(d.data)}else(d.verb="destroyed")&&e.store[d.id].destroyed();else"created"==d.verb?(new e(d.data),e.store[d.id]?console.log("model added and stored!"):console.log("model added but NOT stored!")):"updated"==d.verb&&console.log("... ModelUpdate():  received an update about a Model we are not tracking.  IGNORE.");else console.log("!!!  No Model found with namespace:"+a)})},get:function(a){return h(AD.models,
a)}});var a=function(a){if(a){var b=a.split(" "),e=b[0].toLowerCase(),f=b.pop();if(AD.comm.service[e])return function(a,b,c){var d=AD.sal.Deferred();AD.comm.service[e]({url:f,params:a}).fail(function(a){c&&c(a);d.reject(a)}).done(function(a){a=a.data||a;can.isArray(a)||(a=[a]);a={data:a};b&&b(a);d.resolve(a)});return d};console.error("improper findAll verb:"+e)}return a},b=function(a){if(a){var b=a.split(" "),e=b[0].toLowerCase(),f=b.pop();if(AD.comm.service[e])return function(a,b,c){var d=AD.sal.Deferred(),
g=f,h;for(h in a){var i=g,g=AD.util.string.replaceAll(g,"{"+h+"}",a[h]);i!=g&&delete a[h]}AD.comm.service[e]({url:g,params:a}).fail(function(a){c&&c(a);d.reject(a)}).done(function(a){a=a.data||a;b&&b(a);d.resolve(a)});return d};console.error("improper findAll verb:"+e)}return a},e=function(a){if(a){var b=a.split(" "),e=b[0].toLowerCase(),f=b.pop();if(AD.comm.service[e])return function(a,b,c){var d=AD.sal.Deferred(),a=i(a,this);AD.comm.service[e]({url:f,params:a}).fail(function(a){c&&c(a);d.reject(a)}).done(function(a){a=
a.data||a;b&&b(a);d.resolve(a)});return d};console.error("improper findAll verb:"+e)}return a},g=function(a,b){var e=AD.sal.Deferred(),f=a+"/"+b;AD.comm.service.get({url:f}).fail(function(a){e.reject(a)}).done(function(a){var b=[];a.forEach(function(a){b.push(AD.comm.service["delete"]({url:f+"/"+a.id}))});$.when.apply($,b).fail(function(a){e.reject(a)}).done(function(){e.resolve()})});return e},f=function(a){if(a){var b=a.split(" "),e=b[0].toLowerCase(),f=b.pop();if(AD.comm.service[e])return function(a,
b,c,d){var h=this,l=AD.sal.Deferred(),o=AD.util.string.replaceAll(f,"{"+this.fieldId+"}",a);console.log("... provided attributes:",b);b=i(b,this);AD.comm.service[e]({url:o,params:b}).fail(function(a){d&&d(a);l.reject(a)}).done(function(a){var a=a.data||a,e=[];h.associations&&h.associations.forEach(function(c){if(b[c]&&b[c].length==0){e.push(g(o,c));a.attr?a.attr(c,b[c]):a[c]=b[c]}});$.when.apply($,e).fail(function(a){d&&d(a);l.reject(a)}).done(function(){c&&c(a);l.resolve(a)})});return l};console.error("improper findAll verb:"+
e)}return a},l=function(a){if(a){var b=a.split(" "),e=b[0].toLowerCase(),f=b.pop();if(AD.comm.service[e])return function(a){var b=AD.sal.Deferred(),a=AD.util.string.replaceAll(f,"{"+this.fieldId+"}",a);AD.comm.service[e]({url:a,params:{}}).fail(function(a){b.reject(a)}).done(function(a){a=a.data||a;b.resolve(a)});return b};console.error("improper findAll verb:"+e)}return a},i=function(a,b){var e=b.multilingualFields;if(e){var f=a.language_code||AD.lang.currentLanguage,g=function(){var b={};b.language_code=
f;e.forEach(function(d){a[d]&&(b[d]=a[d])});a.translations.push(b)},h=a.translations;if(h){var i=false;h.forEach(function(b){if(b.language_code==f){i=true;e.forEach(function(d){a[d]&&(b.attr?b.attr(d,a[d]):b[d]=a[d])})}});i||g()}else{a.translations=[];g()}}return a},h=function(a,b){var e=b.split("."),f=a;e.forEach(function(a){f==null&&console.error("! current name segment is null.  Check your given name to make sure it is properly given: ",a);if(f){typeof f[a]=="undefined"&&(f=null);f&&(f=f[a])}});
return f},o=function(a,b){var e=b.split(".");e.pop();var f=a;e.forEach(function(a){typeof f[a]=="undefined"&&(f[a]={});f=f[a]});return f}});steal.executed("appdev/model/model.js");
steal("appdev/ad.js","appdev/sal/web-jquery.js","js/dependencies/sails.io.js").then(function(){"undefined"==typeof AD.comm&&(AD.comm={});AD.comm.socket={};AD.comm.socket.get=function(a,b){a.method="get";return f(a,b)};AD.comm.socket.post=function(a,b){a.method="post";return f(a,b)};AD.comm.socket.put=function(a,b){a.method="put";return f(a,b)};AD.comm.socket["delete"]=function(a,b){a.method="delete";return f(a,b)};AD.comm.socket.subscribe=function(f,i){var h=f.split("."),o=h[0].toLowerCase(),c="_all";
h[1]&&(c=h[1].toLowerCase());a[o]||(a[o]={_all:[]});a[o][c]?a[o][c].push(i):a[o][c]=[i];if(!b[o]){if(typeof io!="undefined")io.socket.on(o,function(a){g(o,a)});b[o]=true}e++;return e};var a={},b={},e=0,g=function(b,e){if(a[b]){var f=b+"."+e.verb,g=a[b];g._all.forEach(function(a){a(f,e)});var c=[],d;for(d in e)c.push(e[d]);for(var k in g){var m=b+"."+k;c.indexOf(k)!=-1&&g[k].forEach(function(a){a(m,e)});if(AD.ui.jQuery.isNumeric(k)){d=parseFloat(k);c.indexOf(d)!=-1&&g[k].forEach(function(a){a(m,e)})}}}},
f=function(a){var b=AD.sal.Deferred();if(!a.method)a.method="post";if(typeof io!="undefined")io.socket[a.method](a.url,a.params,function(e,f){console.log("AD.comm.socket."+a.method+"() response:");console.log(e);console.log("jwres:");console.log(f);if(f.statusCode>=400)b.reject(Error(f.toString()));else{e=JSON.parse(e);e.status&&(e.status=="error"?b.reject(e.data):b.resolve(e.data))}});return b}});steal.executed("appdev/comm/socket.js");
steal("appdev/comm/hub.js").then(function(){"undefined"==typeof AD.sal&&(AD.sal={});AD.sal.Deferred=function(){return AD.ui.jQuery.Deferred()};AD.sal.http=function(a){return AD.ui.jQuery.ajax(a)};AD.sal.parseJSON=function(a){return AD.ui.jQuery.parseJSON(a)};AD.sal.setImmediate=function(a){setTimeout(a,0)}});steal.executed("appdev/sal/web-jquery.js");
(function(){AD.lang={};AD.lang.currentLanguage="en";AD.lang.setCurrentLanguage=function(a){AD.lang.currentLanguage=a};AD.lang.label={};var a={},b={};AD.lang.label.setLabel=function(b,g,f){f=f||AD.lang.currentLanguage;a[f]||(a[f]={});a[f][b]=g};AD.lang.label.importLabels=function(a){for(var b in a)for(var f in a[b])AD.lang.label.setLabel(f,a[b][f],b)};AD.lang.label.getLabel=function(e,g,f){"[object Array]"!=Object.prototype.toString.call(g)&&(f=g,g=[]);f=f||AD.lang.currentLanguage;if(!a[f])return g=
f,b[g]||("object"==typeof console&&console.log("Warning: language not found ["+g+"]"),b[g]=!0),!1;if(!a[f][e])return!1;e=a[f][e]||e;for(e=e.replace(/%%/g,"\\%\\");g.length&&e.match(/%s/);)e=e.replace(/%s/,g.shift());return e.replace(/\\%\\/g,"%")};AD.lang.label.getLabelSpan=function(a,b,f){return(b=AD.lang.label.getLabel(a,b,f))?"<span "+AD.controllers.Label.constants.keyAttribute+'="'+a+'" >'+b+"</span>":"<span "+AD.controllers.Label.constants.keyAttribute+'="'+a+'" >'+a+"</span>"}})();steal.executed("appdev/labels/lang.js");
steal("can").then(function(){var a=can.Control.extend({constants:{keyAttribute:"app-label-key",langAttribute:"app-label-lang",cssClass:"app-label",jQueryData:"AD-Label"},keylessCreate:function(a){a.html||(a=$(a));var e=a.html();a.attr(this.constants.keyAttribute,e);return this.create(a)},create:function(b){return new a(b)},transform:function(a){var e=$("<span>");a.empty();a.append(e);a.addClass(this.constants.cssClass);return e},defaults:{},collection:[],translateAll:function(a){$.each(this.collection,
function(){this.translate(a)})}},{init:function(a){if((this.labelKey=a.attr(this.constructor.constants.keyAttribute))&&!a.hasClass(this.constructor.constants.cssClass))this.$span=this.constructor.transform(a),this.constructor.collection.push(this),a.data(this.constructor.constants.jQueryData,this),this.translate()},destroy:function(){var a=this.constructor.collection.indexOf(this);0<=a&&this.constructor.collection.splice(a,1);can.Control.prototype.destroy.call(this)},translate:function(a){var a=a||
AD.lang.currentLanguage,e=AD.lang.label.getLabel(this.labelKey,a);!1===e&&(e="["+this.labelKey+"]");this.$span.html(e);this.element.attr(this.constructor.constants.langAttribute,a)},"AD.label.translate subscribe":function(a){this.translate(a)}});AD.controllers.Label=a});steal.executed("appdev/labels/label.js");
steal("appdev/ad.js","appdev/sal/web-jquery.js","appdev/comm/hub.js","appdev/auth/reauth.js").then(function(){(function(){var a={token:null,fetch:function(){var b=AD.sal.Deferred();AD.sal.http({type:"GET",url:"/csrfToken",dataType:"json",cache:!1}).done(function(e){a.token=e._csrf;b.resolve(a.token)}).fail(function(a,e,g){a=Error("Unable to get CSRF token: "+g.message);console.log(a);b.reject(a)});return b}};"undefined"==typeof AD.comm&&(AD.comm={});AD.comm.csrf=function(){var b=AD.sal.Deferred();
a.token?b.resolve(a.token):a.fetch().done(function(){b.resolve(a.token)}).fail(b.reject);return b};AD.comm.service={};AD.comm.service.get=function(a,b){a.method="GET";return g(a,b)};AD.comm.service.post=function(a,b){a.method="POST";return g(a,b)};AD.comm.service.put=function(a,b){a.method="PUT";return g(a,b)};AD.comm.service["delete"]=function(a,b){a.method="DELETE";return g(a,b)};var b=[],e=function(a){g(a.opts,function(b,e){a.cb&&a.cb(b,e);b?a.dfd.reject(b):a.dfd.resolve(e)})},g=function(f,l){var i=
AD.sal.Deferred(),h=true;f.sync&&(h=false);f.method=f.method||"POST";if(!f.params&&f.data)f.params=f.data;if(!a.token&&f.method!="GET"){a.fetch().done(function(){g(f,l).done(i.resolve).fail(i.reject)}).fail(i.reject);return i}if(AD.ui.reauth.inProgress()){b.push({opts:f,cb:l,dfd:i});return i}var o=function(a){if(a.id==5){b.push({opts:f,cb:l,dfd:i});AD.ui.reauth.start().done(function(){for(var a;a=b.shift();)e(a)})}else{AD.comm.hub.publish("ad.err.notification",a);l&&l(a);i.reject(a)}};AD.sal.http({async:h,
url:f.url,type:f.method,contentType:f.contentType,dataType:"json",data:f.params,headers:{"X-CSRF-Token":a.token},cache:false}).fail(function(b){if(b.responseText.toLowerCase().indexOf("csrf")!=-1){a.token=null;g(f,l).done(i.resolve).fail(i.reject)}else{b=AD.sal.parseJSON(b.responseText);if("object"==typeof b&&b!=null&&"undefined"!=typeof b.status)o(b);else{AD.comm.hub.publish("ad.err.notification",b);l&&l(b);i.reject(b)}}}).done(function(a){if(a.status&&a.status=="error")o(a);else{if(a.status&&a.status==
"success")a=a.data;l&&l(null,a);i.resolve(a)}});return i}})()});steal.executed("appdev/comm/service.js");
steal("appdev/widgets/ad_ui_reauth").then(function(){"undefined"==typeof AD.ui&&(AD.ui={});AD.ui.reauth={init:function(){this.reauthenticating=false;this.widget=new AD.widgets.ad_ui_reauth;this.dfd=null},inProgress:function(){return this.reauthenticating?true:false},start:function(){if(!this.reauthenticating){this.reauthenticating=true;this.widget.show();this.dfd=AD.sal.Deferred()}return this.dfd},end:function(){this.reauthenticating=false;this.widget.hide();this.dfd.resolve()}};AD.ui.reauth.init()});
steal.executed("appdev/auth/reauth.js");
steal("appdev/ad.js","can","appdev/widgets/ad_ui_reauth/ad_ui_reauth.css","appdev/widgets/ad_icon_busy","//appdev/widgets/ad_ui_reauth/reauth_local.ejs","//appdev/widgets/ad_ui_reauth/reauth_cas.ejs",function(){AD.widgets.ad_ui_reauth=can.Control.extend({init:function(){this.authType=AD.config.getValue("authType");this.html=("local"==this.authType?can.view("//appdev/widgets/ad_ui_reauth/reauth_local.ejs",{}):can.view("//appdev/widgets/ad_ui_reauth/reauth_cas.ejs",{})).firstChild.innerHTML},show:function(){this.element=
$(this.html);this.element.find("[translate]").each(function(){AD.controllers.Label.keylessCreate(this)});"CAS"!=this.authType&&(this.busyIcon=new AD.widgets.ad_icon_busy(this.element.find(".busy-icon")));this.element.modal({backdrop:"static",keyboard:!1,show:!0})},hide:function(){var a=this.element.get(0).contentWindow;a&&!a.closed&&(a.open("about:blank","_self",""),a.close());this.element.modal("hide");this.element.remove()},"button.login click":function(){var a=this;a.busyIcon.show();a.find(".alert").hide();
AD.comm.service.post({url:"/site/login",data:{username:a.element.find("#username"),password:a.element.find("#password")}}).fail(function(b){b=b||{};b=b.message||"Error";a.find(".alert").text(b).show()}).done(function(){AD.ui.reauth.end()}).always(function(){a.busyIcon.hide()})},"#password keypress":function(a){(13==a.keyCode||10==a.keyCode||3==a.keyCode)&&this.element.find("button.login").trigger("click")}})});steal.executed("appdev/widgets/ad_ui_reauth/ad_ui_reauth.js");
steal("can","appdev/widgets/ad_icon_busy/ad_icon_busy.css",function(){AD.widgets.ad_icon_busy=can.Control.extend({init:function(a,b){this.options=AD.defaults({width:16,height:16,inline:!0,show:!1,style:"circleball",color:"black"},b);this.div=null;this.element.is("div")?this.div=this.element:(this.div=$("<div>"),this.element.append(this.div));this.div.addClass("hidden");var e="ad-icon-busy",g={circleball:{black:1,white:1},arrow:{black:1,white:1},circle:{grey:1}};if(g[this.options.style])if(e+="-"+
this.options.style,g[this.options.style][this.options.color])e+="-"+this.options.color;else{console.warn("ad_icon_busy: unknown color:"+this.options.color);for(var f in g[this.options.style])break;console.warn("defaulting to color:"+f);e+="-"+f}else console.warn("ad_icon_busy: unknown style:"+this.options.style),e+="-circleball-black";this.div.hasClass("ad-icon-busy")||this.div.addClass("ad-icon-busy");this.options.inline&&this.div.addClass("ad-icon-busy-inline");this.div.addClass(e);this.options.show&&
(this.div.show(),this.div.removeClass("hidden"))},show:function(){this.div.removeClass("hidden")},hide:function(){this.div.addClass("hidden")}})});steal.executed("appdev/widgets/ad_icon_busy/ad_icon_busy.js");
steal("can/view","can/view/ejs",function(a){return a.view.preloadStringRenderer("appdev_widgets_ad_ui_reauth_reauth_local_ejs",a.EJS(function(a,e){with(e)with(a){var g=[];g.push('<div>\n    <div id="appDev-formLogin" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h4 class="modal-title" translate=1>Re-login required</h4>\n                    <div class="busy-icon"></div>\n                </div>\n                <div class="modal-body">\n                    <form role="form">\n                      <div class="form-group">\n                        <label for="username" translate=1>Username</label>\n                        <input type="text" class="form-control" id="username">\n                      </div>\n                      <div class="form-group">\n                        <label for="password" translate=1>Password</label>\n                        <input type="password" class="form-control" id="password">\n                      </div>\n                    </form>\n                    \n                    <div class="alert alert-danger" role="alert">\n                    </div>\n                    \n                </div>\n                \n                <div class="modal-footer">\n                      <button type="button" class="btn btn-default login" translate=1>Submit</button>\n                </div>\n                \n            </div>\n        </div>\n    </div>\n    \n</div>');return g.join("")}}))});
steal.executed("appdev/widgets/ad_ui_reauth/reauth_local.ejs");
steal("can/view","can/view/ejs",function(a){return a.view.preloadStringRenderer("appdev_widgets_ad_ui_reauth_reauth_cas_ejs",a.EJS(function(a,e){with(e)with(a){var g=[];g.push('<div>\n    <div id="appDev-formLogin" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h4 class="modal-title" translate=1>Re-login required</h4>\n                </div>\n                <div class="modal-body">\n                    <div class="cas"><iframe src="/site/login-done"></iframe></div>\n                    <\!-- "/site/login-done" page will call AD.ui.reauth.end() when ready. --\>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</div>');return g.join("")}}))});
steal.executed("appdev/widgets/ad_ui_reauth/reauth_cas.ejs");
steal("jquery","can",function(){AD.classes.UIController=can.Control.extend({},{domToString:function(a){return $("<div>").append(a.clone()).html()},domToTemplate:function(a){0==a.length&&console.error("domToTemplate(): no $el found. ");a.find(".mockup").remove();var b=a.html();""!=b&&([{from:"<\!--",to:"<%"},{from:"--\>",to:"%>"},{from:"[[=",to:"<%="},{from:"]]",to:"%>"}].forEach(function(a){b=AD.util.string.replaceAll(b,a.from,a.to)}),b=b.replace(/obj-embed="(\w+)"/g,function(a,b){return"<%= (el) -> can.data(el, '"+
b+"', "+b+") %>"}));return b},entryForID:function(a,b){for(var b=parseInt(b),e=a.length-1;0<=e;e--)if(a[e].id&&a[e].id==b)return a[e];return null},indexForID:function(a,b){var e=this.entryForID(a,b);return e?a.indexOf(e):-1},hide:function(){this.element.hide()},show:function(){this.element.show()},init:function(a){this.labels=[];var b=this;a.find("["+AD.controllers.Label.constants.keyAttribute+"]").each(function(){b.labels.push(new AD.controllers.Label($(this)))})},translateLabels:function(a){$.each(this.labels,
function(){this.translate(a)})}})});steal.executed("appdev/UIController.js");
steal("appdev/UIController.js",function(){"undefined"==typeof AD.Control&&(AD.Control={extend:function(a,e,g){var a=a.split("."),f=a.pop(),l=AD.controllers;a.forEach(function(a){"undefined"==typeof l[a]&&(l[a]={});l=l[a]});l[f]=AD.classes.UIController.extend(e,g)},get:function(b){return a(AD.controllers,b)},"new":function(b,e,g){new (a(AD.controllers,b))(e,g)}});var a=function(a,e){var g=e.split("."),f=a;g.forEach(function(a){typeof f[a]=="undefined"&&(f=null);f&&(f=f[a])});return f}});steal.executed("appdev/control/control.js");
steal.popPending();
